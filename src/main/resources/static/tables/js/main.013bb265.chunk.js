(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"tables/media/logo.80386da4.svg"},113:function(e,t,a){e.exports={root:"Header_root__jYKeV",rootLight:"Header_rootLight__2GBOt",logo:"Header_logo__2chfj",toggleSidebarNav:"Header_toggleSidebarNav__QP13q",navbarFloatingType:"Header_navbarFloatingType__HCmd4",circleStyle:"Header_circleStyle__SFSam",emailStyle:"Header_emailStyle__umVIw",navbarForm:"Header_navbarForm__3dnGQ",inputAddon:"Header_inputAddon__182su",chatNotification:"Header_chatNotification__1bS-2",chatNotificationInner:"Header_chatNotificationInner__mOvsx",text:"Header_text__3-lMb",title:"Header_title__3Fr4R",navbarBrand:"Header_navbarBrand__3a6bB",notificationsMenu:"Header_notificationsMenu__1ntKQ",notificationsWrapper:"Header_notificationsWrapper__3PZXk",avatar:"Header_avatar__CloAo",headerSearchInput:"Header_headerSearchInput__aXz7L",headerSearchInputLight:"Header_headerSearchInputLight__3GjFV",chatNotificationInit:"Header_chatNotificationInit__1jHCg",adminEmail:"Header_adminEmail__2ggzh",fullVersionBtn:"Header_fullVersionBtn__1DbRm"}},114:function(e,t,a){e.exports={restoreTable:"RestoreRoleModal_restoreTable__1frzg",tableRow:"RestoreRoleModal_tableRow__1XKwI"}},115:function(e,t,a){e.exports={restoreTable:"RestoreViolationModal_restoreTable__2Ubx8",tableRow:"RestoreViolationModal_tableRow__2-4pd"}},116:function(e,t,a){e.exports={restoreTable:"RestoreFoodTypeModal_restoreTable__3ehnu",tableRow:"RestoreFoodTypeModal_tableRow__3ayhe"}},117:function(e,t,a){e.exports={restoreTable:"RestoreTableModal_restoreTable__2WXjp",tableRow:"RestoreTableModal_tableRow__37FwJ"}},118:function(e,t,a){e.exports={authForm:"Login_authForm__3hEiQ",bgLogo:"Login_bgLogo__jxw8q"}},145:function(e,t,a){e.exports=a.p+"tables/media/Arrow 5.d92daa82.svg"},147:function(e,t,a){e.exports=a.p+"tables/media/tables.7ea18898.svg"},148:function(e,t,a){e.exports=a.p+"tables/media/ui-elements.300b3ba5.svg"},149:function(e,t,a){e.exports={sortIcon:"CustomTable_sortIcon__1tDHR"}},150:function(e,t,a){e.exports={actions:"ShiftsModal_actions__dw6Zf"}},151:function(e,t,a){e.exports={restoreTable:"RestoreAreaModal_restoreTable__15g83",tableRow:"RestoreAreaModal_tableRow__27xbR"}},189:function(e,t,a){e.exports=a.p+"tables/media/error-page-img.ba6ab3b2.svg"},195:function(e,t,a){e.exports=a.p+"tables/media/usersImg.45bb36d4.svg"},196:function(e,t,a){e.exports=a.p+"tables/media/smileImg.013ee8fb.svg"},197:function(e,t,a){e.exports=a.p+"tables/media/total-sale.1983cf5b.svg"},198:function(e,t,a){e.exports=a.p+"tables/media/orders.ceb4c09c.svg"},199:function(e,t,a){e.exports=a.p+"tables/media/stocksDown.0fb6db63.svg"},200:function(e,t,a){e.exports={root:"Loader_root__1Zahf"}},202:function(e,t,a){e.exports=a.p+"tables/media/widget-menu.b9ed4545.svg"},206:function(e,t,a){e.exports={notifications:"Notifications_notifications__3TPbp",notificationsAccount:"Notifications_notificationsAccount__11_rk",cardHeader:"Notifications_cardHeader__1SbXr",cardFooter:"Notifications_cardFooter__229Iq",btnNotificationsReload:"Notifications_btnNotificationsReload__3DoxT"}},207:function(e,t,a){e.exports=a.p+"tables/media/Arrow 6.4276c0d5.svg"},208:function(e,t,a){e.exports=a.p+"tables/media/caret.733b4476.svg"},209:function(e,t,a){e.exports=a.p+"tables/media/caret-active.3ca0b1e1.svg"},211:function(e,t,a){e.exports=a.p+"tables/media/light-dashboard.88f555d5.svg"},212:function(e,t,a){e.exports=a.p+"tables/media/Typography.1e823918.svg"},213:function(e,t,a){e.exports=a.p+"tables/media/E-commerce_outlined.d15cf9e3.svg"},214:function(e,t,a){e.exports=a.p+"tables/media/Documentation_outlined.f9483997.svg"},215:function(e,t,a){e.exports=a.p+"tables/media/Forms_outlined.3c7fcbb8.svg"},216:function(e,t,a){e.exports=a.p+"tables/media/Grid_outlined.9a053915.svg"},217:function(e,t,a){e.exports=a.p+"tables/media/Package_outlined.a27e25b6.svg"},218:function(e,t,a){e.exports={root:"Charts_root__1q-gi"}},219:function(e,t,a){e.exports={paginationContainer:"TablePagination_paginationContainer__d6WXg"}},22:function(e,t,a){e.exports={root:"Sidebar_root__1SdA-",logo:"Sidebar_logo__3jYbm",logoStyle:"Sidebar_logoStyle__SwDdx",navItems:"Sidebar_navItems__3ygVG",sidebarWrapper:"Sidebar_sidebarWrapper__1Auuk",sidebarClose:"Sidebar_sidebarClose__2ucE_",staticSidebar:"Sidebar_staticSidebar__zO84A",nav:"Sidebar_nav__250ft",sidebarIcon:"Sidebar_sidebarIcon__1-Sms",downNav:"Sidebar_downNav__3lj4N",navTitle:"Sidebar_navTitle__tymlW",actionLink:"Sidebar_actionLink__3Fbi0",labelName:"Sidebar_labelName__1jSEq",glyphiconSm:"Sidebar_glyphiconSm__2z8_k",sidebarLabels:"Sidebar_sidebarLabels__3ZTgd",sidebarAlerts:"Sidebar_sidebarAlerts__1r6rx",sidebarAlert:"Sidebar_sidebarAlert__2goJ5",sidebarProgress:"Sidebar_sidebarProgress__2qmU7",groupTitle:"Sidebar_groupTitle__RGP5g"}},228:function(e,t,a){e.exports=a(392)},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},33:function(e,t,a){e.exports={headerLink:"LinksGroup_headerLink__b6Rlr",icon:"LinksGroup_icon__1MwyE",badge:"LinksGroup_badge__4QPp7",headerNode:"LinksGroup_headerNode__1U6ZW",headerUpdate:"LinksGroup_headerUpdate__3Uyxm",headerLinkActive:"LinksGroup_headerLinkActive__3yIwz",headerLabel:"LinksGroup_headerLabel__2sNxr",collapsed:"LinksGroup_collapsed__3TaxY",activeCaret:"LinksGroup_activeCaret__2WP31",caret:"LinksGroup_caret__2axUN",panel:"LinksGroup_panel__30K34"}},35:function(e,t,a){e.exports={title:"Widget_title__szUl1",reloading:"Widget_reloading__2r0qU",widgetBackground:"Widget_widgetBackground__2Xh__",widget:"Widget_widget__2Lc_W",widgetBody:"Widget_widgetBody__3KIF-",widgetControls:"Widget_widgetControls__INNwB",widgetCollapsing:"Widget_widgetCollapsing__NXMqv",customControlItem:"Widget_customControlItem__IbeiO",inverse:"Widget_inverse__m5Hlx",widgetLoader:"Widget_widgetLoader__2zkEi"}},36:function(e,t,a){e.exports={root:"Dashboard_root__ODOmV",dashboardBlock:"Dashboard_dashboardBlock__XyoL0",dailyLineChart:"Dashboard_dailyLineChart__1tIR5",pieElements:"Dashboard_pieElements__j7Wav",pieElementsDanger:"Dashboard_pieElementsDanger__1Pkx5",pieElementsWarning:"Dashboard_pieElementsWarning__2Qup_",pieElementsBlack:"Dashboard_pieElementsBlack__3smEp",dashboardImg:"Dashboard_dashboardImg__3U81X",row:"Dashboard_row__W6oRi",table:"Dashboard_table__1l5c6"}},377:function(e,t,a){},378:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),o=a(31);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(44),s=a(10),u=a(5),m=a.n(u),d=a(11),h="https://superpig-restaurant.herokuapp.com",p="".concat(h,"/api/").concat("v1"),f=a(13),b=a.n(f),g=function(e){return b()({method:"post",url:"".concat(h,"/login"),data:e,withCredentials:!0})},E=function(){return b.a.get("".concat(h,"/clear-cookie"),{withCredentials:!0})},v="LOGIN_SUCCESS",O="LOGIN_REFRESH",y="LOGIN_FAILURE",j="LOGIN_RETRY",k="LOGOUT_SUCCESS",N=function(){return E(),{type:k}},w=a(187),x={isAuthenticated:!1,role:"",staffId:"",username:"",initApp:!0,shouldRetry:!1},C=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h,"/refresh"),{withCredentials:!0});case 3:t=e.sent,V.dispatch({type:O,payload:t.data.token}),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("L\xe0m m\u1edbi \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i"),n=null===(a=e.t0.response)||void 0===a?void 0:a.status,r=400!==n&&401!==n,V.dispatch({type:r?j:y});case 13:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),S=function(){return delete b.a.defaults.headers.common.Authorization,Object(s.a)({},x,{initApp:!1})},T=function(e){var t=Object(w.a)(e);return function(e){b.a.defaults.headers.common.Authorization=e}(e),{isAuthenticated:!0,username:t.username,role:t.role,staffId:t.staffId,initApp:!1,shouldRetry:!1}},_=null,D=function(){_&&clearTimeout(_)},I=function(e){D(),_=setTimeout(function(){C()},1e3*e)};C();var A="TOGGLE_SIDEBAR",L="OPEN_SIDEBAR",B="CLOSE_SIDEBAR",R="CHANGE_ACTIVE_SIDEBAR_ITEM";function P(){return{type:A}}function F(){return{type:L}}function M(){return{type:B}}function H(e){return{type:R,activeItem:e}}var G={sidebarOpened:!0,sidebarStatic:!1,activeItem:window.location.pathname};var q=a(29),K="DISMISS_ALERT";var W={alertsList:[{id:0,title:"Sales Report",value:16,color:"primary",footer:"Calculating x-axis bias... 65%"},{id:1,title:"Personal Responsibility",value:23,color:"danger",footer:"Provide required notes"}]};var Y=Object(i.c)({alerts:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case K:return t.alertsList.forEach(function(t,n){t.id===a.id&&(e=n)}),Object.assign({},t,{alertsList:[].concat(Object(q.a)(t.alertsList.slice(0,e)),Object(q.a)(t.alertsList.slice(e+1)))});default:return t}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case O:return I(540),T(t.payload);case j:return I(30),Object(s.a)({},e,{initApp:!1,shouldRetry:!0});case y:case k:return E(),D(),S();default:return e}},navigation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(s.a)({},e,{sidebarOpened:!e.sidebarOpened});case L:return Object.assign({},e,{sidebarOpened:!0});case B:return Object.assign({},e,{sidebarOpened:!1});case R:return Object(s.a)({},e,{activeItem:t.activeItem});default:return e}}}),Q={},U=[a(188).a],z=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),V=window.navigator.userAgent.includes("Chrome")&&z?Object(i.e)(Y,Q,Object(i.d)(i.a.apply(void 0,U),z)):Object(i.e)(Y,Q,Object(i.d)(i.a.apply(void 0,U))),X=a(24),Z=a(25),J=a(27),$=a(26),ee=a(28),te=a(438),ae=a(98),ne=a(226),re=a(441),le=a(42),ce=a(400),oe=a(76),ie=a.n(oe),se=a(189),ue=a.n(se),me=function(e){function t(){return Object(X.a)(this,t),Object(J.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:ie.a.errorPage},r.a.createElement(ce.a,null,r.a.createElement("img",{src:ue.a,alt:"error"}),r.a.createElement("div",{className:"".concat(ie.a.errorContainer)},r.a.createElement("h1",{className:ie.a.errorInfo},"404"),r.a.createElement("p",{className:ie.a.errorHelp},"We\u2019re working on it and we\u2019ll get it fixed as soon as possible."),r.a.createElement("p",{className:ie.a.errorHelp},"You can back or use our Help Center"))))}}]),t}(r.a.Component),de=a(21),he=a(19),pe=a(112),fe=a(204),be=a(225),ge=a(408),Ee=a(409),ve=a(195),Oe=a.n(ve),ye=a(196),je=a.n(ye),ke=a(197),Ne=a.n(ke),we=a(198),xe=a.n(we),Ce=a(57),Se=a.n(Ce),Te=a(199),_e=a.n(Te),De={primary:"#005792",secondary:"#798892",success:"#81D4BB",info:"#4DC7DF",warning:"#FFBF69",danger:"#FF7769",inverse:"#002B49",textColor:"#495057",gray:"#D7DFE6"},Ie=De.danger,Ae=De.warning,Le={apex:{column:{series:[{data:[300,280,280,230,190,270,290,230,260,290,300,250,270]}],options:{chart:{height:350,type:"bar",toolbar:{show:!1}},colors:[De.inverse,De.primary,De.info,De.success,Ae,Ie,"#EC2A00","#FF8C22"],plotOptions:{bar:{columnWidth:"30%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{labels:{show:!1}},yaxis:{show:!1,labels:{show:!1}},grid:{padding:{left:0,right:0},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}}}},pie:{series:[25,2,15],options:{chart:{type:"donut"},colors:[Ae,"#323232",Ie],labels:["On progress","Canceled","Booked"],stroke:{show:!1,width:0},plotOptions:{pie:{donut:{size:"45%"}}},legend:{show:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}}},Be=a(38),Re=a(440),Pe=a(35),Fe=a.n(Pe),Me=a(9),He=a.n(Me),Ge=a(200),qe=a.n(Ge),Ke=function(e){function t(){return Object(X.a)(this,t),Object(J.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:He()(qe.a.root,this.props.className)},r.a.createElement("i",{className:"la la-spinner la-spin",style:{fontSize:this.props.size}}))}}]),t}(r.a.Component);Object(he.a)(Ke,"defaultProps",{size:21});var We=Ke,Ye=a(201),Qe=a.n(Ye),Ue=a(401),ze=a(402),Ve=a(403),Xe=a(404),Ze=a(442),Je=a(405),$e=a(406),et=a(407),tt=a(203),at=a(202),nt=a.n(at),rt=function(e){function t(e){var a;return Object(X.a)(this,t),a=Object(J.a)(this,Object($.a)(t).call(this,e)),Object(he.a)(Object(de.a)(a),"toggleModal",function(){a.setState({modal:!a.state.modal})}),Object(he.a)(Object(de.a)(a),"handleClose",function(){a.setState({hideWidget:!a.state.hideWidget})}),Object(he.a)(Object(de.a)(a),"handleCollapse",function(){var e=a.state.collapseWidget?"auto":0;a.setState({height:e,collapseWidget:!a.state.collapseWidget,reloading:!1})}),Object(he.a)(Object(de.a)(a),"closeWithModal",function(){a.toggleModal(),a.handleClose()}),Object(he.a)(Object(de.a)(a),"handleExpand",function(){a.setState({height:"auto",collapseWidget:!1})}),Object(he.a)(Object(de.a)(a),"handleReload",function(){var e=a.props,t=e.widgetType,n=e.updateWidgetData;t&&n(t),a.setState({reloading:!0});setTimeout(function(){return a.setState({reloading:!1})},2e3)}),Object(he.a)(Object(de.a)(a),"handleFullscreen",function(){a.setState({fullscreened:!a.state.fullscreened})}),a.state={randomId:Qe()(),hideWidget:!1,collapseWidget:!!e.collapsed,height:e.collapsed?0:"auto",fullscreened:!1,reloading:!1,modal:!1,apiData:""},a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.className,n=e.children,l=e.close,c=e.fullscreen,o=e.collapse,i=e.refresh,s=e.settings,u=e.settingsInverse,m=e.tooltipPlacement,d=e.showTooltip,h=e.bodyClass,p=e.customControls,f=e.customClose,b=(e.customExpand,e.customCollapse),g=e.customFullscreen,E=e.customReload,v=e.fetchingData,O=e.customDropDown,y=e.customBody,j=e.prompt,k=(e.collapsed,e.widgetType,e.updateWidgetData,e.options,Object(Be.a)(e,["title","className","children","close","fullscreen","collapse","refresh","settings","settingsInverse","tooltipPlacement","showTooltip","bodyClass","customControls","customClose","customExpand","customCollapse","customFullscreen","customReload","fetchingData","customDropDown","customBody","prompt","collapsed","widgetType","updateWidgetData","options"])),N=!!(l||c||o||i||s||u),w=this.state,x=w.reloading,C=w.fullscreened,S=w.randomId,T=w.hideWidget,_=w.collapseWidget,D=w.modal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",Object.assign({style:{display:T?"none":""},className:He()("widget",{fullscreened:!!C,collapsed:!!_},Fe.a.widget,a,x||v?Fe.a.reloading:"")},k),t&&("string"===typeof t?r.a.createElement("h5",{className:Fe.a.title},t):r.a.createElement("header",{className:Fe.a.title},t)),!p&&N&&r.a.createElement("div",{className:"".concat(Fe.a.widgetControls," widget-controls")},s&&r.a.createElement("button",null,r.a.createElement("i",{className:"la la-cog"})),u&&r.a.createElement("button",{className:"bg-gray-transparent ".concat(Fe.a.inverse)},r.a.createElement("i",{className:"la la-cog text-white"})),i&&r.a.createElement("button",{onClick:this.handleReload,id:"reloadId-".concat(S)},"string"===typeof i?r.a.createElement("strong",{className:"text-gray-light"},i):r.a.createElement("i",{className:"la la-refresh"}),d&&r.a.createElement(Re.a,{placement:m,target:"reloadId-".concat(S)},"Reload")),c&&r.a.createElement("button",{onClick:this.handleFullscreen,id:"fullscreenId-".concat(S)},r.a.createElement("i",{className:"glyphicon glyphicon-resize-".concat(C?"small":"full")}),d&&r.a.createElement(Re.a,{placement:m,target:"fullscreenId-".concat(S)},"Fullscreen")),!C&&o&&r.a.createElement("span",null,r.a.createElement("button",{onClick:this.handleCollapse,id:"collapseId-".concat(S)},r.a.createElement("i",{className:"la la-angle-".concat(_?"up":"down")}),d&&r.a.createElement(Re.a,{placement:m,target:"collapseId-".concat(S)},"Collapse"))),!C&&(l&&!j?r.a.createElement("button",{onClick:this.handleClose,id:"closeId-".concat(S)},"string"===typeof l?r.a.createElement("strong",{className:"text-gray-light"},l):r.a.createElement("i",{className:"la la-remove"}),d&&r.a.createElement(Re.a,{placement:m,target:"closeId-".concat(S)},"Close")):r.a.createElement("button",{onClick:this.toggleModal,id:"closeId-".concat(S)},"string"===typeof l?r.a.createElement("strong",{className:"text-gray-light"},l):r.a.createElement("i",{className:"la la-remove"}),d&&r.a.createElement(Re.a,{placement:m,target:"closeId-".concat(S)},"Modal")))),O&&r.a.createElement("div",{className:"".concat(Fe.a.widgetControls," widget-controls")},r.a.createElement(Ue.a,null,r.a.createElement(ze.a,{tag:"span","data-toggle":"dropdown"},r.a.createElement("img",{src:nt.a,alt:"dropdown"})),r.a.createElement(Ve.a,{className:"bg-widget-transparent",right:!0,style:{padding:10}},r.a.createElement(Xe.a,{onClick:this.handleReload,title:"Reload"},"Reload \xa0\xa0",r.a.createElement("span",{className:"badge badge-pill badge-success"},r.a.createElement("strong",null,"9"))),r.a.createElement(Xe.a,{onClick:this.handleFullscreen,title:C?"Restore":"Full Screen"},C?"Restore":"Fullscreen"," "),r.a.createElement(Xe.a,{divider:!0}),!C&&(j?r.a.createElement(Xe.a,{onClick:this.toggleModal,title:"Close"},"Close"):r.a.createElement(Xe.a,{onClick:this.handleClose,title:"Close"},"Close"))))),p&&r.a.createElement("div",{className:"".concat(Fe.a.widgetControls," widget-controls")},!C&&(f&&!j?r.a.createElement("button",{onClick:this.handleClose,id:"closeId-".concat(S),className:Fe.a.customControlItem},r.a.createElement("i",{title:"Close",className:"glyphicon glyphicon-remove"})):r.a.createElement("button",{onClick:this.toggleModal,id:"closeId-".concat(S),className:Fe.a.customControlItem},r.a.createElement("i",{title:"Close",className:"glyphicon glyphicon-remove"}))),!C&&b&&r.a.createElement("button",{onClick:this.handleCollapse,id:"closeId-".concat(S),className:Fe.a.customControlItem},r.a.createElement("i",{title:"Collapse",className:"glyphicon glyphicon-chevron-".concat(_?"up":"down")})),g&&r.a.createElement("button",{onClick:this.handleFullscreen,id:"closeId-".concat(S),className:Fe.a.customControlItem},r.a.createElement("i",{title:"Fullscreen",className:"glyphicon glyphicon-resize-".concat(C?"small":"full")})),E&&r.a.createElement("button",{onClick:this.handleReload,id:"closeId-".concat(S),className:Fe.a.customControlItem},r.a.createElement("i",{title:"I am spinning!",className:"fa fa-refresh"}))),r.a.createElement("div",{className:"".concat(Fe.a.widgetBody," widget-body ").concat(h)},x||v?r.a.createElement(We,{className:Fe.a.widgetLoader,size:40}):y?r.a.createElement("div",{className:"jumbotron handle bg-inverse text-white mb-0"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Draggable story!"),r.a.createElement("p",{className:"lead"},r.a.createElement("em",null,"Build")," your own interfaces! Sit back and relax."),r.a.createElement("p",{className:"text-center"},r.a.createElement("button",{onClick:this.handleFullscreen,className:"btn btn-danger btn-lg"},C?"Go Back":r.a.createElement(r.a.Fragment,null,"Fullscreen me! \xa0",r.a.createElement("i",{className:"fa fa-check"})))))):n)),j&&r.a.createElement(Ze.a,{isOpen:D,toggle:this.toggleModal,id:"news-close-modal"},r.a.createElement(Je.a,{toggle:this.toggleModal,id:"news-close-modal-label"},"Sure?"),r.a.createElement($e.a,{className:"bg-white"},"Do you really want to unrevertably remove this super news widget?"),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"default",onClick:this.toggleModal,"data-dismiss":"modal"},"No")," ",r.a.createElement(tt.a,{color:"danger",onClick:this.closeWithModal,id:"news-widget-remove"},"Yes, remove widget"))),r.a.createElement("div",{style:{display:C?"block":"none"},className:Fe.a.widgetBackground}))}}]),t}(r.a.Component);Object(he.a)(rt,"defaultProps",{title:null,className:"",children:[],close:!1,fullscreen:!1,collapse:!1,refresh:!1,settings:!1,settingsInverse:!1,tooltipPlacement:"bottom",showTooltip:!1,bodyClass:"",customControls:!1,customClose:null,customExpand:null,customCollapse:null,customFullscreen:null,customReload:null,customDropDown:null,prompt:!1,collapsed:!1,options:{},fetchingData:!1,widgetType:""});var lt=rt,ct=a(36),ot=a.n(ct),it=a(48),st=a.n(it),ut={options:{chart:{height:350,type:"bar",toolbar:{show:!1}},colors:["rgba(255, 173, 1, 0.3)"],plotOptions:{bar:{columnWidth:"40%",distributed:!0,endingShape:"rounded",startingShape:"rounded"}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{show:!1,labels:{show:!1}},grid:{padding:{left:-9,right:0},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}}}},mt={series:[{data:[280,300,170,200,230,190,260,100,290,280,300,250,240]}],options:{chart:{height:350,type:"bar",toolbar:{show:!1}},colors:["rgba(246, 121, 93, 0.3)"],plotOptions:{bar:{columnWidth:"40%",distributed:!0,endingShape:"rounded",startingShape:"rounded"}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{show:!1,labels:{show:!1}},grid:{padding:{left:-8,right:0},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}}}},dt={series:[{data:[11,32,45,32,34,52,41]}],options:{stroke:{show:!0,curve:"smooth",width:3},chart:{height:350,type:"area",toolbar:{show:!1}},fill:{type:"solid",colors:["rgba(252, 215, 206, .25)"]},colors:["rgba(246, 121, 93)"],dataLabels:{enabled:!1},legend:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{show:!1,labels:{show:!1}},grid:{padding:{left:5,right:0},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}}}},ht={series:[{data:[31,40,28,51,42,109,100]}],options:{stroke:{show:!0,curve:"smooth",width:3},chart:{height:350,type:"area",toolbar:{show:!1}},fill:{type:"solid",colors:["rgba(255, 230, 179, .25)"]},colors:["rgba(255, 173, 1)"],dataLabels:{enabled:!1},legend:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{show:!1,labels:{show:!1}},grid:{padding:{left:5,right:0},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}}}},pt={series:[{name:"Income",data:[31,40,28,51,42,109,100]},{name:"Outcome",data:[11,32,45,32,34,52,41]}],options:{chart:{height:350,type:"area",toolbar:{show:!1}},fill:{colors:["rgba(255, 205, 101, .2)","rgba(0,0,0,0)"],type:"solid"},colors:["#FFBF69","#323232"],legend:{position:"top"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},yaxis:{labels:{style:{colors:["rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)"],fontWeight:300}}},xaxis:{type:"datetime",categories:["2018-09-19T00:00:00.000Z","2018-09-19T01:30:00.000Z","2018-09-19T02:30:00.000Z","2018-09-19T03:30:00.000Z","2018-09-19T04:30:00.000Z","2018-09-19T05:30:00.000Z","2018-09-19T06:30:00.000Z"],labels:{style:{colors:["rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)","rgba(18, 4, 0, .5)"],fontWeight:300}}},tooltip:{x:{format:"dd/MM/yy HH:mm"}}}},ft=function(e){function t(){var e;return Object(X.a)(this,t),e=Object(J.a)(this,Object($.a)(t).call(this)),Object(he.a)(Object(de.a)(e),"state",{orderValue:Object(s.a)({},Le.apex.column,ut),convertionRate:Object(s.a)({},Le.apex.column,mt),area:Object(s.a)({},dt),area2:Object(s.a)({},ht),splineArea:Object(s.a)({},pt)}),e.forceUpdate=e.forceUpdate.bind(Object(de.a)(e)),e}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.forceUpdate.bind(this))}},{key:"forceUpdate",value:function(){return this.setState({})}},{key:"render",value:function(){return r.a.createElement("div",{className:ot.a.root},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{xl:4},r.a.createElement(lt,{title:r.a.createElement("p",{style:{fontWeight:700}},"Average Order Value"),customDropDown:!0},r.a.createElement(ge.a,{className:"justify-content-between mt-3",noGutters:!0},r.a.createElement(Ee.a,{sm:8,className:"d-flex align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold mb-0"},"872 410 $")),r.a.createElement(Ee.a,{sm:4,className:"d-flex align-items-center justify-content-end"},r.a.createElement("img",{src:Se.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"text-success mb-0"},"40%"))),r.a.createElement(ge.a,{style:{marginBottom:-9,marginTop:-1}},r.a.createElement(Ee.a,{sm:12},r.a.createElement(st.a,{className:"sparkline-chart",height:80,series:this.state.orderValue.series,options:this.state.orderValue.options,type:"bar"}))))),r.a.createElement(Ee.a,{xl:4},r.a.createElement(lt,{title:r.a.createElement("p",{style:{fontWeight:700}},"Convertion Rate"),customDropDown:!0},r.a.createElement(ge.a,{className:"justify-content-between mt-3",noGutters:!0},r.a.createElement(Ee.a,{sm:8,className:"d-flex align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold mb-0"},"20.7%")),r.a.createElement(Ee.a,{sm:4,className:"d-flex align-items-center justify-content-end"},r.a.createElement("img",{src:Se.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"text-success mb-0"},"15%"))),r.a.createElement(ge.a,{style:{marginBottom:-9,marginTop:-1}},r.a.createElement(Ee.a,{sm:12},r.a.createElement(st.a,{className:"sparkline-chart",height:80,series:this.state.convertionRate.series,options:this.state.convertionRate.options,type:"bar"}))))),r.a.createElement(Ee.a,{xl:window.innerWidth>1280?2:4,sm:6},r.a.createElement(lt,null,r.a.createElement(ge.a,{className:"".concat(ot.a.row," justify-content-center align-items-center")},r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center mb-2"},r.a.createElement("img",{src:Oe.a,alt:"",style:{paddingTop:30}})),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold pt-1 mb-0"},"50873")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h5",{className:"fw-thin pt-1 mb-0"},"Visitors")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center pt-1"},r.a.createElement("img",{src:Se.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"fw-thin text-success mb-0"},"15%"))))),r.a.createElement(Ee.a,{xl:2,className:"".concat(ot.a.dashboardBlock),sm:6},r.a.createElement(lt,null,r.a.createElement(ge.a,{className:"".concat(ot.a.row," justify-content-center align-items-center")},r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center mb-2"},r.a.createElement("img",{src:je.a,alt:"",style:{paddingTop:30}})),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold pt-1 mb-0"},"6452")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h5",{className:"fw-thin pt-1 mb-0"},"Customers")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center pt-1"},r.a.createElement("img",{src:Se.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"fw-thin text-success mb-0"},"15%")))))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{xl:4},r.a.createElement(lt,{title:r.a.createElement("p",{style:{fontWeight:700}},"Upsell Take Rate "),customDropDown:!0},r.a.createElement(ge.a,{className:"justify-content-between mt-3",noGutters:!0},r.a.createElement(Ee.a,{sm:8,className:"d-flex align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold mb-0"},"20.7%")),r.a.createElement(Ee.a,{sm:4,className:"d-flex align-items-center justify-content-end"},r.a.createElement("img",{src:Se.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"text-success mb-0"},"20%"))),r.a.createElement(ge.a,{style:{marginBottom:-9,marginTop:-1}},r.a.createElement(Ee.a,{sm:12},r.a.createElement(st.a,{className:"sparkline-chart",height:80,series:this.state.area.series,options:this.state.area.options,type:"area"}))))),r.a.createElement(Ee.a,{xl:4},r.a.createElement(lt,{title:r.a.createElement("p",{style:{fontWeight:700}},"Number of returns"),customDropDown:!0},r.a.createElement(ge.a,{className:"justify-content-between mt-3",noGutters:!0},r.a.createElement(Ee.a,{sm:8,className:"d-flex align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold mb-0"},"12")),r.a.createElement(Ee.a,{sm:4,className:"d-flex align-items-center justify-content-end"},r.a.createElement("img",{src:Se.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"text-success mb-0"},"14%"))),r.a.createElement(ge.a,{style:{marginBottom:-9,marginTop:-1}},r.a.createElement(Ee.a,{sm:12},r.a.createElement(st.a,{className:"sparkline-chart",height:80,series:this.state.area2.series,options:this.state.area2.options,type:"area"}))))),r.a.createElement(Ee.a,{xl:window.innerWidth>1280?2:4,sm:6},r.a.createElement(lt,null,r.a.createElement(ge.a,{className:"".concat(ot.a.row," justify-content-center align-items-center")},r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center mb-2"},r.a.createElement("img",{src:Ne.a,alt:"",style:{paddingTop:30}})),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold pt-1 mb-0"},"$92k")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h5",{className:"fw-thin pt-1 mb-0"},"Sales")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center pt-1"},r.a.createElement("img",{src:Se.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"fw-thin text-success mb-0"},"15%"))))),r.a.createElement(Ee.a,{xl:2,className:"".concat(ot.a.dashboardBlock),sm:6},r.a.createElement(lt,null,r.a.createElement(ge.a,{className:"".concat(ot.a.row," justify-content-center align-items-center")},r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center mb-2"},r.a.createElement("img",{src:xe.a,alt:"",style:{paddingTop:30}})),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h3",{className:"fw-semi-bold pt-1 mb-0"},"3240")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center"},r.a.createElement("h5",{className:"fw-thin pt-1 mb-0"},"Orders")),r.a.createElement(Ee.a,{sm:12,className:"d-flex justify-content-center align-items-center pt-1"},r.a.createElement("img",{src:_e.a,alt:"",className:"mr-1"}),r.a.createElement("p",{className:"fw-thin text-danger mb-0"},"15%")))))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{xl:8},r.a.createElement(lt,{title:r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{xs:12,sm:5},r.a.createElement("p",{style:{fontWeight:700}},"Daily Line Chart")),r.a.createElement(Ee.a,{xs:12,sm:7},r.a.createElement("div",{className:"chart-legend"}))),customDropDown:!0},r.a.createElement(ge.a,{className:ot.a.dailyLineChart},r.a.createElement(Ee.a,{sm:12},r.a.createElement(st.a,{className:"sparkline-chart",series:this.state.splineArea.series,options:this.state.splineArea.options,type:"area",height:"350px"}))))),r.a.createElement(Ee.a,{xl:4},r.a.createElement(lt,{title:r.a.createElement("p",{style:{fontWeight:700}},"Status"),customDropDown:!0},r.a.createElement(ge.a,{className:"".concat(ot.a.row," justify-content-center"),noGutters:!0,style:{marginBottom:30,marginTop:24}},r.a.createElement(st.a,{className:"sparkline-chart",type:"donut",height:180,series:Le.apex.pie.series,options:Le.apex.pie.options})),r.a.createElement(ge.a,{className:"justify-content-between"},r.a.createElement(Ee.a,{sm:4},r.a.createElement("div",{className:"".concat(ot.a.pieElementsDanger," ").concat(ot.a.pieElements)},r.a.createElement("h4",{className:"mt-3 mb-1"},"253"),r.a.createElement("p",null,"Booked"))),r.a.createElement(Ee.a,{sm:4},r.a.createElement("div",{className:"".concat(ot.a.pieElementsWarning," ").concat(ot.a.pieElements)},r.a.createElement("h4",{className:"mt-3 mb-1"},"1732"),r.a.createElement("p",null,"On progress"))),r.a.createElement(Ee.a,{sm:4},r.a.createElement("div",{className:"".concat(ot.a.pieElementsBlack," ").concat(ot.a.pieElements)},r.a.createElement("h4",{className:"mt-3 mb-1"},"50"),r.a.createElement("p",null,"Canceled"))))))))}}]),t}(r.a.Component),bt=a(412),gt=a(413),Et=a(414),vt=a(415),Ot=a(144),yt=a(410),jt=a(411),kt=a(77),Nt=a.n(kt),wt=a(96),xt=a.n(wt),Ct=a(97),St=a.n(Ct),Tt=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(J.a)(this,Object($.a)(t).call(this,e))).doLogout=a.doLogout.bind(Object(de.a)(a)),a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"doLogout",value:function(){this.props.dispatch(N())}},{key:"render",value:function(){var e=this;return r.a.createElement(yt.a,{className:[Nt.a.listGroupAccount,"thin-scroll"].join(" ")},r.a.createElement("p",{className:"".concat(Nt.a.listGroupTitleAccount)},this.props.username),r.a.createElement("p",{className:"".concat(Nt.a.listGroupSubtitleAccount)},this.props.role),r.a.createElement(jt.a,{className:"".concat(Nt.a.listGroupItemAccount," mt-2")},r.a.createElement("img",{src:St.a,alt:"settings",className:"mr-2"})," Account"),r.a.createElement(jt.a,{className:"".concat(Nt.a.listGroupItemAccount," mt-2 mb-3"),onClick:function(){return e.doLogout()}},r.a.createElement("img",{src:xt.a,alt:"settings",className:"mr-2"})," Log out"))}}]),t}(r.a.Component);var _t=Object(fe.a)(Object(o.b)(function(e){return{sidebarOpened:e.navigation.sidebarOpened,sidebarStatic:e.navigation.sidebarStatic,username:e.auth.username,role:e.auth.role}})(Tt)),Dt=a(206),It=a.n(Dt),At=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(J.a)(this,Object($.a)(t).call(this,e))).state={notificationsTabSelected:1,newNotifications:null,isLoad:!1},a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"changeNotificationsTab",value:function(e){this.setState({notificationsTabSelected:e,newNotifications:null})}},{key:"render",value:function(){return r.a.createElement("section",{className:"".concat(It.a.notificationsAccount," card navbar-notifications")},this.state.newNotifications||r.a.createElement(_t,null))}}]),t}(r.a.Component);Object(he.a)(At,"defaultProps",{notificationsTabSelected:1});var Lt=At,Bt=a(207),Rt=a.n(Bt),Pt=a(145),Ft=a.n(Pt),Mt=a(113),Ht=a.n(Mt),Gt=function(e){function t(e){var a;return Object(X.a)(this,t),a=Object(J.a)(this,Object($.a)(t).call(this,e)),Object(he.a)(Object(de.a)(a),"toggleFocus",function(){a.setState({focus:!a.state.focus})}),Object(he.a)(Object(de.a)(a),"toggleNotifications",function(){a.setState({notificationsOpen:!a.state.notificationsOpen})}),Object(he.a)(Object(de.a)(a),"toggleAccount",function(){a.setState({accountOpen:!a.state.accountOpen})}),Object(he.a)(Object(de.a)(a),"doLogout",function(){a.props.dispatch(N())}),Object(he.a)(Object(de.a)(a),"changeArrowImg",function(){a.setState({arrowImg:Rt.a})}),Object(he.a)(Object(de.a)(a),"changeArrowImgOut",function(){a.setState({arrowImg:Ft.a})}),Object(he.a)(Object(de.a)(a),"switchSidebar",function(){if(a.props.sidebarOpened)a.props.dispatch(M()),a.props.dispatch(H(null));else{var e=a.props.location.pathname.split("/");e.pop(),a.props.dispatch(F()),a.props.dispatch(H(e.join("/")))}}),Object(he.a)(Object(de.a)(a),"toggleSidebar",function(){if(a.props.dispatch(P()),a.props.sidebarStatic)localStorage.setItem("staticSidebar","false"),a.props.dispatch(H(null));else{localStorage.setItem("staticSidebar","true");var e=a.props.location.pathname.split("/");e.pop(),a.props.dispatch(H(e.join("/")))}}),Object(he.a)(Object(de.a)(a),"toggleMenu",function(){a.setState({menuOpen:!a.state.menuOpen})}),a.state={menuOpen:!1,accountOpen:!1,notificationsTabSelected:1,focus:!1,run:!0,arrowImg:Ft.a},a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.state.accountOpen,t=this.props,a=t.openUsersList,n=t.username;return r.a.createElement(bt.a,{className:"".concat(Ht.a.root," d-print-none"),style:{zIndex:a?0:100,backgroundColor:"#323232"}},r.a.createElement(gt.a,{className:"".concat(Ht.a.toggleSidebarNav," d-md-none d-flex mr-2")},r.a.createElement(Et.a,{className:"ml-2 pr-4 pl-3",id:"toggleSidebar",onClick:this.toggleSidebar},r.a.createElement("i",{className:"la la-bars",style:{color:"#000"}}))),r.a.createElement(vt.a,{className:"ml-auto"},r.a.createElement(Ot.a,{nav:!0,isOpen:e,toggle:this.toggleAccount},r.a.createElement(ze.a,{nav:!0,className:"text-white",style:{marginLeft:20}},r.a.createElement("span",{className:"".concat(Ht.a.avatar," rounded-circle float-left mr-2")},n[0].toUpperCase())),r.a.createElement(Ve.a,{right:!0},r.a.createElement(Lt,{notificationsTabSelected:4})))))}}]),t}(r.a.Component);var qt=Object(fe.a)(Object(o.b)(function(e){return{sidebarOpened:e.navigation.sidebarOpened,sidebarStatic:e.navigation.sidebarStatic,username:e.auth.username}})(Gt)),Kt=a(419),Wt=a(22),Yt=a.n(Wt),Qt=a(416),Ut=a(417),zt=a(418),Vt=a(208),Xt=a.n(Vt),Zt=a(209),Jt=a.n(Zt),$t=a(33),ea=a.n($t),ta=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(J.a)(this,Object($.a)(t).call(this,e))).togglePanelCollapse=a.togglePanelCollapse.bind(Object(de.a)(a)),a.state={headerLinkWasClicked:!0},a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"togglePanelCollapse",value:function(e){this.props.onActiveSidebarItemChange(e),this.setState({headerLinkWasClicked:!this.state.headerLinkWasClicked||this.props.activeItem&&!this.props.activeItem.includes(this.props.index)})}},{key:"render",value:function(){var e=this,a=this.props.activeItem&&this.props.activeItem.includes(this.props.index)&&this.state.headerLinkWasClicked,n=this.props.exact.exact;return this.props.link?this.props.childrenLinks?r.a.createElement(ae.a,{path:this.props.link,children:function(n){var l=n.match;return r.a.createElement("li",{className:He()("link-wrapper",{[ea.a.headerLink]:e.props.isHeader},e.props.className)},r.a.createElement("a",{className:He()({[ea.a.headerLinkActive]:l},{[ea.a.collapsed]:a},"d-flex"),onClick:function(){return e.togglePanelCollapse(e.props.link)}},e.props.isHeader?r.a.createElement(r.a.Fragment,null,e.props.children):null,e.props.header," ",e.props.label&&r.a.createElement("sup",{className:"".concat(ea.a.headerLabel," ").concat(ea.a.headerNode," ml-1 text-").concat(e.props.labelColor||"warning")},e.props.label),a?r.a.createElement("img",{src:Jt.a,className:"".concat(ea.a.activeCaret)}):r.a.createElement("img",{className:"".concat(ea.a.caret),src:Xt.a})),r.a.createElement(zt.a,{className:ea.a.panel,isOpen:a},r.a.createElement("ul",null,e.props.childrenLinks&&e.props.childrenLinks.map(function(a,n){return r.a.createElement(t,{onActiveSidebarItemChange:e.props.onActiveSidebarItemChange,activeItem:e.props.activeItem,header:a.header,link:a.link,index:a.index,childrenLinks:a.childrenLinks,deep:e.props.deep+1,key:n})}))))}}):this.props.isHeader?r.a.createElement("li",{className:He()("link-wrapper",ea.a.headerLink,this.props.className)},r.a.createElement(Qt.a,{to:this.props.link,activeClassName:ea.a.headerLinkActive,exact:n,target:this.props.target},this.props.children,this.props.header," ",this.props.label&&r.a.createElement("sup",{className:"".concat(ea.a.headerLabel," ").concat(ea.a.headerUpdate," text-").concat(this.props.labelColor||"warning")},this.props.label),this.props.badge&&r.a.createElement(Ut.a,{className:ea.a.badge,pill:!0},"9"))):r.a.createElement("li",null,r.a.createElement(Qt.a,{to:this.props.link,activeClassName:ea.a.headerLinkActive,style:{paddingLeft:"".concat(60+10*(this.props.deep-1),"px")},exact:n},this.props.header," ",this.props.label&&r.a.createElement("sup",{className:"".concat(ea.a.headerLabel," text-").concat(this.props.labelColor||"warning")},this.props.label))):r.a.createElement("li",{className:He()("link-wrapper",ea.a.headerLink,this.props.className),onClick:this.props.onClick},r.a.createElement(Qt.a,{to:this.props.link,exact:n,target:this.props.target},this.props.children,this.props.header," ",this.props.label&&r.a.createElement("sup",{className:"".concat(ea.a.headerLabel," ").concat(ea.a.headerUpdate," text-").concat(this.props.labelColor||"warning")},this.props.label),this.props.badge&&r.a.createElement(Ut.a,{className:ea.a.badge,pill:!0},"9")))}}]),t}(n.Component);Object(he.a)(ta,"defaultProps",{link:"",childrenLinks:null,className:"",isHeader:!1,deep:0,activeItem:"",label:"",exact:!0});var aa=ta,na=a(211),ra=a.n(na),la=a(147),ca=a.n(la),oa=a(148),ia=a.n(oa),sa=a(212),ua=a.n(sa),ma=a(213),da=a.n(ma),ha=a(214),pa=a.n(ha),fa=a(215),ba=a.n(fa),ga=a(216),Ea=a.n(ga),va=a(217),Oa=a.n(va),ya=a(101),ja=a.n(ya),ka=function(e){function t(e){var a;return Object(X.a)(this,t),a=Object(J.a)(this,Object($.a)(t).call(this,e)),Object(he.a)(Object(de.a)(a),"dismissAlert",function(e){a.props.dispatch(function(e){return{type:K,id:e}}(e))}),Object(he.a)(Object(de.a)(a),"doLogout",function(){a.props.dispatch(N())}),Object(he.a)(Object(de.a)(a),"handleActiveSidebarItemChange",function(e){return a.props.dispatch(H(e))}),a.doLogout=a.doLogout.bind(Object(de.a)(a)),a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props.role,a="ADMIN"===t,n=a||"CASHIER"===t,l=a||"CHEF"===t;return r.a.createElement("div",{className:"".concat(this.props.sidebarOpened||this.props.sidebarStatic?"":Yt.a.sidebarClose," ").concat(Yt.a.sidebarWrapper),id:"sidebar-drawer"},r.a.createElement("nav",{className:Yt.a.root},r.a.createElement("header",{className:Yt.a.logo},r.a.createElement("img",{src:ja.a,alt:"logo",style:{width:67},className:Yt.a.logoStyle}),r.a.createElement("div",null,r.a.createElement("small",null,"Nh\xe0 h\xe0ng"),r.a.createElement("span",null,"Super Pig"))),r.a.createElement("div",{className:Yt.a.navItems},r.a.createElement("ul",{className:Yt.a.nav},r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"Dashboard",isHeader:!0,link:"/app/dashboard",index:"main"},r.a.createElement("img",{src:ra.a,alt:"lightDashboard",className:Yt.a.sidebarIcon})),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"L\u1ecbch l\xe0m vi\u1ec7c",isHeader:!0,link:"/app/schedule",index:"main"},r.a.createElement("img",{src:ca.a,alt:"lightTables",className:Yt.a.sidebarIcon})),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"Ti\u1ec1n l\u01b0\u01a1ng",isHeader:!0,link:"/app/salaries",index:"main"},r.a.createElement("img",{src:ba.a,alt:"formsLight",className:Yt.a.sidebarIcon}))),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:Yt.a.navTitle},"QU\u1ea2N L\xdd NH\xc0 H\xc0NG"),r.a.createElement("ul",{className:Yt.a.nav},r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"Nh\xe2n s\u1ef1",isHeader:!0,link:"/app/hr",index:"hr",exact:!1,childrenLinks:[{header:"Nh\xe2n vi\xean",link:"/app/hr/staffs"},{header:"Ch\u1ee9c v\u1ee5",link:"/app/hr/roles"},{header:"Vi ph\u1ea1m",link:"/app/hr/violations"}]},r.a.createElement("img",{src:ia.a,alt:"lightDashboard",className:Yt.a.sidebarIcon})),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"Menu",isHeader:!0,link:"/app/menu",index:"menu",exact:!1,childrenLinks:[{header:"Lo\u1ea1i m\xf3n",link:"/app/menu/food-types"},{header:"M\xf3n \u0103n",link:"/app/menu/foods"}]},r.a.createElement("img",{src:Oa.a,alt:"packLight",className:Yt.a.sidebarIcon})))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:Yt.a.navTitle},"THU NG\xc2N"),r.a.createElement("ul",{className:Yt.a.nav},r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"M\xe0n h\xecnh thu ng\xe2n",isHeader:!0,link:"/app/cashier-view",index:"main"},r.a.createElement("img",{src:da.a,alt:"eccomerceLight",className:Yt.a.sidebarIcon})),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"H\xf3a \u0111\u01a1n",isHeader:!0,link:"/app/bills",index:"bills",exact:!1,childrenLinks:[{header:"L\u1ecbch s\u1eed h\xf3a \u0111\u01a1n",link:"/app/bills/history"},{header:"T\xecm ki\u1ebfm",link:"/app/bills/search"}]},r.a.createElement("img",{src:pa.a,alt:"documentationLight",className:Yt.a.sidebarIcon})))),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:Yt.a.navTitle},"\u0110\u1ea6U B\u1ebeP"),r.a.createElement("ul",{className:Yt.a.nav},r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"M\xe0n h\xecnh b\u1ebfp",isHeader:!0,link:"/app/chef-view",index:"main"},r.a.createElement("img",{src:Ea.a,alt:"gridLight",className:Yt.a.sidebarIcon})))),r.a.createElement("h5",{className:Yt.a.navTitle},"TEMPLATE"),r.a.createElement("ul",{className:Yt.a.nav},r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"Typography",isHeader:!0,link:"/app/typography",index:"main"},r.a.createElement("img",{src:ua.a,alt:"lightDashboard",className:Yt.a.sidebarIcon})),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"Tables",isHeader:!0,link:"/app/tables",index:"main"},r.a.createElement("img",{src:ca.a,alt:"lightDashboard",className:Yt.a.sidebarIcon})),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,activeItem:this.props.activeItem,header:"UI Elements",isHeader:!0,link:"/app/ui",index:"ui",exact:!1,childrenLinks:[{header:"Notifications",link:"/app/ui/notifications"},{header:"Charts",link:"/app/ui/charts"},{header:"Icons",link:"/app/ui/icons"}]},r.a.createElement("img",{src:ia.a,alt:"lightDashboard",className:Yt.a.sidebarIcon}))),r.a.createElement("ul",{className:Yt.a.downNav},r.a.createElement("hr",null),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,header:"Account",isHeader:!0},r.a.createElement("img",{src:St.a,alt:"lightDashboard",className:Yt.a.sidebarIcon})),r.a.createElement(aa,{onActiveSidebarItemChange:this.handleActiveSidebarItemChange,header:"Logout",isHeader:!0,onClick:function(){return e.doLogout()}},r.a.createElement("img",{src:xt.a,alt:"lightDashboard",className:Yt.a.sidebarIcon}))))))}}]),t}(r.a.Component);Object(he.a)(ka,"defaultProps",{sidebarStatic:!0,sidebarOpened:!0,activeItem:""});var Na=Object(Kt.a)(Object(o.b)(function(e){return{sidebarOpened:e.navigation.sidebarOpened,sidebarStatic:e.navigation.sidebarStatic,alertsList:e.alerts.alertsList,activeItem:e.navigation.activeItem,navbarType:e.navigation.navbarType,role:e.auth.role}})(ka)),wa=a(87),xa=a.n(wa),Ca=a(218),Sa=a.n(Ca),Ta={colors:{sidebar:"#002B49",navbar:"#ffffff",primary:"#005792",secondary:"#798892",success:"#21AE8C",info:"#1A86D0",warning:"#FDA700",danger:"#FD5F00",inverse:"#002B49",textColor:"#495057",gray:"#D7DFE6"},chartColors:{axisColor:"#8EA1AB"}},_a=Ta.colors.warning,Da=Ta.chartColors.axisColor,Ia=["#4DC7DF","#81D4BB","#FEB04A","#FF7769","#FFA983","#FFA983"],Aa=[_a,"#323232"],La={apex:{column:{series:[{data:[21,22,10,28,16,21,13,30]}],options:{chart:{height:350,type:"bar"},colors:Ia,plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},xaxis:{categories:["John","Joe","Jake","Amber","Peter","Mary","David","Lily"],labels:{style:{colors:Ia,fontSize:"14px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{color:Da}}}}},pie:{series:[25,15,44,55,41,17],options:{labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],theme:{monochrome:{enabled:!0,color:_a}},stroke:{show:!1,width:0},legend:!1,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}},echarts:{line:{color:Aa,tooltip:{trigger:"none",axisPointer:{type:"cross"}},legend:{data:["2015 Precipitation","2016 Precipitation"],textStyle:{color:Da}},grid:{top:70,bottom:50},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:Aa[1]}},axisPointer:{label:{formatter:function(e){return"Precipitation  "+e.value+(e.seriesData.length?"\uff1a"+e.seriesData[0].data:"")}}},data:["2016-1","2016-2","2016-3","2016-4","2016-5","2016-6","2016-7","2016-8","2016-9","2016-10","2016-11","2016-12"]},{type:"category",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:Aa[0]}},axisPointer:{label:{formatter:function(e){return"Precipitation  "+e.value+(e.seriesData.length?"\uff1a"+e.seriesData[0].data:"")}}},data:["2015-1","2015-2","2015-3","2015-4","2015-5","2015-6","2015-7","2015-8","2015-9","2015-10","2015-11","2015-12"]}],yAxis:[{type:"value",axisLabel:{color:Da},axisLine:{lineStyle:{color:Da}}}],series:[{name:"2015 Precipitation",type:"line",xAxisIndex:1,smooth:!0,data:[2.6,5.9,9,26.4,28.7,70.7,175.6,182.2,48.7,18.8,6,2.3]},{name:"2016 Precipitation",type:"line",smooth:!0,data:[3.9,5.9,11.1,18.7,48.3,69.2,231.6,46.6,55.4,18.4,10.3,.7]}]},donut:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{show:!1},color:["#FFBF69","#323232","#9FDBE9","#FF7769"],series:[{name:"Access source",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:335,name:"Direct interview"},{value:310,name:"Email marketing"},{value:234,name:"Alliance advertising"},{value:135,name:"Video ad"},{value:1548,name:"Search engine"}]}]},river:{tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"rgba(0,0,0,0.2)",width:1,type:"solid"}}},legend:{data:["DQ","TY","SS","QG","SY","DD"],textStyle:{color:Da}},color:["#323232","#FFBF69","#FF7769","#9FDBE9","#81D4BB","#FFA983"],singleAxis:{top:50,bottom:50,axisTick:{},axisLabel:{color:Da},type:"time",axisPointer:{animation:!0,label:{show:!0}},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},axisLine:{lineStyle:{color:Da}}},series:[{type:"themeRiver",itemStyle:{emphasis:{shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.8)"}},data:[["2015/11/08",10,"DQ"],["2015/11/09",15,"DQ"],["2015/11/10",35,"DQ"],["2015/11/11",38,"DQ"],["2015/11/12",22,"DQ"],["2015/11/13",16,"DQ"],["2015/11/14",7,"DQ"],["2015/11/15",2,"DQ"],["2015/11/16",17,"DQ"],["2015/11/17",33,"DQ"],["2015/11/18",40,"DQ"],["2015/11/19",32,"DQ"],["2015/11/20",26,"DQ"],["2015/11/21",35,"DQ"],["2015/11/22",40,"DQ"],["2015/11/23",32,"DQ"],["2015/11/24",26,"DQ"],["2015/11/25",22,"DQ"],["2015/11/26",16,"DQ"],["2015/11/27",22,"DQ"],["2015/11/28",10,"DQ"],["2015/11/08",35,"TY"],["2015/11/09",36,"TY"],["2015/11/10",37,"TY"],["2015/11/11",22,"TY"],["2015/11/12",24,"TY"],["2015/11/13",26,"TY"],["2015/11/14",34,"TY"],["2015/11/15",21,"TY"],["2015/11/16",18,"TY"],["2015/11/17",45,"TY"],["2015/11/18",32,"TY"],["2015/11/19",35,"TY"],["2015/11/20",30,"TY"],["2015/11/21",28,"TY"],["2015/11/22",27,"TY"],["2015/11/23",26,"TY"],["2015/11/24",15,"TY"],["2015/11/25",30,"TY"],["2015/11/26",35,"TY"],["2015/11/27",42,"TY"],["2015/11/28",42,"TY"],["2015/11/08",21,"SS"],["2015/11/09",25,"SS"],["2015/11/10",27,"SS"],["2015/11/11",23,"SS"],["2015/11/12",24,"SS"],["2015/11/13",21,"SS"],["2015/11/14",35,"SS"],["2015/11/15",39,"SS"],["2015/11/16",40,"SS"],["2015/11/17",36,"SS"],["2015/11/18",33,"SS"],["2015/11/19",43,"SS"],["2015/11/20",40,"SS"],["2015/11/21",34,"SS"],["2015/11/22",28,"SS"],["2015/11/23",26,"SS"],["2015/11/24",37,"SS"],["2015/11/25",41,"SS"],["2015/11/26",46,"SS"],["2015/11/27",47,"SS"],["2015/11/28",41,"SS"],["2015/11/08",10,"QG"],["2015/11/09",15,"QG"],["2015/11/10",35,"QG"],["2015/11/11",38,"QG"],["2015/11/12",22,"QG"],["2015/11/13",16,"QG"],["2015/11/14",7,"QG"],["2015/11/15",2,"QG"],["2015/11/16",17,"QG"],["2015/11/17",33,"QG"],["2015/11/18",40,"QG"],["2015/11/19",32,"QG"],["2015/11/20",26,"QG"],["2015/11/21",35,"QG"],["2015/11/22",40,"QG"],["2015/11/23",32,"QG"],["2015/11/24",26,"QG"],["2015/11/25",22,"QG"],["2015/11/26",16,"QG"],["2015/11/27",22,"QG"],["2015/11/28",10,"QG"],["2015/11/08",10,"SY"],["2015/11/09",15,"SY"],["2015/11/10",35,"SY"],["2015/11/11",38,"SY"],["2015/11/12",22,"SY"],["2015/11/13",16,"SY"],["2015/11/14",7,"SY"],["2015/11/15",2,"SY"],["2015/11/16",17,"SY"],["2015/11/17",33,"SY"],["2015/11/18",40,"SY"],["2015/11/19",32,"SY"],["2015/11/20",26,"SY"],["2015/11/21",35,"SY"],["2015/11/22",4,"SY"],["2015/11/23",32,"SY"],["2015/11/24",26,"SY"],["2015/11/25",22,"SY"],["2015/11/26",16,"SY"],["2015/11/27",22,"SY"],["2015/11/28",10,"SY"],["2015/11/08",10,"DD"],["2015/11/09",15,"DD"],["2015/11/10",35,"DD"],["2015/11/11",38,"DD"],["2015/11/12",22,"DD"],["2015/11/13",16,"DD"],["2015/11/14",7,"DD"],["2015/11/15",2,"DD"],["2015/11/16",17,"DD"],["2015/11/17",33,"DD"],["2015/11/18",4,"DD"],["2015/11/19",32,"DD"],["2015/11/20",26,"DD"],["2015/11/21",35,"DD"],["2015/11/22",40,"DD"],["2015/11/23",32,"DD"],["2015/11/24",26,"DD"],["2015/11/25",22,"DD"],["2015/11/26",16,"DD"],["2015/11/27",22,"DD"],["2015/11/28",10,"DD"]]}]}}},Ba=function(e){function t(){var e,a;Object(X.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=Object(J.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r))),Object(he.a)(Object(de.a)(a),"state",{cd:La}),a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.state.cd;return r.a.createElement("div",{className:Sa.a.root},r.a.createElement("div",null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{lg:7,xs:12},r.a.createElement(lt,{title:r.a.createElement("p",{style:{fontWeight:700}},"Apex"),customDropDown:!0},r.a.createElement(st.a,{className:"sparkline-chart",height:350,series:e.apex.column.series,options:e.apex.column.options,type:"bar"}))),r.a.createElement(Ee.a,{lg:12,xs:12},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{lg:6,xs:12},r.a.createElement(lt,{title:r.a.createElement("p",{style:{fontWeight:700}},"Apex"," ",r.a.createElement("span",{className:"fw-semi-bold"},"Monochrome Pie")),customDropDown:!0},r.a.createElement(st.a,{className:"sparkline-chart",type:"pie",height:200,series:e.apex.pie.series,options:e.apex.pie.options}))))))))}}]),t}(r.a.Component),Ra=a(6),Pa="".concat(p,"/staffs"),Fa={getAll:function(){return b.a.get(Pa)},getAllDeleted:function(){return b.a.get("".concat(Pa,"?deleted=true"))},getById:function(e){return b.a.get("".concat(Pa,"/").concat(e))},update:function(e){return b.a.put("".concat(Pa,"/").concat(e.id),e)},softDelete:function(e){return b.a.delete("".concat(Pa,"/").concat(e))},create:function(e){return b.a.post(Pa,e)},restore:function(e){return b.a.post("".concat(Pa,"/").concat(e,"/restore"))},reissuePassword:function(e){return b.a.post("".concat(Pa,"/").concat(e.staffId,"/update-password"),e)}},Ma=a(427),Ha=a(63),Ga=a(420),qa=a(421),Ka=a(422),Wa=a(423);var Ya=function(e){var t=e.preGlobalFilteredRows,a=e.globalFilter,l=e.setGlobalFilter,c=t.length,o=Object(n.useState)(a),i=Object(Ra.a)(o,2),s=i[0],u=i[1],m=Object(Ha.useAsyncDebounce)(function(e){l(e||void 0)},200);return r.a.createElement(Ga.a,{inline:!0,onSubmit:function(e){return e.preventDefault()}},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{className:"mr-3"},"T\xecm ki\u1ebfm:"),r.a.createElement(Wa.a,{value:s||"",onChange:function(e){var t=e.target;u(t.value),m(t.value)},placeholder:"T\xecm trong ".concat(c," h\xe0ng...")})))},Qa=a(424),Ua=a(425),za=a(426),Va=a(219),Xa=a.n(Va);var Za=function(e){var t=e.canPreviousPage,a=e.canNextPage,n=e.pageOptions,l=e.pageCount,c=e.gotoPage,o=e.nextPage,i=e.previousPage,s=e.setPageSize,u=e.state,m=u.pageIndex,d=u.pageSize,h=function(e,t){e.preventDefault(),t()};return r.a.createElement(ge.a,{className:"table-pagination"},r.a.createElement(Ee.a,{sm:"12",md:"5",className:Xa.a.paginationContainer},r.a.createElement(Qa.a,null,r.a.createElement(Ua.a,{disabled:!t},r.a.createElement(za.a,{onClick:function(e){return h(e,function(){return c(0)})}},"\u2039\u2039")),r.a.createElement(Ua.a,{disabled:!t},r.a.createElement(za.a,{onClick:function(e){return h(e,function(){return i()})}},"\u2039")),r.a.createElement(Ua.a,{disabled:!a},r.a.createElement(za.a,{onClick:function(e){return h(e,function(){return o()})}},"\u203a")),r.a.createElement(Ua.a,{disabled:!a},r.a.createElement(za.a,{onClick:function(e){return h(e,function(){return c(l-1)})}},"\u203a\u203a"))),r.a.createElement("span",null,"Trang"," ",r.a.createElement("strong",null,m+1,"/",n.length))),r.a.createElement(Ee.a,{sm:"12",md:"7",className:"d-flex justify-content-end"},r.a.createElement(Ga.a,{inline:!0,onSubmit:function(e){return e.preventDefault()}},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,null,"\u0110\u1ebfn trang:",r.a.createElement(Wa.a,{type:"number",min:1,max:l,defaultValue:m+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;c(t)},style:{width:"100px"}}))),r.a.createElement(qa.a,null,r.a.createElement(Wa.a,{type:"select",value:d,onChange:function(e){s(Number(e.target.value))}},[5,10,20,30,40,50].map(function(e){return r.a.createElement("option",{key:e,value:e},e," h\xe0ng")}))))))},Ja=a(149),$a=a.n(Ja),en=function(e){var t=e.tableData,a=e.tableColumns,l=e.children,c=e.tableClassName,o=void 0===c?"":c,i=Object(n.useMemo)(function(){return t},[t]),s=Object(Ha.useTable)({columns:a,data:i,initialState:{pageIndex:0}},Ha.useGlobalFilter,Ha.useSortBy,Ha.usePagination),u=s.getTableProps,m=s.getTableBodyProps,d=s.headerGroups,h=s.prepareRow,p=s.page,f=s.state,b=s.preGlobalFilteredRows,g=s.setGlobalFilter;return r.a.createElement("div",{className:$a.a.root},r.a.createElement(ge.a,{className:"mb-1"},r.a.createElement(Ee.a,{className:"d-flex align-items-center"},l),r.a.createElement(Ee.a,{className:"d-flex justify-content-end"},r.a.createElement(Ya,{preGlobalFilteredRows:b,globalFilter:f.globalFilter,setGlobalFilter:g}))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{className:"table-responsive"},r.a.createElement(Ma.a,Object.assign({className:o},u,{bordered:!0}),r.a.createElement("thead",null,d.map(function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(function(e){return r.a.createElement("th",Object.assign({className:"text-white"},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),r.a.createElement("span",{className:$a.a.sortIcon},e.isSorted?e.isSortedDesc?r.a.createElement("i",{className:"fa fa-sort-amount-desc",title:"S\u1eafp x\u1ebfp gi\u1ea3m d\u1ea7n"}):r.a.createElement("i",{className:"fa fa-sort-amount-asc",title:"S\u1eafp x\u1ebfp t\u0103ng d\u1ea7n"}):null))}))})),r.a.createElement("tbody",m(),p.map(function(e){return h(e),r.a.createElement("tr",e.getRowProps(),e.cells.map(function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))}))}))))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Za,s))))},tn="".concat(p,"/roles"),an={getAll:function(){return b.a.get(tn)},getAllDeleted:function(){return b.a.get("".concat(tn,"?deleted=true"))},getById:function(e){return b.a.get("".concat(tn,"/").concat(e))},getAllStaffsByRoleId:function(e){return b.a.get("".concat(tn,"/").concat(e,"/staffs"))},update:function(e){return b.a.put("".concat(tn,"/").concat(e.id),e)},softDelete:function(e){return b.a.delete("".concat(tn,"/").concat(e))},create:function(e){return b.a.post(tn,e)},restore:function(e){return b.a.post("".concat(tn,"/").concat(e,"/restore"))}},nn={position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},rn={position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},ln={position:"top-right",hideProgressBar:!1,closeOnClick:!0,draggable:!0},cn=function(e){le.b.success(e,nn)},on=function(e){le.b.error(e,nn)},sn=function(e){le.b.success(e,rn)},un=function(e){le.b.error(e,rn)};var mn=function(e){var t=e.children,a=e.toggle,n=Object(Be.a)(e,["children","toggle"]),l=r.a.createElement("button",{className:"close",onClick:a},"\xd7");return r.a.createElement(Je.a,Object.assign({toggle:a,close:l},n),t)},dn=a(428),hn=function(e){var t=e.children,a=e.name,n=e.label,l=e.feedback,c=void 0===l?"":l,o=Object(Be.a)(e,["children","name","label","feedback"]);return r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:a},n),r.a.createElement(Wa.a,Object.assign({name:a,invalid:""!==c},o),t),r.a.createElement(dn.a,null,c))},pn={username:"",password:"",confirmPassword:"",fullname:"",phoneNumber:"",role:"",salaryPerShift:""},fn={username:"",password:"",confirmPassword:"",fullname:"",phoneNumber:"",role:"",salaryPerShift:0},bn=function(e,t){return{username:e.username,password:e.password,fullname:e.fullname,phoneNumber:e.phoneNumber,role:t.find(function(t){return t.id===Number(e.role)}),salaryPerShift:Number(e.salaryPerShift)}},gn=function(e){var t=e.show,a=e.toggle,l=e.handleAddStaff,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(fn),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(pn),E=Object(Ra.a)(g,2),v=E[0],O=E[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.getAll();case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var y=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f.password===f.confirmPassword){e.next=4;break}return O(Object(s.a)({},v,{confirmPassword:"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng kh\u1edbp"})),e.abrupt("return");case 4:return O(pn),n=bn(f,i),console.log(n),e.prev=7,e.next=10,Fa.create(n);case 10:r=e.sent,l(r.data),cn("Th\xeam nh\xe2n vi\xean th\xe0nh c\xf4ng"),a(),b(fn),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),O(Object(s.a)({},v,e.t0.response.data)),on("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i");case 21:case"end":return e.stop()}},e,null,[[7,17]])}));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target;b(Object(s.a)({},f,{[t.name]:t.value}))};return r.a.createElement(Ze.a,{isOpen:t,toggle:a},r.a.createElement(Ga.a,{onSubmit:y},r.a.createElement(mn,{toggle:a},"Th\xeam nh\xe2n vi\xean"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(hn,{required:!0,onChange:j,label:"T\xean t\xe0i kho\u1ea3n",name:"username",value:f.username,feedback:v.username}),r.a.createElement(hn,{required:!0,onChange:j,label:"M\u1eadt kh\u1ea9u",type:"password",name:"password",value:f.password,feedback:v.password}),r.a.createElement(hn,{required:!0,onChange:j,label:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",type:"password",name:"confirmPassword",value:f.confirmPassword,feedback:v.confirmPassword}),r.a.createElement(hn,{required:!0,onChange:j,label:"H\u1ecd v\xe0 t\xean",name:"fullname",value:f.fullname,feedback:v.fullname}),r.a.createElement(hn,{required:!0,onChange:j,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phoneNumber",value:f.phoneNumber,feedback:v.phoneNumber}),r.a.createElement(hn,{required:!0,onChange:j,label:"Ch\u1ee9c v\u1ee5",type:"select",name:"role",value:f.role,feedback:v.role},r.a.createElement("option",{disabled:!0,value:""},"--- Ch\u1ecdn ch\u1ee9c v\u1ee5 ---"),i.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),"1"===f.role&&r.a.createElement("p",{className:"text-danger"},"* Ch\u1ee9c v\u1ee5 n\xe0y c\xf3 quy\u1ec1n ADMIN"),r.a.createElement(hn,{required:!0,onChange:j,type:"number",label:"L\u01b0\u01a1ng/Ca",name:"salaryPerShift",min:"0",max:"20000000",value:f.salaryPerShift,feedback:v.salaryPerShift})),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"H\u1ee7y")," ",r.a.createElement(tt.a,{color:"warning",type:"submit"},"L\u01b0u"))))},En=a(429),vn=a(430),On={newPassword:"",confirmPassword:""},yn=function(e,t){return{id:e.id,username:e.username,fullname:e.fullname,phoneNumber:e.phoneNumber,role:t.find(function(t){return t.id===Number(e.role)}),salaryPerShift:Number(e.salaryPerShift)}},jn=function(e){var t=e.show,a=e.toggle,l=e.staff,c=e.handleEditStaff,o=e.handleDeleteStaff,i=Object(n.useState)([]),u=Object(Ra.a)(i,2),h=u[0],p=u[1],f=Object(n.useState)("1"),b=Object(Ra.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)({}),O=Object(Ra.a)(v,2),y=O[0],j=O[1],k=Object(n.useState)({}),N=Object(Ra.a)(k,2),w=N[0],x=N[1],C=Object(n.useState)(On),S=Object(Ra.a)(C,2),T=S[0],_=S[1],D=Object(n.useState)({}),I=Object(Ra.a)(D,2),A=I[0],L=I[1],B=Object(n.useState)(""),R=Object(Ra.a)(B,2),P=R[0],F=R[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.getAll();case 3:t=e.sent,p(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Object(n.useEffect)(function(){j(Object(s.a)({},l,{role:String(l.role.id)}))},[l]);var M=function(e){g!==e&&E(e)},H=function(e){var t=e.target;j(Object(s.a)({},y,{[t.name]:t.value}))},G=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Fa.update(yn(y,h));case 4:a=e.sent,c(a.data),x({}),cn("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),x(e.t0.response.data),on("C\u1eadp nh\u1eadt th\xf4ng tin th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),q="ADMIN"===l.role.code,K=function(e){var t=e.target;_(Object(s.a)({},T,{[t.name]:t.value}))},W=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=T.newPassword,T.confirmPassword===a&&!q){e.next=5;break}return L({confirmPassword:"M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,Fa.reissuePassword({staffId:l.id,newPassword:T.newPassword});case 8:_(On),L({}),cn("C\u1ea5p l\u1ea1i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),L(e.t0.response.data),on("C\u1ea5p l\u1ea1i m\u1eadt kh\u1ea9u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 17:case"end":return e.stop()}},e,null,[[5,13]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Fa.softDelete(l.id);case 4:o(l.id),cn("Kh\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng"),a(),F(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),on("Kh\xf3a t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,className:"modal-lg modal-dialog",toggle:a},r.a.createElement(mn,{toggle:a},"Chi ti\u1ebft nh\xe2n vi\xean"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===g}),onClick:function(){return M("1")}},"Th\xf4ng tin chung")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===g}),onClick:function(){return M("2")}},"C\u1ea5p l\u1ea1i m\u1eadt kh\u1ea9u")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"3"===g}),onClick:function(){return M("3")}},"Kh\xf3a t\xe0i kho\u1ea3n"))),r.a.createElement(En.a,{activeTab:g},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:G},r.a.createElement("h4",null,"Th\xf4ng tin chung"),r.a.createElement(hn,{required:!0,disabled:!0,onChange:H,label:"T\xean t\xe0i kho\u1ea3n",name:"username",value:y.username,feedback:w.username}),r.a.createElement(hn,{required:!0,onChange:H,label:"H\u1ecd v\xe0 t\xean",name:"fullname",value:y.fullname,feedback:w.fullname}),r.a.createElement(hn,{required:!0,onChange:H,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phoneNumber",value:y.phoneNumber,feedback:w.phoneNumber}),r.a.createElement(hn,{required:!0,onChange:H,label:"Ch\u1ee9c v\u1ee5",type:"select",name:"role",value:y.role,feedback:w.role},r.a.createElement("option",{disabled:!0,value:""},"--- Ch\u1ecdn ch\u1ee9c v\u1ee5 ---"),h.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),"1"===y.role&&r.a.createElement("p",{className:"text-danger"},"* Ch\u1ee9c v\u1ee5 n\xe0y c\xf3 quy\u1ec1n ADMIN"),r.a.createElement(hn,{required:!0,onChange:H,type:"number",label:"L\u01b0\u01a1ng/Ca",name:"salaryPerShift",min:"0",max:"20000000",value:y.salaryPerShift,feedback:w.salaryPerShift}),r.a.createElement(tt.a,{type:"submit",color:"warning",block:!0},"C\u1eadp nh\u1eadt"))))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:W},r.a.createElement("h4",null,"C\u1ea5p l\u1ea1i m\u1eadt kh\u1ea9u"),q&&r.a.createElement("p",null,"T\xednh n\u0103ng n\xe0y kh\xf4ng \xe1p d\u1ee5ng v\u1edbi t\xe0i kho\u1ea3n c\xf3 quy\u1ec1n ADMIN"),r.a.createElement(hn,{required:!0,disabled:q,onChange:K,label:"M\u1eadt kh\u1ea9u m\u1edbi",name:"newPassword",type:"password",value:T.newPassword,feedback:A.newPassword}),r.a.createElement(hn,{required:!0,disabled:q,onChange:K,label:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",name:"confirmPassword",type:"password",value:T.confirmPassword,feedback:A.confirmPassword}),r.a.createElement(tt.a,{disabled:q,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn c\u1ea5p l\u1ea1i m\u1eadt kh\u1ea9u"))))),r.a.createElement(vn.a,{tabId:"3"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Kh\xf3a t\xe0i kho\u1ea3n"),r.a.createElement("p",null,"T\xe0i kho\u1ea3n b\u1ecb kh\xf3a c\xf3 th\u1ec3 kh\xf4i ph\u1ee5c \u1edf cu\u1ed1i ph\u1ea7n qu\u1ea3n l\xfd nh\xe2n vi\xean"),r.a.createElement(Ga.a,{onSubmit:Y},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"confirmDelete"},"Nh\u1eadp ",r.a.createElement("strong",null,l.username)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 kh\xf3a t\xe0i kho\u1ea3n"),r.a.createElement(Wa.a,{required:!0,onChange:function(e){var t=e.target;F(t.value)},name:"confirmDelete",value:P})),r.a.createElement(tt.a,{disabled:P!==l.username,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))))};var kn=function(e){var t=e.formClassName,a=void 0===t?"":t,n=e.value,l=e.onChange,c=e.name,o=Object(Be.a)(e,["formClassName","value","onChange","name"]);return r.a.createElement(Ga.a,{className:a,onSubmit:function(e){return e.preventDefault()}},r.a.createElement(qa.a,null,r.a.createElement(Wa.a,Object.assign({value:n,onChange:l,type:"search",name:c},o))))},Nn=a(78),wn=a.n(Nn),xn=function(e){var t=e.show,a=e.toggle,l=e.handleRestoreStaff,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),h=Object(Ra.a)(u,2),p=h[0],f=h[1];Object(n.useEffect)(function(){t&&b()},[t]);var b=function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fa.getAllDeleted();case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fa.restore(t);case 3:a=i.find(function(e){return e.id===t}),s(i.filter(function(e){return e.id!==t})),a.deleted=!1,l(a),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"Nh\xe2n vi\xean \u0111\xe3 kh\xf3a"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(kn,{value:p,onChange:function(e){var t=e.target;f(t.value)},placeholder:"T\xecm nh\xe2n vi\xean..."}),r.a.createElement(Ma.a,{className:wn.a.restoreTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xe0i kho\u1ea3n"),r.a.createElement("th",null,"H\u1ecd v\xe0 t\xean"),r.a.createElement("th",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement("th",null,"Ch\u1ee9c v\u1ee5"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.filter(function(e){var t=e.username,a=e.fullname,n=e.phoneNumber,r=e.role,l=p.toLowerCase();return-1!==t.toLowerCase().indexOf(l)||-1!==a.toLowerCase().indexOf(l)||-1!==n.toLowerCase().indexOf(l)||-1!==r.name.toLowerCase().indexOf(l)}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement("p",{className:wn.a.tableRow},e.username)),r.a.createElement("th",null,r.a.createElement("p",{className:wn.a.tableRow},e.fullname)),r.a.createElement("th",null,r.a.createElement("p",{className:wn.a.tableRow},e.phoneNumber)),r.a.createElement("th",null,r.a.createElement("p",{className:wn.a.tableRow},e.role.name," ",e.role.deleted&&r.a.createElement("i",null,"(\u0110\xe3 kh\xf3a)"))),r.a.createElement("th",null,r.a.createElement(tt.a,{disabled:e.role.deleted,size:"sm",color:"warning",title:"Kh\xf4i ph\u1ee5c",onClick:function(){return g(e.id)}},r.a.createElement("i",{className:"fa fa-undo"}))))}))),0===i.length&&r.a.createElement("p",{className:"text-center"},"Kh\xf4ng c\xf3 nh\xe2n vi\xean n\xe0o b\u1ecb kh\xf3a")),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"Tho\xe1t")))},Cn=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),Sn=new Intl.NumberFormat("vi-VN"),Tn=function(e){return Cn.format(e)},_n=function(e){return Sn.format(e)},Dn=function(e){var t;return null!==(t=e.billDetails)&&void 0!==t&&t.length?e.billDetails.reduce(function(e,t){var a=t.food,n=t.quantity;return e+a.price*n},0):0},In={id:0,username:"",fullname:"",phoneNumber:"",salaryPerShift:0,role:{},deleted:!1},An=function(){var e=Object(n.useState)([]),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(!1),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(In),E=Object(Ra.a)(g,2),v=E[0],O=E[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fa.getAll();case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var y=a.map(function(e){return Object(s.a)({},e,{role:e.role.name})}),j=[{Header:"T\xe0i kho\u1ea3n",accessor:"username"},{Header:"H\u1ecd v\xe0 t\xean",accessor:"fullname"},{Header:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",accessor:"phoneNumber"},{Header:"Ch\u1ee9c v\u1ee5",accessor:"role"},{Header:"L\u01b0\u01a1ng/Ca",accessor:"salaryPerShift",Cell:function(e){var t=e.value;return Tn(t)}},{Header:"",accessor:"id",Cell:function(e){var t=e.value;return r.a.createElement(tt.a,{color:"warning",onClick:function(){return w(t)}},r.a.createElement("i",{className:"fa fa-eye"}))}}],k=function(){u(!i)},N=function(){b(!f)},w=function(e){var t=e?a.find(function(t){return t.id===e}):void 0;O(t||In)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd nh\xe2n vi\xean"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(en,{tableData:y,tableColumns:j},r.a.createElement(tt.a,{color:"warning",onClick:k},"Th\xeam nh\xe2n vi\xean")))),r.a.createElement(tt.a,{color:"primary",onClick:N},"Nh\xe2n vi\xean \u0111\xe3 kh\xf3a"),r.a.createElement(gn,{show:i,toggle:k,handleAddStaff:function(e){l([].concat(Object(q.a)(a),[e]))}}),r.a.createElement(jn,{show:Boolean(v.id),toggle:w,staff:v,handleEditStaff:function(e){l(a.map(function(t){return t.id===e.id?e:t}))},handleDeleteStaff:function(e){l(a.filter(function(t){return t.id!==e}))}}),r.a.createElement(xn,{show:f,toggle:N,handleRestoreStaff:function(e){l([].concat(Object(q.a)(a),[e]))}}))},Ln={id:0,name:"",code:""},Bn=function(e){var t=e.show,a=e.toggle,l=e.role,c=e.handleUpdateRole,o=e.handleDeleteRole,i=Object(n.useState)([]),u=Object(Ra.a)(i,2),h=u[0],p=u[1],f=Object(n.useState)("1"),b=Object(Ra.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)(""),O=Object(Ra.a)(v,2),y=O[0],j=O[1],k=Object(n.useState)(Ln),N=Object(Ra.a)(k,2),w=N[0],x=N[1],C=Object(n.useState)({}),S=Object(Ra.a)(C,2),T=S[0],_=S[1],D=Object(n.useState)(""),I=Object(Ra.a)(D,2),A=I[0],L=I[1];Object(n.useEffect)(function(){l.id&&l.id!==w.id&&(x(null!==l&&void 0!==l&&l.id?l:Ln),function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.getAllStaffsByRoleId(l.id);case 3:t=e.sent,p(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()())},[l,w.id]);var B=function(e){g!==e&&E(e)},R=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,an.update(w);case 4:a=e.sent,c(a.data),cn("Thay \u0111\u1ed5i th\xf4ng tin th\xe0nh c\xf4ng"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),_(e.t0.response.data),on("Thay \u0111\u1ed5i th\xf4ng tin th\u1ea5t b\u1ea1i");case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,an.softDelete(l.id);case 4:o(l.id),cn("Kh\xf3a ch\u1ee9c v\u1ee5 th\xe0nh c\xf4ng"),a(),L(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),on("Kh\xf3a ch\u1ee9c v\u1ee5 th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),F="MISC"!==(null===l||void 0===l?void 0:l.code),M=0===h.length;return r.a.createElement(Ze.a,{isOpen:t,className:"modal-lg modal-dialog-scrollable",toggle:a},r.a.createElement(mn,{toggle:a},"Chi ti\u1ebft ch\u1ee9c v\u1ee5"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===g}),onClick:function(){return B("1")}},"Th\xf4ng tin chung")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===g}),onClick:function(){return B("2")}},"Danh s\xe1ch nh\xe2n vi\xean")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"3"===g}),onClick:function(){return B("3")}},"Kh\xf3a ch\u1ee9c v\u1ee5"))),r.a.createElement(En.a,{activeTab:g},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:R},r.a.createElement("h4",null,"Th\xf4ng tin chung"),r.a.createElement(hn,{required:!0,name:"name",label:"T\xean ch\u1ee9c v\u1ee5",value:w.name,onChange:function(e){var t=e.target;x(Object(s.a)({},w,{name:t.value}))},feedback:T.name}),r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"code"},"M\xe3"),r.a.createElement(Wa.a,{disabled:!0,name:"code",value:w.code})),r.a.createElement(tt.a,{type:"submit",color:"warning",block:!0},"C\u1eadp nh\u1eadt"))))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Danh s\xe1ch nh\xe2n vi\xean"),r.a.createElement(kn,{value:y,placeholder:"T\xecm nh\xe2n vi\xean...",onChange:function(e){var t=e.target;j(t.value)}}),r.a.createElement(Ma.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xe0i kho\u1ea3n"),r.a.createElement("th",null,"H\u1ecd v\xe0 t\xean"),r.a.createElement("th",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement("th",null,"L\u01b0\u01a1ng/Ca (VND)"))),r.a.createElement("tbody",null,h.filter(function(e){var t=e.username,a=e.fullname,n=e.phoneNumber,r=y.toLowerCase();return-1!==t.toLowerCase().indexOf(r)||-1!==a.toLowerCase().indexOf(r)||-1!==n.toLowerCase().indexOf(r)}).map(function(e){var t=e.id,a=e.username,n=e.fullname,l=e.phoneNumber,c=e.salaryPerShift;return r.a.createElement("tr",{key:t},r.a.createElement("th",null,a),r.a.createElement("th",null,n),r.a.createElement("th",null,l),r.a.createElement("th",null,c))}))),M&&r.a.createElement("p",{className:"text-center"},"Ch\u1ee9c v\u1ee5 hi\u1ec7n ch\u01b0a c\xf3 nh\xe2n vi\xean n\xe0o")))),r.a.createElement(vn.a,{tabId:"3"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Kh\xf3a ch\u1ee9c v\u1ee5"),r.a.createElement("p",null,"Ch\u1ee9c v\u1ee5 b\u1ecb kh\xf3a c\xf3 th\u1ec3 kh\xf4i ph\u1ee5c \u1edf cu\u1ed1i ph\u1ea7n qu\u1ea3n l\xfd ch\u1ee9c v\u1ee5"),F?r.a.createElement("p",{className:"text-danger"},"T\xednh n\u0103ng kh\xf4ng \xe1p d\u1ee5ng v\u1edbi c\xe1c ch\u1ee9c v\u1ee5 ch\xednh"):!M&&r.a.createElement("p",{className:"text-danger"},"\u0110ang t\u1ed3n t\u1ea1i t\xe0i kho\u1ea3n v\u1edbi ch\u1ee9c v\u1ee5 n\xe0y, kh\xf4ng th\u1ec3 x\xf3a"),r.a.createElement(Ga.a,{onSubmit:P},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"confirmDelete"},"Nh\u1eadp ",r.a.createElement("strong",null,l.name)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 kh\xf3a ch\u1ee9c v\u1ee5"),r.a.createElement(Wa.a,{required:!0,disabled:!M,onChange:function(e){var t=e.target;L(t.value)},name:"confirmDelete",value:A,placeholder:l.name})),r.a.createElement(tt.a,{disabled:A!==l.name||!M,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))))},Rn=a(114),Pn=a.n(Rn),Fn=function(e){var t=e.show,a=e.toggle,l=e.handleRestoreRole,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),h=Object(Ra.a)(u,2),p=h[0],f=h[1];Object(n.useEffect)(function(){t&&b()},[t]);var b=function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.getAllDeleted();case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.restore(t);case 3:a=i.find(function(e){return e.id===t}),s(i.filter(function(e){return e.id!==t})),a.deleted=!1,l(a),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"Ch\u1ee9c v\u1ee5 \u0111\xe3 kh\xf3a"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(kn,{value:p,onChange:function(e){var t=e.target;f(t.value)},placeholder:"T\xecm ch\u1ee9c v\u1ee5..."}),r.a.createElement(Ma.a,{className:Pn.a.restoreTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean ch\u1ee9c v\u1ee5"),r.a.createElement("th",null,"M\xe3"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.filter(function(e){var t=e.name,a=e.code,n=p.toLowerCase();return-1!==t.toLowerCase().indexOf(n)||-1!==a.toLowerCase().indexOf(n)}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement("p",{className:Pn.a.tableRow},e.name)),r.a.createElement("th",null,r.a.createElement("p",{className:Pn.a.tableRow},e.code)),r.a.createElement("th",null,r.a.createElement(tt.a,{size:"sm",color:"warning",title:"Kh\xf4i ph\u1ee5c",onClick:function(){return g(e.id)}},r.a.createElement("i",{className:"fa fa-undo"}))))}))),0===i.length&&r.a.createElement("p",{className:"text-center"},"Kh\xf4ng c\xf3 ch\u1ee9c v\u1ee5 n\xe0o b\u1ecb kh\xf3a")),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"Tho\xe1t")))},Mn={name:"",code:"MISC"},Hn={name:""},Gn=function(e){var t=e.show,a=e.toggle,l=e.handleAddRole,c=Object(n.useState)(Mn),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(Hn),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,b(Hn),e.next=5,an.create(i);case 5:n=e.sent,l(n.data),cn("T\u1ea1o ch\u1ee9c v\u1ee5 th\xe0nh c\xf4ng"),a(),u(Mn),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),b(e.t0.response.data),on("T\u1ea1o ch\u1ee9c v\u1ee5 th\u1ea5t b\u1ea1i");case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,toggle:a},r.a.createElement(Ga.a,{onSubmit:g},r.a.createElement(mn,{toggle:a},"Th\xeam ch\u1ee9c v\u1ee5"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(hn,{required:!0,onChange:function(e){var t=e.target;u(Object(s.a)({},i,{[t.name]:t.value}))},label:"T\xean ch\u1ee9c v\u1ee5",name:"name",value:i.name,feedback:f.name}),r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"code"},"M\xe3"),r.a.createElement(Wa.a,{disabled:!0,max:"20000000",value:"MISC"}))),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"H\u1ee7y")," ",r.a.createElement(tt.a,{color:"warning",type:"submit"},"L\u01b0u"))))},qn=a(53),Kn=a.n(qn),Wn=function(){var e=Object(n.useState)([]),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!1),h=Object(Ra.a)(u,2),p=h[0],f=h[1],b=Object(n.useState)(!1),g=Object(Ra.a)(b,2),E=g[0],v=g[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.getAll();case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var O=function(e){s(null!==e&&void 0!==e&&e.id?e:{})},y=function(){return f(!p)},j=function(){return v(!E)},k=function(e){return l([].concat(Object(q.a)(a),[e]))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd ch\u1ee9c v\u1ee5"))),r.a.createElement("br",null),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h4",null,"Ch\u1ee9c v\u1ee5 ch\xednh"),r.a.createElement("p",null,"C\xe1c ch\u1ee9c v\u1ee5 tham gia v\u1eadn h\xe0nh h\u1ec7 th\u1ed1ng"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ma.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:Kn.a.roleName},"T\xean ch\u1ee9c v\u1ee5"),r.a.createElement("th",{className:Kn.a.roleCode},"M\xe3"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.filter(function(e){return"MISC"!==e.code}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:Kn.a.roleName},e.name),r.a.createElement("td",{className:Kn.a.roleCode},e.code),r.a.createElement("td",{className:"d-flex justify-content-end"},r.a.createElement(tt.a,{color:"warning",onClick:function(){return O(e)}},r.a.createElement("i",{className:"fa fa-eye"}))))}))))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12",md:"8"},r.a.createElement("h4",null,"Ch\u1ee9c v\u1ee5 ph\u1ee5"),r.a.createElement("p",null,"C\xe1c ch\u1ee9c v\u1ee5 kh\xf4ng tr\u1ef1c ti\u1ebfp tham gia v\u1eadn h\xe0nh h\u1ec7 th\u1ed1ng")),r.a.createElement(Ee.a,{sm:"12",md:"4",className:"d-flex justify-content-md-end align-items-center"},r.a.createElement(tt.a,{color:"warning",onClick:y},"Th\xeam ch\u1ee9c v\u1ee5"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ma.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:Kn.a.roleName},"T\xean ch\u1ee9c v\u1ee5"),r.a.createElement("th",{className:Kn.a.roleCode},"M\xe3"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.filter(function(e){return"MISC"===e.code}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:Kn.a.roleName},e.name),r.a.createElement("td",{className:Kn.a.roleCode},e.code),r.a.createElement("td",{className:"d-flex justify-content-end"},r.a.createElement(tt.a,{color:"warning",onClick:function(){return O(e)}},r.a.createElement("i",{className:"fa fa-eye"}))))}))))),r.a.createElement(tt.a,{color:"primary",onClick:j},"Ch\u1ee9c v\u1ee5 \u0111\xe3 kh\xf3a"),r.a.createElement(Gn,{show:p,toggle:y,handleAddRole:k}),r.a.createElement(Bn,{show:Boolean(i.id),toggle:O,role:i,handleUpdateRole:function(e){l(a.map(function(t){return t.id===e.id?e:t}))},handleDeleteRole:function(e){l(a.filter(function(t){return t.id!==e}))}}),r.a.createElement(Fn,{show:E,toggle:j,handleRestoreRole:k}))},Yn=a(227),Qn=a(220),Un=a(221),zn=a(222),Vn=a(431),Xn=a(432),Zn=a(433),Jn=a(434),$n=a(40),er=a.n($n),tr="".concat(p,"/schedules"),ar=function(e){var t=er()(e).format("yyyy-MM");return b.a.get("".concat(tr,"/by-month/").concat(t))},nr=function(e){return b.a.put("".concat(tr,"/").concat(e.id),e)},rr=function(e){return b.a.delete("".concat(tr,"/").concat(e))},lr=function(e){return b.a.post(tr,e)},cr="".concat(p,"/violations"),or={getAll:function(){return b.a.get(cr)},getAllDeleted:function(){return b.a.get("".concat(cr,"?deleted=true"))},getById:function(e){return b.a.get("".concat(cr,"/").concat(e))},update:function(e){return b.a.put("".concat(cr,"/").concat(e.id),e)},softDelete:function(e){return b.a.delete("".concat(cr,"/").concat(e))},create:function(e){return b.a.post(cr,e)},restore:function(e){return b.a.post("".concat(cr,"/").concat(e,"/restore"))}},ir=function(e){return er()(new Date(e)).format("YYYY-MM-DD")},sr=function(e){return er()(new Date(e)).format("DD/MM/YYYY")},ur=function(e){return er()(new Date(e)).format("HH:mm DD/MM")},mr=function(e){return er()(new Date(e)).format("HH:mm DD/MM/YYYY")},dr=function(e){return er()(new Date(e)).format("HH:mm")},hr=function(e){return er()().diff(new Date(e),"minutes")},pr=function(e){return er()().startOf("day").diff(er()(e).startOf("day"),"days")},fr=a(79),br=a.n(fr),gr={date:"",shift:{},scheduleDetails:[],note:""},Er={staff:{},violation:void 0,overtimeHours:0},vr=function(e){var t=e.violation;return r.a.createElement("option",{value:t.id},"".concat(t.name," (").concat(t.finesPercent,"%)").concat(t.deleted?" - \u0110\xe3 kh\xf3a":""))},Or=function(e){var t,a,l,c,o=e.show,i=e.toggle,u=e.date,h=e.disabledEdit,p=e.shifts,f=e.schedules,b=void 0===f?[]:f,g=e.handleEditSchedule,E=e.handleDeleteSchedule,v=Object(n.useState)([]),O=Object(Ra.a)(v,2),y=O[0],j=O[1],k=Object(n.useState)([]),N=Object(Ra.a)(k,2),w=N[0],x=N[1],C=Object(n.useState)(gr),S=Object(Ra.a)(C,2),T=S[0],_=S[1],D=Object(n.useState)(""),I=Object(Ra.a)(D,2),A=I[0],L=I[1],B=Object(n.useState)(""),R=Object(Ra.a)(B,2),P=R[0],F=R[1],M=Object(n.useState)(!1),H=Object(Ra.a)(M,2),G=H[0],K=H[1],W=(c=u)?c.split("-").reverse().join("/"):"";Object(n.useEffect)(function(){Promise.all([Fa.getAll(),or.getAll()]).then(function(e){var t=Object(Ra.a)(e,2),a=t[0],n=t[1];j(a.data),x(n.data)}).catch(function(e){on("L\u1ea5y th\xf4ng tin th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau"),console.log(e)})},[]);var Y=function(){L(""),_(gr)},Q=function(){i(),Y()},U=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!T.id){e.next=8;break}return e.next=5,nr(T);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,lr(T);case 10:e.t0=e.sent;case 11:a=e.t0,_(a.data),g(a.data),cn("L\u01b0u ca l\xe0m th\xe0nh c\xf4ng"),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(1),on("L\u01b0u ca l\xe0m th\u1ea5t b\u1ea1i: "+(null===e.t1||void 0===e.t1?void 0:null===(n=e.t1.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t1);case 21:case"end":return e.stop()}},e,null,[[1,17]])}));return function(t){return e.apply(this,arguments)}}(),z=Boolean(null===(t=T.shift)||void 0===t?void 0:t.id),V=Boolean(null===T||void 0===T?void 0:null===(a=T.scheduleDetails)||void 0===a?void 0:a.length),X=function(){K(!G)},Z=function(){var e=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X(),E(T),Y(),e.next=6,rr(T.id);case 6:cn("X\xf3a ca l\xe0m th\xe0nh c\xf4ng"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),on("X\xf3a ca l\xe0m th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:o,className:"modal-lg modal-dialog-scrollable",toggle:Q},r.a.createElement(mn,{toggle:Q},"Ng\xe0y ",W),o&&r.a.createElement($e.a,{className:"bg-white position-relative ".concat(br.a.detailsContainer)},!h&&r.a.createElement(Ga.a,{inline:!0,onSubmit:function(e){e.preventDefault(),_(Object(s.a)({},gr,{date:u,shift:p.find(function(e){return e.id===Number(A)})}))}},r.a.createElement(qa.a,null,r.a.createElement(Wa.a,{required:!0,type:"select",value:A,onChange:function(e){var t=e.target;L(t.value)}},r.a.createElement("option",{value:"",disabled:!0},"---Ch\u1ecdn ca l\xe0m---"),p.filter(function(e){return!(null!==b&&void 0!==b&&b.length)||!b.some(function(t){return t.shift.id===e.id})}).map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement(tt.a,{color:"warning",type:"submit"},"Th\xeam"))),r.a.createElement(ge.a,{className:"my-2"},r.a.createElement(Ee.a,null,r.a.createElement(Ma.a,{className:br.a.scheduleTable,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ca l\xe0m"),r.a.createElement("th",null,"Nh\xe2n vi\xean"),r.a.createElement("th",null,"Ghi ch\xfa"),r.a.createElement("th",null))),r.a.createElement("tbody",null,b.length?b.map(function(e){var t;return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.shift.name),r.a.createElement("td",null,r.a.createElement("ul",null,e.scheduleDetails.map(function(e){return r.a.createElement("li",{key:e.id},e.staff.fullname)}))),r.a.createElement("td",null,null!==(t=e.note)&&void 0!==t&&t.length?e.note:"Kh\xf4ng"),r.a.createElement("td",null,r.a.createElement(tt.a,{color:"warning",onClick:function(){return _(e)}},r.a.createElement("i",{className:"fa fa-eye"}))))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4",className:"text-center my-2"},"Ch\u01b0a c\xf3 ca l\xe0m n\xe0o")))))),r.a.createElement("div",{className:"".concat(br.a.detailsForm," ").concat(z&&br.a.show)},z&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{className:"my-2"},r.a.createElement(Ee.a,{className:"d-flex align-items-center"},r.a.createElement(tt.a,{color:"light",className:br.a.closeBtn,onClick:Y},"\u276e"),r.a.createElement("h5",{className:"mb-0 mx-3"},T.shift.name)),r.a.createElement(Ee.a,{className:"d-flex justify-content-end mr-2"},T.id&&!h&&r.a.createElement(tt.a,{onClick:X,color:"warning"},r.a.createElement("i",{className:"fa fa-trash"})))),r.a.createElement(zt.a,{isOpen:G},r.a.createElement(Vn.a,null,r.a.createElement(Xn.a,null,r.a.createElement(Zn.a,{tag:"h5"},"X\xf3a ca l\xe0m"),r.a.createElement(Jn.a,null,"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c, b\u1ea1n c\xf3 ch\u1eafc ch\u1eafn x\xf3a"," ",null===(l=T.shift)||void 0===l?void 0:l.name," ng\xe0y ",u," kh\xf4ng?"),r.a.createElement(tt.a,{onClick:Z,color:"danger",className:"mr-2"},"X\xf3a"),r.a.createElement(tt.a,{onClick:X,color:"light"},"H\u1ee7y")))),r.a.createElement("br",null),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ga.a,{className:"px-2",onSubmit:U},!h&&r.a.createElement(qa.a,null,r.a.createElement(Ka.a,null,"Th\xeam nh\xe2n vi\xean"),r.a.createElement("div",{className:"d-flex"},r.a.createElement(Wa.a,{type:"select",value:P,onChange:function(e){return F(e.target.value)}},r.a.createElement("option",{value:""},"---Ch\u1ecdn nh\xe2n vi\xean---"),y.filter(function(e){return!V||!T.scheduleDetails.some(function(t){return t.staff.id===e.id})}).map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},"".concat(e.fullname," (").concat(e.role.name,")"))})),r.a.createElement(tt.a,{color:"warning",onClick:function(){if(P){var e=y.find(function(e){return e.id===Number(P)}),t=Object(s.a)({},Er,{staff:e});_(Object(s.a)({},T,{scheduleDetails:[].concat(Object(q.a)(T.scheduleDetails),[t])})),F("")}}},"Th\xeam"))),r.a.createElement(Ma.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean"),r.a.createElement("th",null,"Ch\u1ee9c v\u1ee5"),r.a.createElement("th",null,"Vi ph\u1ea1m"),r.a.createElement("th",null,"Gi\u1edd t\u0103ng ca"),r.a.createElement("th",null))),r.a.createElement("tbody",null,V?T.scheduleDetails.map(function(e,t){var a,n;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.staff.fullname),r.a.createElement("td",null,e.staff.role.name),r.a.createElement("td",null,r.a.createElement(Wa.a,{type:"select",value:null!==(a=e.violation)&&void 0!==a&&a.id?e.violation.id:"",onChange:function(t){return function(e,t){var a=e.target,n=w.find(function(e){return e.id===Number(a.value)});_(Object(s.a)({},T,{scheduleDetails:T.scheduleDetails.map(function(e){return e.staff.id!==t?e:Object(s.a)({},e,{violation:n})})}))}(t,e.staff.id)},disabled:h},r.a.createElement("option",{value:""},"Kh\xf4ng c\xf3"),w.map(function(e){return r.a.createElement(vr,{key:e.id,violation:e})}),(null===(n=e.violation)||void 0===n?void 0:n.deleted)&&r.a.createElement(vr,{violation:e.violation}))),r.a.createElement("td",null,r.a.createElement(Wa.a,{type:"number",min:"0",max:"8",step:"0.1",value:e.overtimeHours,disabled:h,onChange:function(t){return function(e,t){var a=e.target;_(Object(s.a)({},T,{scheduleDetails:T.scheduleDetails.map(function(e){return e.staff.id!==t?e:Object(s.a)({},e,{overtimeHours:Number(a.value)})})}))}(t,e.staff.id)}})),r.a.createElement("td",null,r.a.createElement(tt.a,{color:"light",size:"sm",disabled:h,className:"bg-light",onClick:function(){return t=e.staff.id,void _(Object(s.a)({},T,{scheduleDetails:T.scheduleDetails.filter(function(e){return e.staff.id!==t})}));var t}},"\u2715")))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",className:"text-center"},"Ch\u01b0a c\xf3 nh\xe2n vi\xean n\xe0o")))),r.a.createElement(qa.a,null,r.a.createElement(Ka.a,null,"Ghi ch\xfa"),r.a.createElement(Wa.a,{type:"textarea",name:"note",disabled:h,value:T.note?T.note:"",onChange:function(e){var t=e.target;_(Object(s.a)({},T,{note:t.value}))}})),r.a.createElement(tt.a,{disabled:!V||h,color:"warning",type:"submit",className:"mb-3",block:!0},T.id?"C\u1eadp nh\u1eadt":"T\u1ea1o ca l\xe0m"))))))))};a(309);function yr(e){return r.a.createElement("ul",{className:"text-center mb-0"},e.event.title.split(", ").map(function(e,t){return r.a.createElement("li",{key:t},e)}))}var jr=Object(o.b)(function(e){return{isNotAdmin:"ADMIN"!==e.auth.role}})(function(e){var t=e.shifts,a=e.isNotAdmin,l=Object(n.useState)(""),c=Object(Ra.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)({}),h=Object(Ra.a)(u,2),p=h[0],f=h[1],b=Object(n.useState)(!1),g=Object(Ra.a)(b,2),E=g[0],v=g[1];Object(n.useEffect)(function(){t.length&&f(function(e){return function(e,t){if(console.log("update"),!Object.keys(e).length)return e;var a={};t.forEach(function(e){return a[e.id]=e});for(var n={},r=0,l=Object.keys(e);r<l.length;r++){var c=l[r],o=e[c].map(function(e){var t=a[e.shift.id];return t?Object(s.a)({},e,{shift:t}):e});n[c]=o}return n}(e,t)})},[t]);var O=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(a||(r=t.start,er()().startOf("month").isAfter(r))),e.prev=1,e.next=4,ar(t.start);case 4:n=e.sent,f(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 11:case"end":return e.stop()}var r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i(e)},j=t.filter(function(e){return!e.deleted}),k=Object.keys(p).map(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{id:e,title:t.map(function(e){return e.shift.name}).join(", "),start:e}}(e,p[e])});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"calendar-main"},r.a.createElement(Yn.a,{plugins:[Qn.a,Un.a,zn.a],headerToolbar:{right:"prevYear,prev,today,next,nextYear",left:"title"},themeSystem:"bootstrap",views:{dayGridMonth:{titleFormat:{year:"numeric",month:"numeric"},showNonCurrentDates:!1}},initialView:"dayGridMonth",selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:k,select:function(e){y(e.startStr)},eventContent:yr,eventClick:function(e){y(e.event._def.publicId)},datesSet:O,eventColor:"#5eef3b",eventTextColor:"#000000",eventDisplay:"auto"}))),r.a.createElement(Or,{show:Boolean(o),toggle:y,date:o,disabledEdit:E,shifts:j,schedules:p[o],handleEditSchedule:function(e){var t=e.date,a=p[t],n=Object(s.a)({},p);a?p[t].some(function(t){return t.id===e.id})?n[t]=a.map(function(t){return t.id===e.id?e:t}):n[t]=[].concat(Object(q.a)(a),[e]):n[t]=[e],f(n)},handleDeleteSchedule:function(e){var t=e.date,a=Object(s.a)({},p),n=p[t].filter(function(t){return t.id!==e.id});n.length?a[t]=n:delete a[t],f(a)}}))}),kr="".concat(p,"/shifts"),Nr={getAll:function(){return b.a.get(kr)},getAllDeleted:function(){return b.a.get("".concat(kr,"?deleted=true"))},getAllWithBothDeletedStatus:function(){return b.a.get("".concat(kr,"?deleted=both"))},getById:function(e){return b.a.get("".concat(kr,"/").concat(e))},update:function(e){return b.a.put("".concat(kr,"/").concat(e.id),e)},softDelete:function(e){return b.a.delete("".concat(kr,"/").concat(e))},create:function(e){return b.a.post(kr,e)},restore:function(e){return b.a.post("".concat(kr,"/").concat(e,"/restore"))}},wr=a(150),xr=a.n(wr),Cr={data:"",feedback:""},Sr=function(e){var t=e.shifts,a=e.handleAddNewShift,l=e.handleUpdateShift,c=e.handleRestoreShift,o=e.handleDeleteShift,i=e.show,u=e.toggle,h=Object(n.useState)("1"),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(Cr),E=Object(Ra.a)(g,2),v=E[0],O=E[1],y=Object(n.useState)({}),j=Object(Ra.a)(y,2),k=j[0],N=j[1],w=Object(n.useState)({}),x=Object(Ra.a)(w,2),C=x[0],S=x[1],T=function(e){f!==e&&b(e)},_=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Nr.create({name:v.data});case 4:n=e.sent,O(Cr),a(n.data),cn("T\u1ea1o ca l\xe0m th\xe0nh c\xf4ng"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),on("T\u1ea1o ca l\xe0m th\u1ea5t b\u1ea1i"),c=null===(r=e.t0.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.name,O(Object(s.a)({},v,{feedback:c||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"}));case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=e.target;N(Object(s.a)({},k,{[t.name]:t.value}))},I=function(){var e=Object(d.a)(m.a.mark(function e(a,n){var r,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,r=t.find(function(e){return e.id===n}),e.next=5,Nr.update(Object(s.a)({},r,{name:k[n]}));case 5:c=e.sent,l(c.data),N(Object(s.a)({},k,{[n]:void 0})),cn("C\u1eadp nh\u1eadt ca l\xe0m th\xe0nh c\xf4ng"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),on("C\u1eadp nh\u1eadt ca l\xe0m th\u1ea5t b\u1ea1i: "+e.t0.response.data.name);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,a){return e.apply(this,arguments)}}(),A=function(e){S(Object(s.a)({},C,{[e]:!C[e]}))},L=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nr.softDelete(t);case 3:o(t),cn("X\xf3a ca l\xe0m th\xe0nh c\xf4ng"),A(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),on("Kh\xf3a ca l\xe0m th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message)),console.log(e.t0.response.data);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nr.restore(t);case 3:c(t),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message)),console.log(e.t0.response.data);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:i,toggle:u},r.a.createElement(mn,{toggle:u},"Qu\u1ea3n l\xfd ca l\xe0m"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===f}),onClick:function(){return T("1")}},"Ca l\xe0m hi\u1ec7n t\u1ea1i")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===f}),onClick:function(){return T("2")}},"Ca l\xe0m \u0111\xe3 kh\xf3a"))),r.a.createElement(En.a,{activeTab:f},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement("h4",null,"Ca l\xe0m hi\u1ec7n t\u1ea1i"),r.a.createElement(Ga.a,{inline:!0,onSubmit:_},r.a.createElement(qa.a,null,r.a.createElement(Wa.a,{required:!0,value:v.data,onChange:function(e){var t=e.target;O(Object(s.a)({},v,{data:t.value}))},placeholder:"T\xean ca l\xe0m m\u1edbi...",invalid:Boolean(v.feedback)}),r.a.createElement(tt.a,{type:"submit",color:"warning"},"Th\xeam"),r.a.createElement(dn.a,null,v.feedback))),r.a.createElement(Ma.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean ca"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.filter(function(e){return!e.deleted}).map(function(e){var a=e.id,n=e.name;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,void 0===k[a]?n:r.a.createElement(Ga.a,{inline:!0,onSubmit:function(e){return I(e,a)}},r.a.createElement(qa.a,null,r.a.createElement(Wa.a,{required:!0,value:k[a],name:a,onChange:D})),r.a.createElement(tt.a,{color:"warning",type:"submit"},"C\u1eadp nh\u1eadt"),r.a.createElement(tt.a,{color:"light",onClick:function(){return function(e){N(Object(s.a)({},k,{[e]:void 0}))}(a)}},"H\u1ee7y")),C[a]&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("p",null,"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf3a ca n\xe0y kh\xf4ng?"),r.a.createElement(tt.a,{color:"warning",onClick:function(){return L(a)}},"C\xf3"),r.a.createElement(tt.a,{color:"light",onClick:function(){return A(a)}},"Kh\xf4ng"))),r.a.createElement("td",{className:xr.a.actions},void 0===k[a]&&r.a.createElement(tt.a,{size:"sm",color:"warning",title:"\u0110\u1ed5i t\xean",onClick:function(){return function(e){var a=t.find(function(t){return t.id===e});N(Object(s.a)({},k,{[e]:a.name}))}(a)}},r.a.createElement("i",{className:"fa fa-pencil"})),!C[a]&&r.a.createElement(tt.a,{size:"sm",color:"danger",title:"Kh\xf3a",onClick:function(){return A(a)}},r.a.createElement("i",{className:"fa fa-lock"}))))})))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement("h4",null,"Ca l\xe0m \u0111\xe3 kh\xf3a"),r.a.createElement(Ma.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean ca"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.filter(function(e){return e.deleted}).map(function(e){var t=e.id,a=e.name;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",{className:xr.a.actions},r.a.createElement(tt.a,{size:"sm",color:"warning",title:"Kh\xf3a",onClick:function(){return B(t)}},r.a.createElement("i",{className:"fa fa-undo"}))))})))))),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:u},"Tho\xe1t")))};var Tr=Object(o.b)(function(e){return{isAdmin:"ADMIN"===e.auth.role}})(function(e){var t=e.isAdmin,a=Object(n.useState)([]),l=Object(Ra.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!1),u=Object(Ra.a)(i,2),h=u[0],p=u[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nr.getAllWithBothDeletedStatus();case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var f=function(){p(!h)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"L\u1ecbch l\xe0m vi\u1ec7c")),t&&r.a.createElement(Ee.a,{color:"warning",className:"d-flex justify-content-end"},r.a.createElement(tt.a,{color:"warning",onClick:f},"Qu\u1ea3n l\xfd ca l\xe0m"))),r.a.createElement("br",null),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(jr,{shifts:c}))),t&&r.a.createElement(Sr,{shifts:c,handleAddNewShift:function(e){o([].concat(Object(q.a)(c),[e]))},handleUpdateShift:function(e){o(c.map(function(t){return t.id===e.id?e:t}))},handleRestoreShift:function(e){o(c.map(function(t){return t.id!==e?t:Object(s.a)({},t,{deleted:!1})}))},handleDeleteShift:function(e){o(c.map(function(t){return t.id!==e?t:Object(s.a)({},t,{deleted:!0})}))},show:h,toggle:f}))}),_r={name:"",finesPercent:0},Dr={name:"",finesPercent:""},Ir=function(e){var t=e.show,a=e.toggle,l=e.handleAddViolation,c=Object(n.useState)(_r),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(Dr),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=function(e){var t=e.target;u(Object(s.a)({},i,{[t.name]:t.value}))},E=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,b(Dr),e.next=5,or.create({name:i.name,finesPercent:Number(i.finesPercent)});case 5:n=e.sent,l(n.data),cn("T\u1ea1o vi ph\u1ea1m th\xe0nh c\xf4ng"),a(),u(_r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),b(e.t0.response.data),on("T\u1ea1o vi ph\u1ea1m th\u1ea5t b\u1ea1i");case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,toggle:a},r.a.createElement(Ga.a,{onSubmit:E},r.a.createElement(mn,{toggle:a},"Th\xeam vi ph\u1ea1m"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(hn,{required:!0,onChange:g,label:"T\xean vi ph\u1ea1m",name:"name",value:i.name,feedback:f.name}),r.a.createElement(hn,{required:!0,onChange:g,type:"number",min:"0",max:"100",step:"1",label:"M\u1ee9c ph\u1ea1t theo ca (%)",name:"finesPercent",value:i.finesPercent,feedback:f.finesPercent})),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"H\u1ee7y")," ",r.a.createElement(tt.a,{color:"warning",type:"submit"},"L\u01b0u"))))},Ar={id:0,name:"",finesPercent:0},Lr={name:"",finesPercent:""},Br=function(e){var t=e.show,a=e.toggle,l=e.violation,c=e.handleUpdateViolation,o=e.handleDeleteViolation,i=Object(n.useState)("1"),u=Object(Ra.a)(i,2),h=u[0],p=u[1],f=Object(n.useState)(Ar),b=Object(Ra.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)(Lr),O=Object(Ra.a)(v,2),y=O[0],j=O[1],k=Object(n.useState)(""),N=Object(Ra.a)(k,2),w=N[0],x=N[1];Object(n.useEffect)(function(){E(null!==l&&void 0!==l&&l.id?l:Ar)},[l]);var C=function(e){h!==e&&p(e)},S=function(e){var t=e.target;E(Object(s.a)({},g,{[t.name]:t.value}))},T=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,j(Lr),e.next=5,or.update(Object(s.a)({},g,{finesPercent:Number(g.finesPercent)}));case 5:a=e.sent,c(a.data),cn("Thay \u0111\u1ed5i th\xf4ng tin th\xe0nh c\xf4ng"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),j(e.t0.response.data),on("Thay \u0111\u1ed5i th\xf4ng tin th\u1ea5t b\u1ea1i");case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,or.softDelete(l.id);case 4:o(l.id),cn("Kh\xf3a vi ph\u1ea1m th\xe0nh c\xf4ng"),a(),x(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),on("Kh\xf3a vi ph\u1ea1m th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,className:"modal-lg modal-dialog-scrollable",toggle:a},r.a.createElement(mn,{toggle:a},"Chi ti\u1ebft vi ph\u1ea1m"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===h}),onClick:function(){return C("1")}},"Th\xf4ng tin chung")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===h}),onClick:function(){return C("2")}},"Kh\xf3a vi ph\u1ea1m"))),r.a.createElement(En.a,{activeTab:h},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:T},r.a.createElement("h4",null,"Th\xf4ng tin chung"),r.a.createElement(hn,{required:!0,onChange:S,label:"T\xean vi ph\u1ea1m",name:"name",value:g.name,feedback:y.name}),r.a.createElement(hn,{required:!0,onChange:S,type:"number",min:"0",max:"100",step:"1",label:"M\u1ee9c ph\u1ea1t theo ca (%)",name:"finesPercent",value:g.finesPercent,feedback:y.finesPercent}),r.a.createElement(tt.a,{type:"submit",color:"warning",block:!0},"C\u1eadp nh\u1eadt"))))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Kh\xf3a vi ph\u1ea1m"),r.a.createElement("p",null,"Vi ph\u1ea1m b\u1ecb kh\xf3a c\xf3 th\u1ec3 kh\xf4i ph\u1ee5c \u1edf cu\u1ed1i ph\u1ea7n qu\u1ea3n l\xfd vi ph\u1ea1m"),r.a.createElement(Ga.a,{onSubmit:_},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"confirmDelete"},"Nh\u1eadp ",r.a.createElement("strong",null,null===l||void 0===l?void 0:l.name)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 kh\xf3a"),r.a.createElement(Wa.a,{required:!0,onChange:function(e){var t=e.target;x(t.value)},name:"confirmDelete",value:w})),r.a.createElement(tt.a,{disabled:w!==(null===l||void 0===l?void 0:l.name),type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))))},Rr=a(115),Pr=a.n(Rr),Fr=function(e){var t=e.show,a=e.toggle,l=e.handleRestoreViolation,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),h=Object(Ra.a)(u,2),p=h[0],f=h[1];Object(n.useEffect)(function(){t&&b()},[t]);var b=function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or.getAllDeleted();case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or.restore(t);case 3:a=i.find(function(e){return e.id===t}),s(i.filter(function(e){return e.id!==t})),a.deleted=!1,l(a),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"Vi ph\u1ea1m \u0111\xe3 kh\xf3a"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(kn,{value:p,onChange:function(e){var t=e.target;f(t.value)},placeholder:"T\xecm vi ph\u1ea1m..."}),r.a.createElement(Ma.a,{className:Pr.a.restoreTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean vi ph\u1ea1m"),r.a.createElement("th",null,"M\u1ee9c ph\u1ea1t theo ca"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.filter(function(e){return-1!==e.name.toLowerCase().indexOf(p.toLowerCase())}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement("p",{className:Pr.a.tableRow},e.name)),r.a.createElement("th",null,r.a.createElement("p",{className:Pr.a.tableRow},e.finesPercent,"%")),r.a.createElement("th",null,r.a.createElement(tt.a,{size:"sm",color:"warning",title:"Kh\xf4i ph\u1ee5c",onClick:function(){return g(e.id)}},r.a.createElement("i",{className:"fa fa-undo"}))))}))),0===i.length&&r.a.createElement("p",{className:"text-center"},"Kh\xf4ng c\xf3 vi ph\u1ea1m n\xe0o b\u1ecb kh\xf3a")),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"Tho\xe1t")))},Mr=function(){var e=Object(n.useState)([]),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!1),h=Object(Ra.a)(u,2),p=h[0],f=h[1],b=Object(n.useState)(!1),g=Object(Ra.a)(b,2),E=g[0],v=g[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or.getAll();case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var O=function(e){s(null!==e&&void 0!==e&&e.id?e:{})},y=function(){return f(!p)},j=function(){return v(!E)},k=function(e){return l([].concat(Object(q.a)(a),[e]))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd vi ph\u1ea1m"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(tt.a,{color:"warning",onClick:y},"Th\xeam vi ph\u1ea1m"),r.a.createElement(Ma.a,{className:"my-2",bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean vi ph\u1ea1m"),r.a.createElement("th",null,"M\u1ee9c ph\u1ea1t theo ca"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.finesPercent,"%"),r.a.createElement("td",{className:"d-flex justify-content-end"},r.a.createElement(tt.a,{color:"warning",onClick:function(){return O(e)}},r.a.createElement("i",{className:"fa fa-eye"}))))}))))),r.a.createElement(tt.a,{color:"primary",onClick:j},"Vi ph\u1ea1m \u0111\xe3 kh\xf3a"),r.a.createElement(Ir,{show:p,toggle:y,handleAddViolation:k}),r.a.createElement(Br,{show:Boolean(null===i||void 0===i?void 0:i.id),toggle:O,violation:i,handleUpdateViolation:function(e){l(a.map(function(t){return t.id===e.id?e:t}))},handleDeleteViolation:function(e){l(a.filter(function(t){return t.id!==e}))}}),r.a.createElement(Fr,{show:E,toggle:j,handleRestoreViolation:k}))},Hr="".concat(p,"/salaries"),Gr=function(e,t){return e+"-"+(1===t.length?"0"+t:t)},qr=function(e,t){var a=Gr(e,t);return b.a.get("".concat(Hr,"/").concat(a))},Kr=a(50),Wr=a.n(Kr);function Yr(e,t){return Math.round(e.numberOfViolations*e.finesPercent/100*t)}var Qr=function(e){var t,a=e.show,n=e.toggle,l=e.details,c=l.staff,o=l.firstDateOfMonth,i=l.currentSalaryPerShift,s=l.numberOfShift,u=l.violationDetails,m=l.salary,d=l.totalOvertimeHours,h=Boolean(u)&&(null===u||void 0===u?void 0:u.length),p=h?u.reduce(function(e,t){return e+Yr(t,i)},0):0;return r.a.createElement(Ze.a,{isOpen:a,toggle:n},r.a.createElement(mn,{toggle:n},"B\u1ea3ng l\u01b0\u01a1ng th\xe1ng ",(t=o,er()(new Date(t)).format("MM/YYYY"))),a&&r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{className:Wr.a.modalInfo},r.a.createElement("h5",null,"Th\xf4ng tin nh\xe2n vi\xean"),r.a.createElement("div",null,r.a.createElement("span",null,"Nh\xe2n vi\xean:"),r.a.createElement("span",null,c.fullname," (",c.username,")")),r.a.createElement("div",null,r.a.createElement("span",null,"Ch\u1ee9c v\u1ee5:"),r.a.createElement("span",null,c.role.name)),r.a.createElement("div",null,r.a.createElement("span",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),r.a.createElement("span",null,c.phoneNumber)))),r.a.createElement("br",null),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{className:Wr.a.modalInfo},r.a.createElement("h5",null,"Chi ti\u1ebft l\u01b0\u01a1ng"),r.a.createElement("div",null,r.a.createElement("span",null,"L\u01b0\u01a1ng m\u1ed7i ca:"),r.a.createElement("span",null,Tn(i))),r.a.createElement("div",null,r.a.createElement("span",null,"S\u1ed1 ca:"),r.a.createElement("span",null,s)))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ma.a,{bordered:!0,className:Wr.a.modalTable+" mt-2"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Vi ph\u1ea1m"),r.a.createElement("th",null,"M\u1ee9c ph\u1ea1t"),r.a.createElement("th",null,"S\u1ed1 l\u1ea7n"),r.a.createElement("th",null,"Th\xe0nh ti\u1ec1n"))),r.a.createElement("tbody",null,h?u.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("p",{className:Wr.a.tableRow},e.violation.name)),r.a.createElement("td",null,r.a.createElement("p",{className:Wr.a.tableRowRight},e.finesPercent,"%")),r.a.createElement("td",null,r.a.createElement("p",{className:Wr.a.tableRowRight},e.numberOfViolations)),r.a.createElement("td",null,r.a.createElement("p",{className:Wr.a.tableRowRight},Tn(Yr(e,i)))))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4",className:"text-center"},"Kh\xf4ng c\xf3 vi ph\u1ea1m n\xe0o")))))),r.a.createElement("hr",{className:"mt-0"}),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{className:Wr.a.modalInfo},r.a.createElement("div",null,r.a.createElement("span",null,"L\u01b0\u01a1ng th\xe1ng:"),r.a.createElement("span",null,Tn(s*i))),r.a.createElement("div",null,r.a.createElement("span",null,"Ti\u1ec1n ph\u1ea1t:"),r.a.createElement("span",null,Tn(p))))),r.a.createElement("hr",null),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{className:Wr.a.modalInfo},r.a.createElement("div",null,r.a.createElement("strong",null,"T\u1ed5ng l\u01b0\u01a1ng:"),r.a.createElement("span",null,Tn(m))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("span",null,"S\u1ed1 gi\u1edd t\u0103ng ca:"),r.a.createElement("span",null,d," gi\u1edd")),r.a.createElement("div",null,r.a.createElement("small",{className:"font-italic"},"(T\xednh ri\xeang)"))))))},Ur={year:String((new Date).getFullYear()),month:String((new Date).getMonth()+1)};var zr=function(){var e=Object(n.useState)(!1),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(Ur),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(Ur),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)([]),E=Object(Ra.a)(g,2),v=E[0],O=E[1],y=Object(n.useState)({}),j=Object(Ra.a)(y,2),k=j[0],N=j[1];Object(n.useEffect)(function(){w(Ur.year,Ur.month)},[]);var w=function(){var e=Object(d.a)(m.a.mark(function e(t,a){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),b({year:t,month:a}),e.prev=2,e.next=5,qr(t,a);case 5:n=e.sent,O(n.data.map(function(e){return Object(s.a)({},e,{staffName:e.staff.fullname,staffRole:e.staff.role.name,numberOfViolations:e.violationDetails.length})})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i"),console.log(null===(r=e.t0.response)||void 0===r?void 0:r.data);case 13:l(!1);case 14:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}(),x=[{Header:"Nh\xe2n vi\xean",accessor:"staffName"},{Header:"Ch\u1ee9c v\u1ee5",accessor:"staffRole"},{Header:"S\u1ed1 ca",accessor:"numberOfShift"},{Header:"S\u1ed1 vi ph\u1ea1m",accessor:"numberOfViolations"},{Header:"L\u01b0\u01a1ng",accessor:"salary",Cell:function(e){var t=e.value;return Tn(t)}},{Header:"",accessor:"id",Cell:function(e){var t=e.value;return r.a.createElement(tt.a,{color:"warning",title:"Chi ti\u1ebft",onClick:function(){return S(t)}},r.a.createElement("i",{className:"fa fa-eye"}))}}],C=function(e){var t=e.target;u(Object(s.a)({},i,{[t.name]:t.value}))},S=function(e){N(e?v.find(function(t){return t.id===e}):{})},T=Boolean(k.id);return r.a.createElement("div",null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{md:"6",sm:"12"},r.a.createElement(Ga.a,{onSubmit:function(e){e.preventDefault(),w(i.year,i.month)}},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{className:"mx-0 px-0"},r.a.createElement(qa.a,{className:"mb-0"},r.a.createElement(Ka.a,{for:"month"},"Th\xe1ng"),r.a.createElement(Wa.a,{type:"number",name:"month",value:i.month,onChange:C,min:"1",max:"12"}))),r.a.createElement(Ee.a,{className:"mx-0 px-0"},r.a.createElement(qa.a,{className:"mb-0"},r.a.createElement(Ka.a,{for:"month"},"N\u0103m"),r.a.createElement(Wa.a,{name:"year",type:"number",value:i.year,onChange:C,min:"1970",max:Ur.year}))),r.a.createElement(Ee.a,{className:"px-0 d-flex align-items-end"},r.a.createElement(tt.a,{color:"warning",type:"submit"},"T\xecm")))))),r.a.createElement("br",null),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,a?r.a.createElement("h3",{className:"text-center"},"\u0110ang t\u1ea3i d\u1eef li\u1ec7u"):v.length?r.a.createElement(en,{tableData:v,tableColumns:x},r.a.createElement("h3",{className:"mb-0"},"L\u01b0\u01a1ng th\xe1ng ",f.month,"/",f.year)):r.a.createElement("h3",{className:"text-center"},"Kh\xf4ng c\xf3 th\xf4ng tin v\u1ec1 th\xe1ng ",f.month,"/",f.year))),r.a.createElement(Qr,{show:T,toggle:function(){return S()},details:k}))},Vr="".concat(p,"/food-types"),Xr={getAll:function(){return b.a.get(Vr)},getAllDeleted:function(){return b.a.get("".concat(Vr,"?deleted=true"))},getById:function(e){return b.a.get("".concat(Vr,"/").concat(e))},getAllFoodsByFoodTypeId:function(e){return b.a.get("".concat(Vr,"/").concat(e,"/foods"))},update:function(e){return b.a.put("".concat(Vr,"/").concat(e.id),e)},softDelete:function(e){return b.a.delete("".concat(Vr,"/").concat(e))},create:function(e){return b.a.post(Vr,e)},restore:function(e){return b.a.post("".concat(Vr,"/").concat(e,"/restore"))}},Zr={name:"",refundable:!1},Jr={name:""},$r=function(e){var t=e.show,a=e.toggle,l=e.handleAddFoodType,c=Object(n.useState)(Zr),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(Jr),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=function(e){var t=e.target;u(Object(s.a)({},i,{[t.name]:t.value}))},E=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,b(Jr),e.next=5,Xr.create(Object(s.a)({},i,{refundable:Boolean(i.refundable)}));case 5:n=e.sent,l(n.data),cn("T\u1ea1o lo\u1ea1i m\xf3n th\xe0nh c\xf4ng"),a(),u(Zr),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),b(e.t0.response.data),on("T\u1ea1o lo\u1ea1i m\xf3n th\u1ea5t b\u1ea1i");case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,toggle:a},r.a.createElement(Ga.a,{onSubmit:E},r.a.createElement(mn,{toggle:a},"Th\xeam lo\u1ea1i m\xf3n"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(hn,{required:!0,onChange:g,label:"T\xean lo\u1ea1i m\xf3n",name:"name",value:i.name,feedback:f.name}),r.a.createElement(qa.a,{check:!0},r.a.createElement(Wa.a,{onChange:g,type:"checkbox",name:"refundable",value:i.refundable}),r.a.createElement(Ka.a,{check:!0,for:"refundable"},"\u0110\u01b0\u1ee3c ho\xe0n tr\u1ea3 m\xf3n \u0111\xe3 ra"))),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"H\u1ee7y")," ",r.a.createElement(tt.a,{color:"warning",type:"submit"},"L\u01b0u"))))},el=function(e){return e.status?r.a.createElement(Ut.a,{className:"food-status",color:"success"},"C\xf3 s\u1eb5n"):r.a.createElement(Ut.a,{className:"food-status",color:"danger"},"H\u1ebft h\xe0ng")},tl={id:0,name:"",refundable:!1},al=function(e){var t=e.show,a=e.toggle,l=e.foodType,c=e.handleUpdateFoodType,o=e.handleDeleteFoodType,i=Object(n.useState)([]),u=Object(Ra.a)(i,2),h=u[0],p=u[1],f=Object(n.useState)("1"),b=Object(Ra.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)(""),O=Object(Ra.a)(v,2),y=O[0],j=O[1],k=Object(n.useState)(tl),N=Object(Ra.a)(k,2),w=N[0],x=N[1],C=Object(n.useState)({}),S=Object(Ra.a)(C,2),T=S[0],_=S[1],D=Object(n.useState)(""),I=Object(Ra.a)(D,2),A=I[0],L=I[1];Object(n.useEffect)(function(){l.id&&l.id!==w.id&&(x(null!==l&&void 0!==l&&l.id?l:tl),function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xr.getAllFoodsByFoodTypeId(l.id);case 3:t=e.sent,p(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()())},[l,w.id]);var B=function(e){g!==e&&E(e)},R=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Xr.update(w);case 4:a=e.sent,c(a.data),cn("Thay \u0111\u1ed5i th\xf4ng tin th\xe0nh c\xf4ng"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),_(e.t0.response.data),on("Thay \u0111\u1ed5i th\xf4ng tin th\u1ea5t b\u1ea1i");case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Xr.softDelete(l.id);case 4:o(l.id),cn("Kh\xf3a lo\u1ea1i m\xf3n th\xe0nh c\xf4ng"),a(),L(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),on("Kh\xf3a lo\u1ea1i m\xf3n th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),F=0===h.length;return r.a.createElement(Ze.a,{isOpen:t,className:"modal-lg modal-dialog-scrollable",toggle:a},r.a.createElement(mn,{toggle:a},"Chi ti\u1ebft lo\u1ea1i m\xf3n"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===g}),onClick:function(){return B("1")}},"Th\xf4ng tin chung")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===g}),onClick:function(){return B("2")}},"Danh s\xe1ch m\xf3n")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"3"===g}),onClick:function(){return B("3")}},"Kh\xf3a lo\u1ea1i m\xf3n"))),r.a.createElement(En.a,{activeTab:g},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:R},r.a.createElement("h4",null,"Th\xf4ng tin chung"),r.a.createElement(hn,{required:!0,onChange:function(e){var t=e.target;x(Object(s.a)({},w,{[t.name]:t.value}))},label:"T\xean lo\u1ea1i m\xf3n",name:"name",value:w.name,feedback:T.name}),r.a.createElement(qa.a,{check:!0},r.a.createElement(Wa.a,{onChange:function(e){var t=e.target;x(Object(s.a)({},w,{[t.name]:!w[t.name]}))},type:"checkbox",name:"refundable",checked:w.refundable}),r.a.createElement(Ka.a,{for:"refundable"},"\u0110\u01b0\u1ee3c ho\xe0n tr\u1ea3 m\xf3n \u0111\xe3 ra")),r.a.createElement(tt.a,{type:"submit",color:"warning",block:!0},"C\u1eadp nh\u1eadt"))))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Danh s\xe1ch m\xf3n"),r.a.createElement(kn,{value:y,placeholder:"T\xecm m\xf3n...",onChange:function(e){var t=e.target;j(t.value)}}),r.a.createElement(Ma.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"T\xean m\xf3n"),r.a.createElement("th",null,"Gi\xe1 (\u20ab)"),r.a.createElement("th",null,"\u0110\u01a1n v\u1ecb"),r.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"))),r.a.createElement("tbody",null,h.filter(function(e){return-1!==e.name.toLowerCase().indexOf(y.toLowerCase())}).map(function(e){var t=e.id,a=e.name,n=e.price,l=e.unit,c=e.imageUrl,o=e.available;return r.a.createElement("tr",{key:t},r.a.createElement("th",null,r.a.createElement("img",{src:c,alt:"food",height:"50"})),r.a.createElement("th",null,a),r.a.createElement("th",null,n),r.a.createElement("th",null,l),r.a.createElement("th",null,r.a.createElement(el,{status:o})))}))),F&&r.a.createElement("p",{className:"text-center"},"Lo\u1ea1i m\xf3n n\xe0y hi\u1ec7n ch\u01b0a c\xf3 m\xf3n n\xe0o")))),r.a.createElement(vn.a,{tabId:"3"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Kh\xf3a lo\u1ea1i m\xf3n"),r.a.createElement("p",null,"Lo\u1ea1i m\xf3n b\u1ecb kh\xf3a c\xf3 th\u1ec3 kh\xf4i ph\u1ee5c \u1edf cu\u1ed1i ph\u1ea7n qu\u1ea3n l\xfd"),!F&&r.a.createElement("p",{className:"text-danger"},"\u0110ang t\u1ed3n t\u1ea1i m\xf3n \u0103n trong lo\u1ea1i m\xf3n n\xe0y, kh\xf4ng th\u1ec3 x\xf3a"),r.a.createElement(Ga.a,{onSubmit:P},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"confirmDelete"},"Nh\u1eadp ",r.a.createElement("strong",null,l.name)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 kh\xf3a"),r.a.createElement(Wa.a,{required:!0,disabled:!F,onChange:function(e){var t=e.target;L(t.value)},name:"confirmDelete",value:A,placeholder:l.name})),r.a.createElement(tt.a,{disabled:A!==l.name||!F,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))))},nl=a(116),rl=a.n(nl),ll=function(e){var t=e.show,a=e.toggle,l=e.handleRestoreFoodType,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),h=Object(Ra.a)(u,2),p=h[0],f=h[1];Object(n.useEffect)(function(){t&&b()},[t]);var b=function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xr.getAllDeleted();case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xr.restore(t);case 3:a=i.find(function(e){return e.id===t}),s(i.filter(function(e){return e.id!==t})),a.deleted=!1,l(a),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"Lo\u1ea1i m\xf3n \u0111\xe3 kh\xf3a"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(kn,{value:p,onChange:function(e){var t=e.target;f(t.value)},placeholder:"T\xecm lo\u1ea1i m\xf3n..."}),r.a.createElement(Ma.a,{className:rl.a.restoreTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean lo\u1ea1i m\xf3n"),r.a.createElement("th",null,"\u0110\u01b0\u1ee3c tr\u1ea3 m\xf3n"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.filter(function(e){return-1!==e.name.toLowerCase().indexOf(p.toLowerCase())}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement("p",{className:rl.a.tableRow},e.name)),r.a.createElement("th",null,r.a.createElement("p",{className:rl.a.tableRow},e.refundable?"C\xf3":"Kh\xf4ng")),r.a.createElement("th",null,r.a.createElement(tt.a,{size:"sm",color:"warning",title:"Kh\xf4i ph\u1ee5c",onClick:function(){return g(e.id)}},r.a.createElement("i",{className:"fa fa-undo"}))))}))),0===i.length&&r.a.createElement("p",{className:"text-center"},"Kh\xf4ng c\xf3 lo\u1ea1i m\xf3n n\xe0o b\u1ecb kh\xf3a")),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"Tho\xe1t")))},cl=function(){var e=Object(n.useState)([]),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!1),h=Object(Ra.a)(u,2),p=h[0],f=h[1],b=Object(n.useState)(!1),g=Object(Ra.a)(b,2),E=g[0],v=g[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xr.getAll();case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var O=function(e){s(null!==e&&void 0!==e&&e.id?e:{})},y=function(){return f(!p)},j=function(){return v(!E)},k=function(e){return l([].concat(Object(q.a)(a),[e]))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd lo\u1ea1i m\xf3n"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(tt.a,{color:"warning",onClick:y},"Th\xeam lo\u1ea1i m\xf3n"),r.a.createElement(Ma.a,{className:"my-2",bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean lo\u1ea1i m\xf3n"),r.a.createElement("th",null,"\u0110\u01b0\u1ee3c tr\u1ea3 m\xf3n"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.refundable?"C\xf3":"Kh\xf4ng"),r.a.createElement("td",{className:"d-flex justify-content-end"},r.a.createElement(tt.a,{color:"warning",onClick:function(){return O(e)}},r.a.createElement("i",{className:"fa fa-eye"}))))}))))),r.a.createElement(tt.a,{color:"primary",onClick:j},"Lo\u1ea1i m\xf3n \u0111\xe3 kh\xf3a"),r.a.createElement($r,{show:p,toggle:y,handleAddFoodType:k}),r.a.createElement(al,{show:Boolean(null===i||void 0===i?void 0:i.id),toggle:O,foodType:i,handleUpdateFoodType:function(e){l(a.map(function(t){return t.id===e.id?e:t}))},handleDeleteFoodType:function(e){l(a.filter(function(t){return t.id!==e}))}}),r.a.createElement(ll,{show:E,toggle:j,handleRestoreFoodType:k}))},ol="".concat(p,"/foods"),il=function(e){var t=e.name,a=e.price,n=e.unit,r=e.foodTypeId,l=e.image,c=new FormData;return c.append("name",t),c.append("price",a),c.append("unit",n),c.append("foodTypeId",r),l&&c.append("image",l),c},sl={getAll:function(){return b.a.get(ol)},getAllDeleted:function(){return b.a.get("".concat(ol,"?deleted=true"))},getById:function(e){return b.a.get("".concat(ol,"/").concat(e))},update:function(e){return b.a.put("".concat(ol,"/").concat(e.id),il(e))},softDelete:function(e){return b.a.delete("".concat(ol,"/").concat(e))},create:function(e){return b.a.post(ol,il(e))},restore:function(e){return b.a.post("".concat(ol,"/").concat(e,"/restore"))},toggleAvailability:function(e){return b.a.post("".concat(ol,"/").concat(e,"/toggle-availability"))}},ul={name:"",price:"",unit:"",foodTypeId:"",image:""},ml={name:"",price:0,unit:"",foodTypeId:0,image:null},dl=function(e){var t=e.show,a=e.toggle,l=e.handleAddFood,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(ml),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(!1),E=Object(Ra.a)(g,2),v=E[0],O=E[1],y=Object(n.useState)(ul),j=Object(Ra.a)(y,2),k=j[0],N=j[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xr.getAll();case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var w=function(){N(ul),a()},x=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(ul),O(!0),e.prev=3,e.next=6,sl.create(f);case 6:n=e.sent,l(n.data),cn("Th\xeam m\xf3n th\xe0nh c\xf4ng"),a(),b(ml),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),N(Object(s.a)({},k,e.t0.response.data)),on("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i");case 17:return e.prev=17,O(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[3,13,17,20]])}));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.target;b(Object(s.a)({},f,{[t.name]:t.value}))};return r.a.createElement(Ze.a,{isOpen:t,toggle:w},r.a.createElement(Ga.a,{onSubmit:x},r.a.createElement(mn,{toggle:w},"Th\xeam m\xf3n \u0103n"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(hn,{required:!0,onChange:C,label:"T\xean m\xf3n",name:"name",value:f.name,feedback:k.name}),r.a.createElement(hn,{required:!0,onChange:C,type:"number",label:"Gi\xe1 (\u20ab)",name:"price",value:f.price,feedback:k.price}),r.a.createElement(hn,{required:!0,onChange:C,label:"\u0110\u01a1n v\u1ecb",name:"unit",value:f.unit,feedback:k.unit}),r.a.createElement(hn,{required:!0,onChange:C,label:"Lo\u1ea1i m\xf3n",type:"select",name:"foodTypeId",value:f.foodTypeId,feedback:k.foodTypeId},r.a.createElement("option",{disabled:!0,value:""},"--- Ch\u1ecdn lo\u1ea1i m\xf3n ---"),i.map(function(e){var t=e.id,a=e.name;return r.a.createElement("option",{key:t,value:t},a)})),r.a.createElement(hn,{required:!0,onChange:function(e){var t=e.target,a=t.files[0],n=t.name;a.size>=10485760?N(Object(s.a)({},k,{[n]:"K\xedch th\u01b0\u1edbc h\xecnh \u1ea3nh kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 10MB, vui l\xf2ng ch\u1ecdn file kh\xe1c"})):(b(Object(s.a)({},f,{[n]:a})),N(Object(s.a)({},k,{[n]:""})))},type:"file",label:"H\xecnh \u1ea3nh",name:"image",feedback:k.image,accept:"image/*"})),r.a.createElement(et.a,null,r.a.createElement(tt.a,{disabled:v,color:"light",onClick:w},"H\u1ee7y")," ",r.a.createElement(tt.a,{disabled:v||Boolean(k.image),color:"warning",type:"submit"},v?"\u0110ang l\u01b0u...":"L\u01b0u"))))},hl=function(e){var t=e.show,a=e.toggle,l=e.food,c=e.handleEditFood,o=e.handleDeleteFood,i=Object(n.useState)([]),u=Object(Ra.a)(i,2),h=u[0],p=u[1],f=Object(n.useState)("1"),b=Object(Ra.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)({}),O=Object(Ra.a)(v,2),y=O[0],j=O[1],k=Object(n.useState)({}),N=Object(Ra.a)(k,2),w=N[0],x=N[1],C=Object(n.useState)(""),S=Object(Ra.a)(C,2),T=S[0],_=S[1],D=Object(n.useState)(!1),I=Object(Ra.a)(D,2),A=I[0],L=I[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xr.getAll();case 3:t=e.sent,p(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Object(n.useEffect)(function(){j(Object(s.a)({},l,{foodTypeId:String(l.foodType.id)}))},[l]);var B=function(e){g!==e&&E(e)},R=function(e){var t=e.target;j(Object(s.a)({},y,{[t.name]:t.value}))},P=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,L(!0),e.next=5,sl.update(y);case 5:a=e.sent,c(a.data),j(Object(s.a)({},y,{imageUrl:a.data.imageUrl})),x({}),cn("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),x(e.t0.response.data),on("C\u1eadp nh\u1eadt th\xf4ng tin th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 16:return e.prev=16,L(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,12,16,19]])}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,sl.softDelete(l.id);case 4:o(l.id),cn("Kh\xf3a m\xf3n \u0103n th\xe0nh c\xf4ng"),a(),_(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),on("Kh\xf3a m\xf3n \u0103n th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,className:"modal-lg modal-dialog",toggle:a},r.a.createElement(mn,{toggle:a},"Chi ti\u1ebft m\xf3n \u0103n"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===g}),onClick:function(){return B("1")}},"Th\xf4ng tin chung")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===g}),onClick:function(){return B("2")}},"Kh\xf3a m\xf3n \u0103n"))),r.a.createElement(En.a,{activeTab:g},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:P},r.a.createElement("h4",null,"Th\xf4ng tin chung"),r.a.createElement(hn,{required:!0,onChange:R,label:"T\xean m\xf3n",name:"name",value:y.name,feedback:w.name}),r.a.createElement(hn,{required:!0,onChange:R,type:"number",label:"Gi\xe1 (\u20ab)",name:"price",value:y.price,feedback:w.price}),r.a.createElement(hn,{required:!0,onChange:R,label:"\u0110\u01a1n v\u1ecb",name:"unit",value:y.unit,feedback:w.unit}),r.a.createElement(hn,{onChange:R,label:"Lo\u1ea1i m\xf3n",type:"select",name:"foodTypeId",value:y.foodTypeId,feedback:w.foodTypeId},r.a.createElement("option",{disabled:!0,value:""},"--- Ch\u1ecdn lo\u1ea1i m\xf3n ---"),h.map(function(e){var t=e.id,a=e.name;return r.a.createElement("option",{key:t,value:t},a)})),r.a.createElement(hn,{onChange:function(e){var t=e.target,a=t.files[0],n=t.name;a.size>=10485760?x(Object(s.a)({},w,{[n]:"K\xedch th\u01b0\u1edbc h\xecnh \u1ea3nh kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 10MB, vui l\xf2ng ch\u1ecdn file kh\xe1c"})):(j(Object(s.a)({},y,{[n]:a})),x(Object(s.a)({},w,{[n]:""})))},type:"file",label:"\u0110\u1ed5i h\xecnh \u1ea3nh",name:"image",feedback:w.image,accept:"image/*"}),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:y.imageUrl,alt:"current food",height:"200"})),r.a.createElement("br",null),r.a.createElement(tt.a,{disabled:A,type:"submit",color:"warning",block:!0},A?"\u0110ang g\u1eedi y\xeau c\u1ea7u...":"C\u1eadp nh\u1eadt"))))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Kh\xf3a m\xf3n \u0103n"),r.a.createElement("p",null,"M\xf3n \u0103n b\u1ecb kh\xf3a c\xf3 th\u1ec3 kh\xf4i ph\u1ee5c \u1edf cu\u1ed1i ph\u1ea7n qu\u1ea3n l\xfd"),r.a.createElement(Ga.a,{onSubmit:F},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"confirmDelete"},"Nh\u1eadp ",r.a.createElement("strong",null,l.name)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 kh\xf3a"),r.a.createElement(Wa.a,{required:!0,onChange:function(e){var t=e.target;_(t.value)},name:"confirmDelete",value:T,placeholder:l.name})),r.a.createElement(tt.a,{disabled:T!==l.name||A,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))))},pl=a(80),fl=a.n(pl),bl=function(e){var t=e.show,a=e.toggle,l=e.handleRestoreFood,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),h=Object(Ra.a)(u,2),p=h[0],f=h[1];Object(n.useEffect)(function(){t&&b()},[t]);var b=function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sl.getAllDeleted();case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sl.restore(t);case 3:a=i.find(function(e){return e.id===t}),s(i.filter(function(e){return e.id!==t})),a.deleted=!1,l(a),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"M\xf3n \u0103n \u0111\xe3 kh\xf3a"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(kn,{value:p,onChange:function(e){var t=e.target;f(t.value)},placeholder:"T\xecm ki\u1ebfm..."}),r.a.createElement(Ma.a,{className:fl.a.restoreTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"T\xean"),r.a.createElement("th",null,"Lo\u1ea1i m\xf3n"),r.a.createElement("th",null,"Gi\xe1 (\u20ab)"),r.a.createElement("th",null,"\u0110\u01a1n v\u1ecb"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.filter(function(e){var t=e.name,a=e.foodType,n=p.toLowerCase();return-1!==t.toLowerCase().indexOf(n)||-1!==a.name.toLowerCase().indexOf(n)}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement("p",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:e.imageUrl,alt:"deleted food",height:"50"}))),r.a.createElement("th",null,r.a.createElement("p",{className:fl.a.tableRow},e.name)),r.a.createElement("th",null,r.a.createElement("p",{className:fl.a.tableRow},e.foodType.name," ",e.foodType.deleted&&r.a.createElement("i",null,"(\u0110\xe3 kh\xf3a)"))),r.a.createElement("th",null,r.a.createElement("p",{className:fl.a.tableRow},e.price)),r.a.createElement("th",null,r.a.createElement("p",{className:fl.a.tableRow},e.unit)),r.a.createElement("th",null,r.a.createElement(tt.a,{disabled:e.foodType.deleted,size:"sm",color:"warning",title:"Kh\xf4i ph\u1ee5c",onClick:function(){return g(e.id)}},r.a.createElement("i",{className:"fa fa-undo"}))))}))),0===i.length&&r.a.createElement("p",{className:"text-center"},"Kh\xf4ng c\xf3 m\xf3n n\xe0o b\u1ecb kh\xf3a")),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"Tho\xe1t")))},gl={id:0,name:"",price:0,unit:"",foodType:{},imageUrl:"",available:!1},El=function(){var e=Object(n.useState)([]),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(!1),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(gl),E=Object(Ra.a)(g,2),v=E[0],O=E[1];Object(n.useEffect)(function(){function e(){return(e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sl.getAll();case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var y=a.map(function(e){return Object(s.a)({},e,{foodTypeName:e.foodType.name})}),j=[{Header:"",accessor:"imageUrl",Cell:function(e){var t=e.value;return r.a.createElement("img",{src:t,alt:"food",height:"50"})}},{Header:"T\xean m\xf3n",accessor:"name"},{Header:"Lo\u1ea1i m\xf3n",accessor:"foodTypeName"},{Header:"Gi\xe1",accessor:"price",Cell:function(e){var t=e.value;return Tn(t)}},{Header:"\u0110\u01a1n v\u1ecb",accessor:"unit"},{Header:"Tr\u1ea1ng th\xe1i",accessor:"available",Cell:function(e){var t=e.value;return r.a.createElement(el,{status:t})}},{Header:"",accessor:"id",Cell:function(e){var t=e.value;return r.a.createElement(tt.a,{color:"warning",onClick:function(){return w(t)}},r.a.createElement("i",{className:"fa fa-eye"}))}}],k=function(){u(!i)},N=function(){b(!f)},w=function(e){var t=e?a.find(function(t){return t.id===e}):void 0;O(t||gl)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd m\xf3n"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(en,{tableData:y,tableColumns:j},r.a.createElement(tt.a,{color:"warning",onClick:k},"Th\xeam m\xf3n")))),r.a.createElement(tt.a,{color:"primary",onClick:N},"M\xf3n \u0111\xe3 kh\xf3a"),r.a.createElement(dl,{show:i,toggle:k,handleAddFood:function(e){l([].concat(Object(q.a)(a),[e]))}}),r.a.createElement(hl,{show:Boolean(v.id),toggle:w,food:v,handleEditFood:function(e){l(a.map(function(t){return t.id===e.id?e:t}))},handleDeleteFood:function(e){l(a.filter(function(t){return t.id!==e}))}}),r.a.createElement(bl,{show:f,toggle:N,handleRestoreFood:function(e){l([].concat(Object(q.a)(a),[e]))}}))},vl=a(146),Ol=(a(310),"".concat(p,"/tables")),yl={getAll:function(){return b.a.get(Ol)},getAllDeleted:function(){return b.a.get("".concat(Ol,"?deleted=true"))},getById:function(e){return b.a.get("".concat(Ol,"/").concat(e))},update:function(e){return b.a.put("".concat(Ol,"/").concat(e.id),e)},softDelete:function(e){return b.a.delete("".concat(Ol,"/").concat(e))},create:function(e){return b.a.post(Ol,e)},restore:function(e){return b.a.post("".concat(Ol,"/").concat(e,"/restore"))},grouping:function(e){return b.a.post("".concat(Ol,"/").concat(e.parent,"/grouping"),Object(s.a)({},e,{children:Array.from(e.children)}))},separate:function(e){return b.a.post("".concat(Ol,"/").concat(e,"/separate"))}},jl="".concat(p,"/bills"),kl={getCurrentBills:function(){return b.a.get(jl)},getCurrentBillsByTable:function(){return b.a.get("".concat(jl,"/by-table"))},getBillsByDate:function(e){return b.a.get("".concat(jl,"?date=").concat(ir(e)))},getById:function(e){return b.a.get("".concat(jl,"/").concat(e))},searchById:function(e){return b.a.get("".concat(jl,"?search=").concat(e))},hardDelete:function(e){return b.a.delete("".concat(jl,"/").concat(e))},preparePayment:function(e){return b.a.post("".concat(jl,"/").concat(e.id,"/prepare-payment"),e)},doPayment:function(e){return b.a.post("".concat(jl,"/").concat(e,"/payment"))},changeTable:function(e,t){return b.a.post("".concat(jl,"/").concat(e,"/moving-to/").concat(t))},saveOrUpdate:function(e){return e.id?(t=e,b.a.put("".concat(jl,"/").concat(t.id),t)):function(e){return b.a.post(jl,e)}(e);var t},processFood:function(e){return b.a.post("".concat(jl,"/").concat(e.billId,"/process-food"),e)}},Nl="".concat(p,"/reserving-orders"),wl=function(e){return b.a.post(Nl,e)},xl=function(e){return b.a.put("".concat(Nl,"/").concat(e.id),e)},Cl={create:wl,getAll:function(){return b.a.get(Nl)},getAllByDate:function(e){return b.a.get("".concat(Nl,"?date=").concat(ir(e)))},getAllToday:function(){return b.a.get("".concat(Nl,"/today"))},getById:function(e){return b.a.get("".concat(Nl,"/").concat(e))},update:xl,softDelete:function(e){return b.a.delete("".concat(Nl,"/").concat(e))},restore:function(e){return b.a.post("".concat(Nl,"/").concat(e,"/restore"))},saveOrUpdate:function(e){return e.id?xl(e):wl(e)}},Sl={startTime:void 0,appTable:{},billDetails:[],surcharge:0,discount:0,discountDescription:"",lastPrice:0},Tl={food:{},quantity:0,doneQuantity:0},_l={plusAmount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.a)({},Sl),t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(0===e.billDetails.length)return Object(s.a)({},e,{appTable:n,billDetails:t.available?[this.createNewBillDetail(t,a)]:[]});for(var r=!0,l=e.billDetails.length,c=0;c<l;c++){var o=e.billDetails[c];if(o.food.id===t.id){var i=o.quantity+a;e.billDetails[c]=this.updateDetailWithAmount(o,i,t),r=!1;break}}return r&&t.available&&e.billDetails.push(this.createNewBillDetail(t,a)),e.changed=!0,e},toAmount:function(e,t,a){var n=this;return Object(s.a)({},e,{billDetails:e.billDetails.map(function(e){return e.food.id===t.id?n.updateDetailWithAmount(e,a,t):e}),changed:!0})},removeFood:function(e,t){return Object(s.a)({},e,{billDetails:e.billDetails.filter(function(e){return e.food.id!==t}),changed:!0})},createNewBillDetail:function(e,t){return Object(s.a)({},Tl,{food:e,quantity:t})},updateDetailWithAmount:function(e,t,a){var n=a.foodType.refundable?0:e.doneQuantity,r=a.available?2e3:Math.max(e.doneQuantity,e.quantity);return Object(s.a)({},e,{quantity:this.limitValue(t,n,r)})},limitValue:function(e,t,a){return e<t?t:e>a?a:e}},Dl=function(e,t){var a=Object(s.a)({},e);return delete a[t],a},Il={changeFoodInfo:function(e,t){var a=t.id,n={};return Object.keys(e).forEach(function(r){var l=e[r];if(l){var c=l.billDetails;c.length?(c=c.map(function(e){return e.food.id!==a?e:Object(s.a)({},e,{food:t})}),n[r]=Object(s.a)({},l,{billDetails:c})):n[r]=l}}),n},mergeBillData:function(e,t){var a=this,n=this.buildBillByIdMap(t),r={};return Object.values(e).forEach(function(e){var t=e.id;if(t){var l=n[t];if(l){e.appTable=l.appTable;var c=a.buildBillDetailByIdMap(l),o=Object(s.a)({},e,{appTable:l.appTable,billDetails:e.billDetails.map(function(e){var t=c[e.id];return t?Object(s.a)({},t,{quantity:e.quantity}):e})});r[o.appTable.id]=o}}else r[e.appTable.id]=e}),r},buildBillByIdMap:function(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})},buildBillDetailByIdMap:function(e){return e.billDetails.reduce(function(e,t){return e[t.id]=t,e},{})}},Al=(a(311),function(e){var t=e.table,a=e.current,n=e.selected,l=e.disabled,c=e.bill,o=e.reserving,i=e.onClick,s=Boolean(t.parent),u=Boolean(null===c||void 0===c?void 0:c.id),m=Boolean(null===o||void 0===o?void 0:o.id)&&!o.deleted,d=u?Dn(c):0;return r.a.createElement("div",{className:He()("table-display",{"table-child":s},{"table-busy":u},{"table-reserved":m},{"table-current":a},{"table-selected":n},{"table-disabled":l}),onClick:i},u&&r.a.createElement("span",{className:"table-widget table-time"},dr(c.startTime)),l&&r.a.createElement("span",{className:"table-widget table-in-use"},"\u0110\xe3 c\xf3 kh\xe1ch"),m&&r.a.createElement("span",{className:"table-widget table-reserved"},r.a.createElement("i",{className:"fas fa-user text-white mr-1"}),dr(o.reservingTime)),t.name,s&&r.a.createElement("small",{className:"table-in-group"},"(Gh\xe9p ",t.parent.name,")"),d>0&&r.a.createElement("span",{className:"table-widget table-total"},Tn(d)))}),Ll="".concat(p,"/areas"),Bl=function(){return b.a.get(Ll)},Rl=function(){return b.a.get("".concat(Ll,"?deleted=true"))},Pl=function(e){return b.a.put("".concat(Ll,"/").concat(e.id),e)},Fl=function(e){return b.a.delete("".concat(Ll,"/").concat(e))},Ml=function(e){return b.a.post(Ll,e)},Hl=function(e){return b.a.post("".concat(Ll,"/").concat(e,"/restore"))},Gl={name:""},ql={name:""},Kl=function(e){var t=e.show,a=e.toggle,l=e.handleAddArea,c=Object(n.useState)(Gl),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(ql),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,b(ql),e.next=5,Ml(i);case 5:n=e.sent,l(n.data),cn("T\u1ea1o khu v\u1ef1c th\xe0nh c\xf4ng"),a(),u(Gl),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),b(e.t0.response.data),on("T\u1ea1o khu v\u1ef1c th\u1ea5t b\u1ea1i");case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,toggle:a},r.a.createElement(Ga.a,{onSubmit:g},r.a.createElement(mn,{toggle:a},"Th\xeam khu v\u1ef1c"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(hn,{required:!0,onChange:function(e){var t=e.target;u(Object(s.a)({},i,{[t.name]:t.value}))},label:"T\xean khu v\u1ef1c",name:"name",value:i.name,feedback:f.name})),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"H\u1ee7y")," ",r.a.createElement(tt.a,{color:"warning",type:"submit"},"L\u01b0u"))))},Wl={name:""},Yl={name:"",area:""},Ql=function(e){var t=e.show,a=e.toggle,l=e.currentArea,c=e.handleAddTable,o=Object(n.useState)(Wl),i=Object(Ra.a)(o,2),u=i[0],h=i[1],p=Object(n.useState)(Yl),f=Object(Ra.a)(p,2),b=f[0],g=f[1],E=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,g(Yl),e.next=5,yl.create(Object(s.a)({},u,{area:l}));case 5:n=e.sent,c(n.data),cn("T\u1ea1o b\xe0n th\xe0nh c\xf4ng"),a(),h(Wl),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),g(e.t0.response.data),on("T\u1ea1o b\xe0n th\u1ea5t b\u1ea1i");case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,toggle:a},r.a.createElement(Ga.a,{onSubmit:E},r.a.createElement(mn,{toggle:a},"Th\xeam b\xe0n"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(hn,{required:!0,onChange:function(e){var t=e.target;h(Object(s.a)({},u,{[t.name]:t.value}))},label:"T\xean b\xe0n",name:"name",value:u.name,feedback:b.name}),r.a.createElement(hn,{disabled:!0,required:!0,onChange:function(e){return e.preventDefault()},label:"Khu v\u1ef1c",name:"area",value:l.name,feedback:b.area})),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"H\u1ee7y")," ",r.a.createElement(tt.a,{color:"warning",type:"submit"},"L\u01b0u"))))},Ul=a(117),zl=a.n(Ul),Vl=function(e){var t=e.show,a=e.toggle,l=e.handleRestoreTable,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(""),p=Object(Ra.a)(h,2),f=p[0],b=p[1];Object(n.useEffect)(function(){t&&g()},[t]);var g=function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yl.getAllDeleted();case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yl.restore(t);case 3:a=i.find(function(e){return e.id===t}),u(i.filter(function(e){return e.id!==t})),l(Object(s.a)({},a,{deleted:!1})),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"B\xe0n \u0111\xe3 kh\xf3a"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(kn,{value:f,onChange:function(e){var t=e.target;b(t.value)},placeholder:"T\xecm b\xe0n..."}),r.a.createElement(Ma.a,{className:zl.a.restoreTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean b\xe0n"),r.a.createElement("th",null,"Khu v\u1ef1c"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.filter(function(e){var t=e.name,a=e.area,n=f.toLowerCase();return-1!==t.toLowerCase().indexOf(n)||-1!==a.name.toLowerCase().indexOf(n)}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement("p",{className:zl.a.tableRow},e.name)),r.a.createElement("th",null,r.a.createElement("p",{className:zl.a.tableRow},e.area.name,e.area.deleted&&r.a.createElement("i",null,"(\u0110\xe3 kh\xf3a)"))),r.a.createElement("th",{className:"d-flex justify-content-end"},r.a.createElement(tt.a,{disabled:e.area.deleted,size:"sm",color:"warning",title:"Kh\xf4i ph\u1ee5c",onClick:function(){return E(e.id)}},r.a.createElement("i",{className:"fa fa-undo"}))))}))),0===i.length&&r.a.createElement("p",{className:"text-center"},"Kh\xf4ng c\xf3 b\xe0n n\xe0o b\u1ecb kh\xf3a")),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"Tho\xe1t")))},Xl=(a(312),{id:0,name:"",area:{id:"",name:""}}),Zl={name:"",area:""},Jl=function(e){var t=e.show,a=e.toggle,l=e.table,c=e.areas,o=e.isBusy,i=e.handleUpdateTable,u=e.handleDeleteTable,h=Object(n.useState)("1"),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(Xl),E=Object(Ra.a)(g,2),v=E[0],O=E[1],y=Object(n.useState)(Zl),j=Object(Ra.a)(y,2),k=j[0],N=j[1],w=Object(n.useState)(""),x=Object(Ra.a)(w,2),C=x[0],S=x[1];Object(n.useEffect)(function(){O(null!==l&&void 0!==l&&l.id?l:Xl)},[l]);var T=function(e){f!==e&&b(e)},_=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,yl.update(v);case 4:a=e.sent,i(a.data),cn("Thay \u0111\u1ed5i th\xf4ng tin b\xe0n th\xe0nh c\xf4ng"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N(e.t0.response.data),on("Thay \u0111\u1ed5i th\xf4ng tin b\xe0n th\u1ea5t b\u1ea1i");case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,yl.softDelete(l.id);case 4:u(l.id),cn("Kh\xf3a b\xe0n th\xe0nh c\xf4ng"),a(),S(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),on("Kh\xf3a b\xe0n th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,className:"modal-lg modal-dialog-scrollable",toggle:a},r.a.createElement(mn,{toggle:a},"Ch\u1ec9nh s\u1eeda b\xe0n"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===f}),onClick:function(){return T("1")}},"Th\xf4ng tin b\xe0n")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===f}),onClick:function(){return T("2")}},"Kh\xf3a b\xe0n"))),r.a.createElement(En.a,{activeTab:f},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:_},r.a.createElement("h4",null,"Th\xf4ng tin b\xe0n"),r.a.createElement(hn,{required:!0,name:"name",label:"T\xean b\xe0n",value:v.name,onChange:function(e){var t=e.target;O(Object(s.a)({},v,{name:t.value}))},feedback:k.name}),r.a.createElement(hn,{required:!0,type:"select",name:"area",disabled:o,label:"Khu v\u1ef1c",value:v.area.id,onChange:function(e){var t=e.target,a=Number(t.value);O(Object(s.a)({},v,{area:c.find(function(e){return e.id===a})}))},feedback:k.area},c.map(function(e){var t=e.id,a=e.name;return r.a.createElement("option",{key:t,value:t},a)})),o&&r.a.createElement("p",{className:"text-center"},"B\xe0n \u0111ang b\u1eadn, t\u1ea1m th\u1eddi kh\xf4ng th\u1ec3 \u0111\u1ed5i khu v\u1ef1c"),r.a.createElement(tt.a,{type:"submit",color:"warning",block:!0},"C\u1eadp nh\u1eadt"))))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Kh\xf3a b\xe0n"),r.a.createElement("p",null,"B\xe0n b\u1ecb kh\xf3a c\xf3 th\u1ec3 kh\xf4i ph\u1ee5c \u1edf cu\u1ed1i ph\u1ea7n qu\u1ea3n l\xfd"),r.a.createElement(Ga.a,{onSubmit:D},r.a.createElement(qa.a,null,o&&r.a.createElement("p",{className:"text-danger"},"B\xe0n \u0111ang b\u1eadn, kh\xf4ng th\u1ec3 kh\xf3a"),r.a.createElement(Ka.a,{for:"confirmDelete"},"Nh\u1eadp ",r.a.createElement("strong",null,l.name)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 kh\xf3a"),r.a.createElement(Wa.a,{required:!0,disabled:o,onChange:function(e){var t=e.target;S(t.value)},name:"confirmDelete",value:C,placeholder:l.name})),r.a.createElement(tt.a,{disabled:C!==l.name||o,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))))},$l={id:0,name:""},ec={name:""},tc=function(e){var t=e.show,a=e.toggle,l=e.area,c=e.hasTables,o=e.handleUpdateArea,i=e.handleDeleteArea,u=Object(n.useState)("1"),h=Object(Ra.a)(u,2),p=h[0],f=h[1],b=Object(n.useState)($l),g=Object(Ra.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)(ec),y=Object(Ra.a)(O,2),j=y[0],k=y[1],N=Object(n.useState)(""),w=Object(Ra.a)(N,2),x=w[0],C=w[1];Object(n.useEffect)(function(){v(null!==l&&void 0!==l&&l.id?l:$l)},[l]);var S=function(e){p!==e&&f(e)},T=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Pl(E);case 4:a=e.sent,o(a.data),cn("Thay \u0111\u1ed5i t\xean khu v\u1ef1c th\xe0nh c\xf4ng"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),k(e.t0.response.data),on("Thay \u0111\u1ed5i t\xean khu v\u1ef1c th\u1ea5t b\u1ea1i");case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Fl(l.id);case 4:i(l.id),cn("Kh\xf3a khu v\u1ef1c th\xe0nh c\xf4ng"),a(),C(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),on("Kh\xf3a khu v\u1ef1c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{isOpen:t,className:"modal-lg modal-dialog-scrollable",toggle:a},r.a.createElement(mn,{toggle:a},"Ch\u1ec9nh s\u1eeda khu v\u1ef1c"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===p}),onClick:function(){return S("1")}},"Th\xf4ng tin khu v\u1ef1c")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===p}),onClick:function(){return S("2")}},"Kh\xf3a khu v\u1ef1c"))),r.a.createElement(En.a,{activeTab:p},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:T},r.a.createElement("h4",null,"Th\xf4ng tin khu v\u1ef1c"),r.a.createElement(hn,{required:!0,name:"name",label:"T\xean khu v\u1ef1c",value:E.name,onChange:function(e){var t=e.target;v(Object(s.a)({},E,{name:t.value}))},feedback:j.name}),r.a.createElement(tt.a,{type:"submit",color:"warning",block:!0},"C\u1eadp nh\u1eadt"))))),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement("h4",null,"Kh\xf3a khu v\u1ef1c"),r.a.createElement("p",null,"Khu v\u1ef1c b\u1ecb kh\xf3a c\xf3 th\u1ec3 kh\xf4i ph\u1ee5c \u1edf cu\u1ed1i ph\u1ea7n qu\u1ea3n l\xfd"),r.a.createElement(Ga.a,{onSubmit:_},r.a.createElement(qa.a,null,c&&r.a.createElement("p",{className:"text-danger"},"Khu v\u1ef1c \u0111ang c\xf2n b\xe0n, kh\xf4ng th\u1ec3 kh\xf3a"),r.a.createElement(Ka.a,{for:"confirmDelete"},"Nh\u1eadp ",r.a.createElement("strong",null,l.name)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 kh\xf3a"),r.a.createElement(Wa.a,{required:!0,disabled:c,onChange:function(e){var t=e.target;C(t.value)},name:"confirmDelete",value:x,placeholder:l.name})),r.a.createElement(tt.a,{disabled:x!==l.name||c,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))))},ac=a(151),nc=a.n(ac),rc=function(e){var t=e.show,a=e.toggle,l=e.handleRestoreArea,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(""),p=Object(Ra.a)(h,2),f=p[0],b=p[1];Object(n.useEffect)(function(){t&&g()},[t]);var g=function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rl();case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hl(t);case 3:a=i.find(function(e){return e.id===t}),u(i.filter(function(e){return e.id!==t})),l(Object(s.a)({},a,{deleted:!1})),cn("Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),on("Kh\xf4i ph\u1ee5c th\u1ea5t b\u1ea1i: "+(null===e.t0||void 0===e.t0?void 0:null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)),console.log(e.t0.response.data);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"Khu v\u1ef1c \u0111\xe3 kh\xf3a"),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(kn,{value:f,onChange:function(e){var t=e.target;b(t.value)},placeholder:"T\xecm khu v\u1ef1c..."}),r.a.createElement(Ma.a,{className:nc.a.restoreTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean khu v\u1ef1c"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.filter(function(e){return-1!==e.name.toLowerCase().indexOf(f.toLowerCase())}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement("p",{className:nc.a.tableRow},e.name)),r.a.createElement("th",{className:"d-flex justify-content-end"},r.a.createElement(tt.a,{size:"sm",color:"warning",title:"Kh\xf4i ph\u1ee5c",onClick:function(){return E(e.id)}},r.a.createElement("i",{className:"fa fa-undo"}))))}))),0===i.length&&r.a.createElement("p",{className:"text-center"},"Kh\xf4ng c\xf3 khu v\u1ef1c n\xe0o b\u1ecb kh\xf3a")),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"Tho\xe1t")))},lc={ADD_AREA:!1,ADD_TABLE:!1,EDIT_TABLE:!1,EDIT_AREA:!1,RESTORE_TABLE:!1,RESTORE_AREA:!1};function cc(e){return e.sort(function(e,t){return e.name.localeCompare(t.name)})}var oc=function(e){var t=e.tables,a=e.currentTable,l=e.billsByTable,c=e.reservingByTable,o=e.refreshTables,i=e.handleSelectTable,u=e.handleAddTable,h=e.handleUpdateTable,p=e.handleDeleteTable,f=e.handleRestoreTable,b=Object(n.useState)([]),g=Object(Ra.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)({}),y=Object(Ra.a)(O,2),j=y[0],k=y[1],N=Object(n.useState)(lc),w=Object(Ra.a)(N,2),x=w[0],C=w[1],S=Object(n.useState)({area:"",table:""}),T=Object(Ra.a)(S,2),_=T[0],D=T[1];Object(n.useEffect)(function(){!function(){var e=Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl();case 2:t=e.sent,(a=t.data).length&&(cc(a),v(a),k(a[0]));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var I=function(e){var t=e.target;D(Object(s.a)({},_,{[t.name]:t.value}))},A=function(e){C(Object(s.a)({},x,{[e]:!x[e]}))},L=function(e){var t=cc([].concat(Object(q.a)(E),[e]));v(t)},B=j.id&&t.some(function(e){return e.area.id===j.id});return r.a.createElement("div",null,r.a.createElement(ge.a,{className:"area-and-table-container"},r.a.createElement(Ee.a,{className:"px-1 flex-container",xs:"3"},r.a.createElement("div",{className:"flex-header"},r.a.createElement(kn,{value:_.area,onChange:I,name:"area",placeholder:"T\xecm khu v\u1ef1c..."})),r.a.createElement("div",{className:"flex-body"},r.a.createElement("div",{className:"flex-scrollable"},E.filter(function(e){return-1!==e.name.toLowerCase().indexOf(_.area.toLowerCase())}).map(function(e,t){return r.a.createElement(tt.a,{key:t,color:e.id===j.id?"warning":"light",onClick:function(){return function(e){k(e)}(e)},block:!0},e.name)}),r.a.createElement(tt.a,{onClick:function(){return A("ADD_AREA")},color:"white",className:"py-2",block:!0},"+ Th\xeam khu v\u1ef1c"))),r.a.createElement("div",{className:"flex-footer area-and-table-container"},r.a.createElement(tt.a,{block:!0,color:"info",onClick:function(){return A("RESTORE_AREA")}},"Khu v\u1ef1c \u0111\xe3 kh\xf3a"))),r.a.createElement(Ee.a,{className:"px-3 flex-container",xs:"9"},r.a.createElement("div",{className:"flex-header"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("h4",{className:"mb-0 mr-2"},j.name),r.a.createElement(tt.a,{size:"sm",color:"warning",onClick:function(){return A("EDIT_AREA")}},r.a.createElement("i",{className:"fa fa-pencil"}))),r.a.createElement(kn,{formClassName:"mw-40",value:_.table,onChange:I,name:"table",placeholder:"T\xecm b\xe0n..."})),r.a.createElement("div",{className:"flex-body"},r.a.createElement("div",{className:"flex-scrollable table-container"},t.filter(function(e){var t=e.area,a=e.name;return t.id===j.id&&-1!==a.toLowerCase().indexOf(_.table.toLowerCase())}).map(function(e,t){return r.a.createElement(Al,{onClick:function(){return i(e)},key:t,current:e.id===a.id,table:e,bill:l[e.id],reserving:c[e.id]})}),r.a.createElement("div",{onClick:function(){return A("ADD_TABLE")},className:"table-display table-add text-center"},"+ Th\xeam b\xe0n"))),r.a.createElement("div",{className:"flex-footer area-and-table-container"},r.a.createElement(tt.a,{onClick:function(){return A("EDIT_TABLE")},color:"warning"},"S\u1eeda b\xe0n hi\u1ec7n t\u1ea1i (",a.name,")"),r.a.createElement(tt.a,{onClick:function(){return A("RESTORE_TABLE")},color:"info"},"B\xe0n \u0111\xe3 kh\xf3a")))),r.a.createElement(Kl,{show:x.ADD_AREA,toggle:function(){return A("ADD_AREA")},handleAddArea:L}),r.a.createElement(tc,{show:x.EDIT_AREA,toggle:function(){return A("EDIT_AREA")},area:j,hasTables:B,handleUpdateArea:function(e){v(E.map(function(t){return t.id===e.id?e:t})),k(e),o()},handleDeleteArea:function(e){v(E.filter(function(t){return t.id!==e}));var t=E.find(function(t){return t.id!==e});k(t||{})}}),r.a.createElement(rc,{show:x.RESTORE_AREA,toggle:function(){return A("RESTORE_AREA")},handleRestoreArea:L}),r.a.createElement(Ql,{show:x.ADD_TABLE,toggle:function(){return A("ADD_TABLE")},handleAddTable:u,currentArea:j}),r.a.createElement(Jl,{show:x.EDIT_TABLE,toggle:function(){return A("EDIT_TABLE")},table:a,areas:E,isBusy:Boolean(l[a.id]),handleDeleteTable:p,handleUpdateTable:h}),r.a.createElement(Vl,{show:x.RESTORE_TABLE,toggle:function(){return A("RESTORE_TABLE")},handleRestoreTable:f}))},ic=(a(313),function(e){var t=e.food,a=e.handleSelectFood,n=t.name,l=t.imageUrl,c=t.available,o=t.price,i=n.length>15?n.slice(0,15)+"...":n,s=Tn(o),u="".concat(n," (").concat(s,")");return r.a.createElement("div",{className:"food-display ".concat(c?"":"food-disabled"),title:u,onClick:function(){return a(t)}},r.a.createElement("div",{className:"food-image",style:{backgroundImage:'url("'.concat(l,'")')}},r.a.createElement("span",{className:"food-price"},s),r.a.createElement(el,{status:c})),r.a.createElement("div",{className:"food-name"},r.a.createElement("p",null,i)))}),sc=(a(314),function(e){var t=e.foods,a=e.handleSelectFood,l=e.handleToggleAvailable,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)({name:"",type:""}),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(!1),E=Object(Ra.a)(g,2),v=E[0],O=E[1];Object(n.useEffect)(function(){!function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr.getAll();case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var y=function(e){var t=e.target;b(Object(s.a)({},f,{[t.name]:t.value}))},j=function(e){v?l(e):a(e)},k=t.filter(function(e){var t=e.name,a=e.foodType;return-1!==t.toLowerCase().indexOf(f.name.toLowerCase())&&(!f.type||a.id===Number(f.type))}),N=t.reduce(function(e,t){return e+(t.available?0:1)},0);return r.a.createElement("div",{className:"flex-container ".concat(v?"marking-mode":"")},r.a.createElement("div",{className:"flex-header"},r.a.createElement("h4",null,"Menu"),r.a.createElement(Ga.a,{className:"menu-search-form",inline:!0,onSubmit:function(e){return e.preventDefault()}},r.a.createElement(qa.a,null,r.a.createElement(Wa.a,{name:"name",onChange:y,value:f.name,placeholder:"T\xean m\xf3n..."}),r.a.createElement(Wa.a,{name:"type",onChange:y,defaultValue:f.type,type:"select"},r.a.createElement("option",{value:""},"T\u1ea5t c\u1ea3"),i.map(function(e){var t=e.id,a=e.name;return r.a.createElement("option",{key:t,value:t},a)}))))),r.a.createElement("div",{className:"flex-body"},r.a.createElement("div",{className:"flex-scrollable food-container"},k.map(function(e){return r.a.createElement(ic,{handleSelectFood:j,key:e.id,food:e})}))),r.a.createElement("div",{className:"flex-footer"},r.a.createElement(ge.a,{className:"m-0"},r.a.createElement(Ee.a,{sm:"5",xs:"12",className:"px-3"},r.a.createElement("p",null,k.length,"/",t.length," m\xf3n (",N," ","h\u1ebft)")),r.a.createElement(Ee.a,{sm:"7",xs:"12",className:"px-3"},r.a.createElement(tt.a,{block:!0,onClick:function(){return O(!v)},color:v?"danger":"warning",className:"font-weight-bold mx-2"},v?"Tho\xe1t \u0111\xe1nh d\u1ea5u m\xf3n":"\u0110\xe1nh d\u1ea5u h\u1ebft m\xf3n")))))}),uc=a(435),mc=(a(315),function(e){var t=e.food,a=e.quantity,n=e.doneQuantity,l=e.lastOrderTime,c=e.handleClickOrderAmount,o=e.handleTypeOrderAmount,i=e.handleDeleteOrderDetail,s=l?hr(l):0,u=s<15?"success fa-hourglass-start":s<30?"warning fa-hourglass-half":"danger fa-hourglass-end";return r.a.createElement(ge.a,{className:"order-details"},r.a.createElement(Ee.a,{xs:"5",title:t.name,className:"food-name"},r.a.createElement("span",null,t.name,t.foodType.refundable&&r.a.createElement("i",{className:"fas fa-undo-alt text-secondary pl-2",title:"M\xf3n tr\u1ea3 \u0111\u01b0\u1ee3c"}),l&&a>n&&r.a.createElement("i",{className:"fas pl-2 text-".concat(u),title:s+" ph\xfat tr\u01b0\u1edbc"}),!t.available&&r.a.createElement("i",{className:"fas fa-ban pl-2 text-danger",title:"H\u1ebft h\xe0ng"}))),r.a.createElement(Ee.a,{xs:"2"},r.a.createElement("small",null,t.price,"\u20ab")),r.a.createElement(Ee.a,{xs:"3"},r.a.createElement(Ga.a,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(uc.a,{className:"order-details-quantity-group",size:"sm"},r.a.createElement(tt.a,{onClick:function(){return c(t,-1)},size:"sm",color:"warning"},"-"),r.a.createElement(Wa.a,{type:"number",min:n,max:"2000",value:a,className:"order-details-quantity",onChange:function(e){var a=e.target;return o(t,Number(a.value))}}),r.a.createElement(tt.a,{onClick:function(){return c(t,1)},size:"sm",color:"warning"},"+")))),r.a.createElement(Ee.a,{xs:"1"},r.a.createElement("p",{className:"text-center"},n)),r.a.createElement(Ee.a,{xs:"1"},r.a.createElement(tt.a,{disabled:n>0,onClick:function(){return i(t.id)},outline:!0,size:"sm",color:"warning"},r.a.createElement("i",{title:"X\xf3a m\xf3n",className:"fas fa-trash"}))))}),dc=(a(316),function(e){var t=e.show,a=e.toggle,l=e.confirm,c=void 0===l?"X\xf3a":l,o=e.onAccept,i=e.title,s=void 0===i?"X\xe1c nh\u1eadn x\xf3a":i,u=Object(n.useState)(""),m=Object(Ra.a)(u,2),d=m[0],h=m[1];return r.a.createElement(Ze.a,{isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},s),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{sm:"12"},r.a.createElement(Ga.a,{onSubmit:function(e){e.preventDefault(),o(),a()}},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"confirmInput"},"Nh\u1eadp ",r.a.createElement("strong",null,c)," v\xe0 b\u1ea5m x\xe1c nh\u1eadn \u0111\u1ec3 th\u1ef1c hi\u1ec7n"),r.a.createElement(Wa.a,{required:!0,onChange:function(e){var t=e.target;h(t.value)},name:"confirmInput",value:d,placeholder:c})),r.a.createElement(tt.a,{disabled:d!==c,type:"submit",color:"danger",block:!0},"X\xe1c nh\u1eadn"))))))}),hc={DELETE_MODAL:!1},pc=function(e){var t,a,l=e.table,c=e.bill,o=void 0===c?{}:c,i=e.isGrouping,u=e.handleClickOrderAmount,m=e.handleTypeOrderAmount,d=e.handleDeleteOrderDetail,h=e.handleSaveBill,p=e.handleDeleteBill,f=e.toggleTableGroupingModal,b=e.toggleTableChangingModal,g=e.togglePaymentModal,E=Object(n.useState)(hc),v=Object(Ra.a)(E,2),O=v[0],y=v[1],j=function(e){y(Object(s.a)({},O,{[e]:!O[e]}))},k=Dn(o),N=Boolean(null===(t=o.billDetails)||void 0===t?void 0:t.length),w=N&&!o.billDetails.some(function(e){return e.doneQuantity>0}),x=Boolean(o.changed)||!N,C=x||!w,S=N&&o.billDetails.some(function(e){return e.quantity!==e.doneQuantity});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-white order-container flex-container"},r.a.createElement("div",{className:"order-header"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{xs:"4",className:"order-table"},r.a.createElement("span",null,"B\xe0n"),r.a.createElement("h2",null,l.name),i&&r.a.createElement(Ut.a,{color:"light",className:"text-warning font-weight-bold"},"B\xe0n g\u1ed9p")),r.a.createElement(Ee.a,{xs:"8"},r.a.createElement("h5",{className:"text-center"},"Nh\xe0 h\xe0ng Super Pig"),r.a.createElement("div",{className:"order-meta"},r.a.createElement("span",null,"Khu v\u1ef1c:"),r.a.createElement("span",null,null===(a=l.area)||void 0===a?void 0:a.name)),r.a.createElement("div",{className:"order-meta"},r.a.createElement("span",null,"Gi\u1edd v\xe0o:"),r.a.createElement("span",null,o.startTime?ur(o.startTime):"Ch\u01b0a c\xf3")),r.a.createElement("div",{className:"order-meta"},r.a.createElement("span",null,"M\xe3 h\xf3a \u0111\u01a1n:"),r.a.createElement("span",{title:o.id},o.id?o.id:"Ch\u01b0a c\xf3"))))),r.a.createElement("div",{className:"flex-body order-body"},r.a.createElement("div",{className:"flex-scrollable"},r.a.createElement(ge.a,{className:"order-details order-details-header"},r.a.createElement(Ee.a,{xs:"5"},"M\xf3n"),r.a.createElement(Ee.a,{xs:"2"},"Gi\xe1"),r.a.createElement(Ee.a,{xs:"3"},"S\u1ed1 l\u01b0\u1ee3ng"),r.a.createElement(Ee.a,{xs:"1"},"\u0110\xe3 ra"),r.a.createElement(Ee.a,{xs:"1"})),void 0===o.billDetails?r.a.createElement("p",{className:"text-center mt-3"},"B\xe0n \u0111ang tr\u1ed1ng"):N?o.billDetails.map(function(e,t){return r.a.createElement(mc,Object.assign({handleClickOrderAmount:u,handleTypeOrderAmount:m,handleDeleteOrderDetail:d,key:t},e))}):r.a.createElement("p",{className:"text-center mt-3"},"Ch\u1ecdn m\xf3n trong m\u1ee5c menu \u0111\u1ec3 th\xeam v\xe0o h\xf3a \u0111\u01a1n"))),0!==k&&r.a.createElement("div",{title:"T\u1ed5ng gi\xe1 tr\u1ecb h\xe0ng h\xf3a, ch\u01b0a bao g\u1ed3m chi\u1ebft kh\u1ea5u v\xe0 ph\u1ee5 thu",className:"order-total"},r.a.createElement("span",null,"T\u1ed5ng gi\xe1 tr\u1ecb:"),r.a.createElement("span",null,w?r.a.createElement(Ut.a,{color:"danger"},"Ch\u01b0a ra m\xf3n n\xe0o"):S?r.a.createElement(Ut.a,{color:"warning"},"Ch\u01b0a ra h\u1ebft m\xf3n"):r.a.createElement(Ut.a,{color:"success"},"\u0110\xe3 ra h\u1ebft m\xf3n")," ",Tn(k))),r.a.createElement("div",{className:"flex-footer order-footer"},r.a.createElement(tt.a,{block:!0,disabled:!o.id||o.changed,color:"dark",className:"text-white order-grouping",title:"Ch\u1ee9c n\u0103ng ch\u1ec9 \xe1p d\u1ee5ng v\u1edbi b\xe0n trong c\xf9ng khu v\u1ef1c",onClick:f},r.a.createElement("i",{className:"fas fa-th"})," G\u1ed9p/t\xe1ch b\xe0n"),r.a.createElement(tt.a,{block:!0,disabled:!o.id||o.changed||i,color:"info",className:"order-moving",title:"Ch\u1ee9c n\u0103ng ch\u1ec9 \xe1p d\u1ee5ng v\u1edbi b\xe0n ch\u01b0a g\u1ed9p",onClick:b},r.a.createElement("i",{className:"fa fa-arrows-alt"})," Chuy\u1ec3n b\xe0n"),r.a.createElement(tt.a,{block:!0,size:"lg",disabled:!(N&&Boolean(o.changed)),color:"primary",className:"order-update",title:"L\u01b0u thay \u0111\u1ed5i tr\u01b0\u1edbc khi th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng kh\xe1c",onClick:h},r.a.createElement("i",{className:"fas fa-book"})," L\u01b0u"),r.a.createElement(tt.a,{block:!0,color:"danger",disabled:C,className:"order-delete",title:"Ch\u1ee9c n\u0103ng ch\u1ec9 \xe1p d\u1ee5ng v\u1edbi b\xe0n ch\u01b0a ra m\xf3n (kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c)",onClick:function(){return j("DELETE_MODAL")}},r.a.createElement("i",{className:"fas fa-trash"})," X\xf3a h\xf3a \u0111\u01a1n"),r.a.createElement(tt.a,{block:!0,disabled:x,color:"warning",className:"order-payment text-white",title:"In h\xf3a \u0111\u01a1n t\u1ea1m t\xednh v\xe0 thanh to\xe1n",onClick:g},r.a.createElement("i",{className:"fas fa-coins"})," Thanh to\xe1n"))),r.a.createElement(dc,{show:O.DELETE_MODAL,toggle:function(){return j("DELETE_MODAL")},onAccept:p,confirm:"B\xe0n ".concat(l.name),title:"X\xf3a h\xf3a \u0111\u01a1n"}))};function fc(e,t){return e.map(function(e){var a;return(null===(a=e.parent)||void 0===a?void 0:a.id)===t?Object(s.a)({},e,{parent:void 0}):e})}a(317);var bc=function(e){var t=e.tables,a=e.billsByTable,n=void 0===a?{}:a,l=e.currentTableId,c=void 0===l?0:l,o=e.selectedAreaId,i=void 0===o?0:o,s=e.selector,u=e.onClick,m=function(e){return e.id===c},d=function(e){var t;return!m(e)&&(function(e){return Boolean(e.parent)&&e.parent.id!==c}(e)||Boolean(null===(t=n[e.id])||void 0===t?void 0:t.id))};return r.a.createElement("div",{className:"tables-modal-view"},t.filter(function(e){return 0===i||e.area.id===i}).map(function(e){return r.a.createElement(Al,{key:e.id,table:e,disabled:d(e),selected:s(e.id),current:m(e),onClick:function(){return u(e.id)}})}))},gc=function(e){var t,a=e.show,l=e.toggle,c=e.tables,o=e.billsByTable,i=e.currentTable,u=e.updateTablesState,h=Object(n.useState)({}),p=Object(Ra.a)(h,2),f=p[0],b=p[1];Object(n.useEffect)(function(){var e=i.id,t=c.filter(function(t){var a;return(null===(a=t.parent)||void 0===a?void 0:a.id)===e}).map(function(e){return e.id}),a=new Set(t);b({parent:e,children:a})},[c,i]);var g=function(e){return f.children.has(e)},E=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yl.grouping(f);case 3:t=e.sent,u(t.data),sn("G\u1ed9p b\xe0n th\xe0nh c\xf4ng"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),on("G\u1ed9p b\xe0n th\u1ea5t b\u1ea1i: "+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yl.separate(f.parent);case 3:t=e.sent,u(t.data),sn("T\xe1ch b\xe0n th\xe0nh c\xf4ng"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),on("T\xe1ch b\xe0n \u0111\xe3 g\u1ed9p th\u1ea5t b\u1ea1i: "+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:a,toggle:l},r.a.createElement(mn,{toggle:l},"G\u1ed9p b\xe0n ",i.name),r.a.createElement($e.a,{className:"bg-white"},a&&r.a.createElement(bc,{tables:c,billsByTable:o,currentTableId:i.id,selectedAreaId:i.area.id,selector:g,onClick:function(e){if(e!==f.parent){var t=f.children;g(e)?t.delete(e):t.add(e),b(Object(s.a)({},f,{children:t}))}}})),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"danger",className:"my-0 mx-1",onClick:v,block:!0,disabled:!(null!==(t=f.children)&&void 0!==t&&t.size)},"T\xe1ch to\xe0n b\u1ed9 b\xe0n con"),r.a.createElement(tt.a,{color:"warning",className:"my-0 mx-1",onClick:E,block:!0},"L\u01b0u tr\u1ea1ng th\xe1i g\u1ed9p")))},Ec=function(e){var t=e.show,a=e.toggle,l=e.tables,c=e.billsByTable,o=e.currentTable,i=e.handleChangeTable,s=Object(n.useState)(0),u=Object(Ra.a)(s,2),h=u[0],p=u[1],f=Object(n.useState)([]),b=Object(Ra.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)(""),O=Object(Ra.a)(v,2),y=O[0],j=O[1];Object(n.useEffect)(function(){t&&function(){var e=Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bl();case 3:a=e.sent,E(a.data),j(String(null===(t=o.area)||void 0===t?void 0:t.id)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),on("L\u1ea5y th\xf4ng tin th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau");case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()()},[t,o]);var k=function(){p(0),a()},N=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n,r,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=o.id,a=c[o.id].id,e.next=5,kl.changeTable(a,h);case 5:n=e.sent,i(n.data,t,h),k(),sn("Chuy\u1ec3n b\xe0n th\xe0nh c\xf4ng"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),on("Chuy\u1ec3n b\xe0n th\u1ea5t b\u1ea1i: "+(null===(r=e.t0.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message));case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:k},r.a.createElement(mn,{toggle:k},"Chuy\u1ec3n b\xe0n ",o.name),r.a.createElement($e.a,{className:"bg-white"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-2"},r.a.createElement(Ga.a,{inline:!0,onSubmit:function(e){return e.preventDefault()}},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"area",className:"mr-2"},"Ch\u1ecdn khu v\u1ef1c:"),r.a.createElement(Wa.a,{type:"select",name:"area",value:y,onChange:function(e){return j(e.target.value)}},g.map(function(e){var t=e.id,a=e.name;return r.a.createElement("option",{key:t,value:t},a)}))))),r.a.createElement(bc,{tables:l,billsByTable:c,currentTableId:o.id,selectedAreaId:Number(y),selector:function(e){return e===h},onClick:function(e){p(e===o.id?0:e)}}))),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:k},"H\u1ee7y"),r.a.createElement(tt.a,{disabled:0===h,color:"warning",onClick:N},"Chuy\u1ec3n b\xe0n")))},vc=a(102),Oc=a.n(vc),yc=a(436),jc=a(443),kc=(a(318),function(e){var t=e.title,a=e.value,l=void 0===a?"":a,c=e.max,o=e.name,i=e.onChange,s=Object(n.useState)(0),u=Object(Ra.a)(s,2),m=u[0],d=u[1],h=Object(n.useState)(!1),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=function(e){var t=Number(e);t=t<0?0:t>100?100:t,d(e),i({name:o,value:Math.round(c*t/100)})},E=function(){b(!f)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{outline:!0,onClick:E,color:"warning"},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("div",{className:"payment-input ".concat(f?"show":"")},r.a.createElement("div",{className:"payment-input-header"},r.a.createElement("strong",null,t),r.a.createElement("span",{onClick:E,className:"payment-input-close-btn"},"\u2715")),r.a.createElement(yc.a,null,r.a.createElement(Wa.a,{value:m,onChange:function(e){return g(e.target.value)},min:"0",max:"100",type:"number",step:"1"}),r.a.createElement(jc.a,{addonType:"append"},"%")),r.a.createElement(uc.a,{className:"payment-input-percent-btn"},r.a.createElement(tt.a,{color:"warning",onClick:function(){return g(5)}},"5%"),r.a.createElement(tt.a,{color:"warning",onClick:function(){return g(10)}},"10%"),r.a.createElement(tt.a,{color:"warning",onClick:function(){return g(15)}},"15%"),r.a.createElement(tt.a,{color:"warning",onClick:function(){return g(20)}},"20%"),r.a.createElement(tt.a,{color:"warning",onClick:function(){return g(50)}},"50%")),r.a.createElement("hr",{className:"m-1"}),r.a.createElement(yc.a,null,r.a.createElement(Wa.a,{value:l,onChange:function(e){var t=e.target.value,a=Number(t);a=a<0?0:a>c?c:a,d(0),i({name:o,value:a})},min:"0",max:c,type:"number",step:"1"}),r.a.createElement(jc.a,{addonType:"append"},"\u20ab")),r.a.createElement("div",{className:"payment-input-value"},r.a.createElement("span",null,"Th\xe0nh ti\u1ec1n:"),r.a.createElement("span",null,Tn(l)))))}),Nc=(a(319),a(320),function(e){function t(){return Object(X.a)(this,t),Object(J.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.startTime,n=e.payTime,l=e.staff,c=e.appTable,o=e.billDetails,i=e.surcharge,s=e.discount,u=e.discountDescription,m=e.rawCost,d=e.totalCost,h=e.lastPrice;if(!t)return r.a.createElement("div",null,"Ch\u01b0a c\xf3 th\xf4ng tin");var p=Boolean(n);return r.a.createElement("div",{className:"printing-bill"},r.a.createElement("div",{className:"printing-bill-header"},r.a.createElement("h5",{className:"text-center"},"Nh\xe0 h\xe0ng Super Pig"),r.a.createElement("p",{className:"text-center"},"28 Nguy\u1ec5n Tri Ph\u01b0\u01a1ng, ph\u01b0\u1eddng Ph\xfa Nhu\u1eadn, TP Hu\u1ebf"),r.a.createElement("h3",{className:"text-center"},p?"H\xd3A \u0110\u01a0N B\xc1N H\xc0NG":"H\xd3A \u0110\u01a0N T\u1ea0M T\xcdNH"," "),r.a.createElement("div",{className:"printing-bill-meta"},r.a.createElement("div",{className:"printing-bill-meta-group"},r.a.createElement("span",null,"Gi\u1edd v\xe0o:"),r.a.createElement("span",null,mr(a))),p&&r.a.createElement("div",{className:"printing-bill-meta-group"},r.a.createElement("span",null,"Gi\u1edd thanh to\xe1n:"),r.a.createElement("span",null,mr(n))),r.a.createElement("div",{className:"printing-bill-meta-group"},r.a.createElement("span",null,"Gi\u1edd xu\u1ea5t h\xf3a \u0111\u01a1n:"),r.a.createElement("span",null,er()().format("HH:mm DD/MM/YYYY"))),(null===l||void 0===l?void 0:l.id)&&r.a.createElement("div",{className:"printing-bill-meta-group"},r.a.createElement("span",null,"Nh\xe2n vi\xean thanh to\xe1n:"),r.a.createElement("span",null,l.fullname)),r.a.createElement("div",{className:"printing-bill-meta-group"},r.a.createElement("span",null,"B\xe0n:"),r.a.createElement("span",null,c.name," (",c.area.name,")")),r.a.createElement("div",{className:"printing-bill-meta-group"},r.a.createElement("span",null,"M\xe3 h\xf3a \u0111\u01a1n:"),r.a.createElement("span",null,t)))),r.a.createElement("div",{className:"printing-bill-body"},r.a.createElement(Ma.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xf3n"),r.a.createElement("th",null,"SL"),r.a.createElement("th",null,"\u0110\u01a1n gi\xe1"),r.a.createElement("th",null,"T\u1ed5ng (\u20ab)"))),r.a.createElement("tbody",null,o.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.food.name," (",e.food.unit,")"),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,_n(e.food.price)),r.a.createElement("td",null,_n(e.quantity*e.food.price)))}),r.a.createElement("tr",{className:"printing-bill-raw-cost"},r.a.createElement("td",{colSpan:"2"},"T\u1ed5ng c\u1ed9ng:"),r.a.createElement("td",{colSpan:"2"},_n(m))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Ph\u1ee5 thu:"),r.a.createElement("td",{colSpan:"2"},_n(i))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Gi\u1ea3m gi\xe1:"),r.a.createElement("td",{colSpan:"2"},_n(s))),r.a.createElement("tr",{className:"printing-bill-total-cost"},r.a.createElement("td",{colSpan:"2"},"T\u1ed5ng ti\u1ec1n:"),r.a.createElement("td",{colSpan:"2"},_n(d||h))))),u&&r.a.createElement("p",null,"* Gi\u1ea3m gi\xe1: ",u)),r.a.createElement("div",{className:"printing-bill-footer"},r.a.createElement("p",{className:"text-center"},"C\u1ea3m \u01a1n qu\xfd kh\xe1ch!")))}}]),t}(r.a.Component)),wc=function(e){var t,a=e.show,l=e.toggle,c=e.currentTable,o=e.bill,i=void 0===o?{}:o,s=e.handleChangePaymentInfo,u=e.handleSavePayment,m=e.handleDoPayment,d=Object(n.useState)(0),h=Object(Ra.a)(d,2),p=h[0],f=h[1],b=Object(n.useRef)(),g=a?Dn(i):0,E=g+i.surcharge-i.discount,v=i.unsaved||!i.lastPrice,O=(null===(t=i.billDetails)||void 0===t?void 0:t.length)&&i.billDetails.some(function(e){var t=e.quantity;return e.doneQuantity<t}),y=function(){l(),f(0)};return r.a.createElement(Ze.a,{className:"modal-full-screen modal-dialog-scrollable",isOpen:a,toggle:y},r.a.createElement(mn,{toggle:y},"Thanh to\xe1n ",c.name),a&&r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{md:"6",sm:"12"},r.a.createElement(Ga.a,{onSubmit:u},r.a.createElement(qa.a,{className:"payment-form-group"},r.a.createElement(Ka.a,null,"T\u1ed5ng gi\xe1 tr\u1ecb"),r.a.createElement("span",null,Tn(g))),r.a.createElement(qa.a,{className:"payment-form-group"},r.a.createElement(Ka.a,null,"Ph\u1ee5 thu"),r.a.createElement("div",null,r.a.createElement(kc,{title:"Ti\u1ec1n ph\u1ee5 thu",value:i.surcharge,name:"surcharge",max:g,onChange:s}),r.a.createElement("span",null,Tn(i.surcharge)))),r.a.createElement(qa.a,{className:"payment-form-group"},r.a.createElement(Ka.a,null,"Gi\u1ea3m gi\xe1"),r.a.createElement("div",null,r.a.createElement(kc,{title:"Ti\u1ec1n gi\u1ea3m gi\xe1",value:i.discount,name:"discount",max:g,onChange:s}),r.a.createElement("span",null,Tn(i.discount)))),r.a.createElement(qa.a,null,r.a.createElement(Ka.a,null,"Chi ti\u1ebft gi\u1ea3m gi\xe1"),r.a.createElement(Wa.a,{onChange:function(e){var t=e.target;return s(t)},label:"Chi ti\u1ebft gi\u1ea3m gi\xe1",name:"discountDescription",value:i.discountDescription,type:"textarea"})),r.a.createElement("hr",null),r.a.createElement(qa.a,{className:"payment-form-group"},r.a.createElement("strong",null,"T\u1ed5ng c\u1ed9ng"),r.a.createElement("strong",null,Tn(E))),r.a.createElement(qa.a,{className:"payment-form-group"},r.a.createElement(Ka.a,null,"Kh\xe1ch \u0111\u01b0a"),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},r.a.createElement(Wa.a,{name:"takeIn",className:"payment-take-in",type:"number",value:p,onChange:function(e){return f(Number(e.target.value))}}),"\u20ab")),r.a.createElement(qa.a,{className:"payment-form-group"},r.a.createElement(Ka.a,null,"Th\u1ed1i l\u1ea1i"),r.a.createElement("span",null,Tn(Math.max(E,Number(p))-E))),r.a.createElement("div",{className:"payment-btn-group"},r.a.createElement(tt.a,{block:!0,disabled:!v,className:"payment-save",type:"submit",color:"primary"},r.a.createElement("i",{className:"fas fa-book"})," L\u01b0u th\xf4ng tin"),r.a.createElement(Oc.a,{trigger:function(){return r.a.createElement(tt.a,{block:!0,disabled:v,className:"payment-print",color:"dark"},r.a.createElement("i",{className:"fas fa-print"})," In t\u1ea1m t\xednh")},content:function(){return b.current}}),r.a.createElement(tt.a,{block:!0,disabled:v||O,className:"payment-process",color:"warning",onClick:m},r.a.createElement("i",{className:"fas fa-coins"})," X\xe1c nh\u1eadn thanh to\xe1n")),O&&r.a.createElement("p",{className:"text-center text-danger"},"* Kh\xf4ng th\u1ec3 thanh to\xe1n h\xf3a \u0111\u01a1n ch\u01b0a ra h\u1ebft m\xf3n"))),r.a.createElement(Ee.a,{md:"6",sm:"12"},r.a.createElement(Nc,Object.assign({},i,{rawCost:g,totalCost:E,ref:b}))))))},xc=a(70),Cc=a.n(xc),Sc=(a(132),a(321),a(107)),Tc=a(106),_c=(a(322),{reservingTime:void 0,customerName:"",customerPhoneNumber:"",appTables:{}}),Dc={customerName:"",customerPhoneNumber:""},Ic=function(e){var t=e.show,a=e.toggle,l=e.tables,c=e.reserving,o=void 0===c?_c:c,i=e.date,u=void 0===i?new Date:i,h=e.currentOrders,p=void 0===h?[]:h,f=e.handleAdd,b=e.handleEdit,g=Object(n.useState)(_c),E=Object(Ra.a)(g,2),v=E[0],O=E[1],y=Object(n.useState)(Dc),j=Object(Ra.a)(y,2),k=j[0],N=j[1],w=Object(n.useState)([]),x=Object(Ra.a)(w,2),C=x[0],S=x[1],T=Object(n.useState)(""),_=Object(Ra.a)(T,2),D=_[0],I=_[1];Object(n.useEffect)(function(){if(t){var e=null!==o&&void 0!==o&&o.id?Object(s.a)({},o,{reservingTime:new Date(o.reservingTime),appTables:o.appTables.reduce(function(e,t){return e[t.id]=t,e},{})}):Object(s.a)({},_c,{reservingTime:u});O(e)}},[t,o,u]),Object(n.useEffect)(function(){!function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bl();case 3:t=e.sent,S(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),on("L\u1ea5y th\xf4ng tin th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var A=p.reduce(function(e,t){var a=t.appTables;return null!==a&&void 0!==a&&a.length&&!t.deleted&&a.forEach(function(a){var n=a.id;return e[n]=t.id}),e},{}),L=Object.keys(v.appTables).length,B=0!==pr(u),R=function(){a(),N(Dc),I("")},P=function(e){var t=e.target;O(Object(s.a)({},v,{[t.name]:t.value}))},F=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,N(Dc),e.next=7,Cl.saveOrUpdate(Object(s.a)({},v,{appTables:Object.values(v.appTables)}));case 7:n=e.sent,v.id?b(n.data):f(n.data),cn("L\u01b0u \u0111\u01a1n \u0111\u1eb7t b\xe0n th\xe0nh c\xf4ng"),a(),O(_c),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),N(e.t0.response.data),on("L\u01b0u \u0111\u01a1n \u0111\u1eb7t b\xe0n th\u1ea5t b\u1ea1i");case 18:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:R},r.a.createElement(mn,{toggle:R},v.id?"Ch\u1ec9nh s\u1eeda \u0111\u01a1n \u0111\u1eb7t b\xe0n":"Th\xeam \u0111\u01a1n \u0111\u1eb7t b\xe0n"," ng\xe0y"," ",sr(u)),r.a.createElement($e.a,{className:"bg-white edit-reserving-modal"},r.a.createElement(Ga.a,{onSubmit:F},r.a.createElement(hn,{required:!0,onChange:P,label:"T\xean kh\xe1ch h\xe0ng:",name:"customerName",value:v.customerName,feedback:k.customerName}),r.a.createElement(hn,{required:!0,onChange:P,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:",name:"customerPhoneNumber",value:v.customerPhoneNumber,feedback:k.customerPhoneNumber}),r.a.createElement(qa.a,null,r.a.createElement(Ka.a,null,"Gi\u1edd \u0111\u1eb7t:"),r.a.createElement(Cc.a,{className:"form-control",showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,dateFormat:"HH:mm",selected:v.reservingTime,onChange:function(e){O(Object(s.a)({},v,{reservingTime:e<new Date?new Date:e}))},closeOnScroll:!0,minTime:Object(Sc.default)(Object(Tc.default)(u,B?0:u.getMinutes()),B?0:u.getHours()),maxTime:Object(Sc.default)(Object(Tc.default)(u,59),23)})),t&&r.a.createElement("div",null,r.a.createElement("div",{className:"mb-2"},r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"area",className:"mr-2"},"Ch\u1ecdn b\xe0n \u0111\u1eb7t: (",L?"\u0110\xe3 ch\u1ecdn ".concat(L," b\xe0n"):"Ch\u01b0a ch\u1ecdn b\xe0n n\xe0o",")"),r.a.createElement(Wa.a,{type:"select",name:"area",value:D,onChange:function(e){return I(e.target.value)}},r.a.createElement("option",{value:""},"T\u1ea5t c\u1ea3 khu v\u1ef1c"),C.map(function(e){var t=e.id,a=e.name;return r.a.createElement("option",{key:t,value:t},a)})))),r.a.createElement("div",{className:"tables-modal-view"},l.filter(function(e){return""===D||e.area.id===Number(D)}).map(function(e){return r.a.createElement(Al,{key:e.id,table:e,disabled:void 0!==A[e.id]&&A[e.id]!==v.id,selected:Boolean(v.appTables[e.id]),onClick:function(){return function(e){var t=Object(s.a)({},v.appTables);t[e.id]?delete t[e.id]:t[e.id]=e,O(Object(s.a)({},v,{appTables:t}))}(e)}})}))))),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:R},"H\u1ee7y")," ",r.a.createElement(tt.a,{color:"warning",disabled:!L,onClick:F},"L\u01b0u")))},Ac=function(e){var t=e.show,a=e.tables,l=e.refreshReservingState,c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)(new Date),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)(""),E=Object(Ra.a)(g,2),v=E[0],O=E[1],y=Object(n.useState)(void 0),j=Object(Ra.a)(y,2),k=j[0],N=j[1],w=Object(n.useState)({}),x=Object(Ra.a)(w,2),C=x[0],S=x[1],T=Object(n.useState)({keyword:"",state:""}),_=Object(Ra.a)(T,2),D=_[0],I=_[1];Object(n.useEffect)(function(){t&&function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cl.getAllByDate(f);case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),un("L\u1ea5y d\u1eef li\u1ec7u \u0111\u1eb7t b\xe0n th\u1ea5t b\u1ea1i: "+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[f,t]);var A=sr(f),L=pr(f),B=function(e){return e.preventDefault()},R=function(e){return O(v?"":e)},P=function(e){u(i.map(function(t){return t.id===e.id?e:t}).sort(function(e,t){return new Date(e.reservingTime)-new Date(t.reservingTime)})),0===L&&l()},F=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cl.softDelete(C.id);case 3:P(Object(s.a)({},C,{deleted:!0})),S({}),sn("Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i \u0111\u01a1n \u0111\u1eb7t b\xe0n th\xe0nh c\xf4ng"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),un("Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i \u0111\u01a1n \u0111\u1eb7t b\xe0n th\u1ea5t b\u1ea1i: "+(null===(t=e.t0.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N(e),R("EDIT")},H=function(e){S(e),R("DONE_CONFIRM")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{className:"flex-header"},r.a.createElement(Ga.a,{className:"form-flex",onSubmit:B},r.a.createElement(Ka.a,{className:"mr-2"},"Ng\xe0y \u0111\u1eb7t: "),r.a.createElement(Cc.a,{dateFormat:"dd/MM/yyyy",className:"custom-date-picker form-control",selected:f,onChange:b,closeOnScroll:!0,todayButton:"Today"})),r.a.createElement(Ga.a,{className:"form-flex filter-form",onSubmit:B},r.a.createElement(Wa.a,{type:"search",value:D.keyword,onChange:function(e){return I(Object(s.a)({},D,{keyword:e.target.value.toLowerCase()}))},placeholder:"T\xecm ki\u1ebfm..."}),r.a.createElement(Wa.a,{id:"status-filter",type:"select",value:D.state,onChange:function(e){return I(Object(s.a)({},D,{state:e.target.value}))}},r.a.createElement("option",{value:""},"T\u1ea5t c\u1ea3"),r.a.createElement("option",{value:"true"},"C\xf2n \u0111\u1eb7t"),r.a.createElement("option",{value:"false"},"Xong")))),r.a.createElement("div",{className:"flex-body"},r.a.createElement("div",{className:"flex-scrollable"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement(Ma.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Gi\u1edd"),r.a.createElement("th",null,"Kh\xe1ch \u0111\u1eb7t"),r.a.createElement("th",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement("th",null,"B\xe0n"),r.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.length?i.filter(function(e){var t=e.customerName,a=e.customerPhoneNumber,n=e.appTables,r=e.deleted;return(""===D.state||r&&"true"===D.state||!r&&"false"===D.state)&&(-1!==t.toLowerCase().indexOf(D.keyword)||-1!==a.indexOf(D.keyword)||-1!==n.map(function(e){return e.name}).join(", ").indexOf(D.keyword))}).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,dr(e.reservingTime)),r.a.createElement("td",null,e.customerName),r.a.createElement("td",null,e.customerPhoneNumber),r.a.createElement("td",null,e.appTables.map(function(e){return e.name}).join(", ")),r.a.createElement("td",null,e.deleted?"Xong":"C\xf2n \u0111\u1eb7t"),r.a.createElement("td",null,!e.deleted&&r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{size:"sm",className:"mr-1",title:"Ch\u1ec9nh s\u1eeda",color:"warning",onClick:function(){return M(e)}},r.a.createElement("i",{className:"fas fa-pen"})),r.a.createElement(tt.a,{size:"sm",title:"\u0110\xe1nh d\u1ea5u \u0111\xe3 xong (H\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\xe1nh d\u1ea5u n\u1ebfu qu\xe1 gi\u1edd \u0111\u1eb7t 2 ti\u1ebfng)",color:"primary",onClick:function(){return H(e)}},r.a.createElement("i",{className:"fas fa-check"})))))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",className:"text-center"},"Kh\xf4ng c\xf3 b\xe0n n\xe0o \u0111\u01b0\u1ee3c \u0111\u1eb7t"))))))),r.a.createElement("div",{className:"flex-footer"},r.a.createElement(tt.a,{block:!0,onClick:function(){return M()},disabled:L>0,color:"warning"},"\u0110\u1eb7t b\xe0n ng\xe0y ",A))),r.a.createElement(Ic,{show:"EDIT"===v,toggle:function(){return M()},currentOrders:i,tables:a,date:f,reserving:k,handleAdd:function(e){u([].concat(Object(q.a)(i),[e])),0===L&&l()},handleEdit:P}),r.a.createElement(dc,{show:"DONE_CONFIRM"===v,toggle:function(){return H()},confirm:String(null===C||void 0===C?void 0:C.id),onAccept:F,title:"X\xe1c nh\u1eadn xong \u0111\u01a1n \u0111\u1eb7t b\xe0n"}))};function Lc(e){return e.sort(function(e,t){return e.name.localeCompare(t.name)})}var Bc=Object(fe.a)(function(){var e=Object(n.useState)("1"),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)({}),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)([]),E=Object(Ra.a)(g,2),v=E[0],O=E[1],y=Object(n.useState)([]),j=Object(Ra.a)(y,2),k=j[0],N=j[1],w=Object(n.useState)({}),x=Object(Ra.a)(w,2),C=x[0],S=x[1],T=Object(n.useState)({}),_=Object(Ra.a)(T,2),D=_[0],I=_[1],A=function(e){b(e.parent?e.parent:e)};function L(){return B.apply(this,arguments)}function B(){return(B=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update bill"),e.next=4,kl.getCurrentBills();case 4:t=e.sent,S(function(e){return Il.mergeBillData(e,t.data)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),un("T\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt d\u1eef li\u1ec7u h\xf3a \u0111\u01a1n th\u1ea5t b\u1ea1i:"+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function R(){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(m.a.mark(function e(){var t,a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update reserving orders"),e.next=4,Cl.getAllToday();case 4:t=e.sent,a=t.data.reduce(function(e,t){return t.appTables.forEach(function(a){return e[a.id]=t}),e},{}),I(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),un("L\u1ea5y d\u1eef li\u1ec7u \u0111\u1eb7t b\xe0n th\u1ea5t b\u1ea1i (".concat(null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message,")"));case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function F(){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update tables"),e.next=4,yl.getAll();case 4:t=e.sent,W(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),un("L\u1ea5y d\u1eef li\u1ec7u b\xe0n th\u1ea5t b\u1ea1i (".concat(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message,")"));case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function H(){return(H=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update foods"),e.next=4,sl.getAll();case 4:t=e.sent,N(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),un("L\u1ea5y d\u1eef li\u1ec7u m\xf3n \u0103n th\u1ea5t b\u1ea1i (".concat(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message,")"));case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}Object(n.useEffect)(function(){Promise.all([yl.getAll(),sl.getAll(),kl.getCurrentBillsByTable()]).then(function(e){var t=Object(Ra.a)(e,3),a=t[0],n=t[1],r=t[2],l=a.data;l.length&&(Lc(l),O(l),A(l[0])),N(n.data),S(r.data)}).catch(function(e){var t,a,n;return n="L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng t\u1ea3i l\u1ea1i trang:"+(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message),void le.b.error(n,ln)})},[]),Object(n.useEffect)(function(){var e=setInterval(L,6e4),t=setInterval(R,6e5);return function(){clearInterval(e),clearInterval(t)}},[]),Object(n.useEffect)(function(){R()},[]);var G=function(e){a!==e&&l(e)},K=function(e){u(function(t){return t?"":e})},W=function(e){Lc(e),O(e),b(function(t){return e.find(function(e){return e.id===t.id})})},Y=function(e){O(Lc(e))},Q=function(e){Y([].concat(Object(q.a)(v),[e]))},U=function(e){S(Object(s.a)({},C,{[f.id]:e}))},z=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.name,e.prev=1,e.next=4,sl.toggleAvailability(a);case 4:r=e.sent,N(k.map(function(e){return e.id===a?r.data:e})),S(Il.changeFoodInfo(C,r.data)),sn("Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i m\xf3n "+n+" th\xe0nh c\xf4ng"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),un("Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i m\xf3n "+n+" th\u1ea5t b\u1ea1i:"+(null===(l=e.t0.response)||void 0===l?void 0:null===(c=l.data)||void 0===c?void 0:c.message));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=C[f.id],n=_l.plusAmount(a,e,t,f);U(n)},X=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kl.saveOrUpdate(C[f.id]);case 3:t=e.sent,U(t.data),sn("L\u01b0u h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),un("L\u01b0u h\xf3a \u0111\u01a1n th\u1ea5t b\u1ea1i: "+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kl.hardDelete(C[f.id].id);case 3:t=Dl(C,f.id),S(t),O(fc(v,f.id)),sn("X\xf3a h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),un("X\xf3a h\xf3a \u0111\u01a1n th\u1ea5t b\u1ea1i: "+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,kl.preparePayment(C[f.id]);case 4:a=e.sent,U(a.data),sn("L\u01b0u th\xf4ng tin thanh to\xe1n th\xe0nh c\xf4ng"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),un("L\u01b0u th\xf4ng tin thanh to\xe1n th\u1ea5t b\u1ea1i: "+(null===(n=e.t0.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(m.a.mark(function e(){var t,a,n,r,l,c,o,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=f.id,e.next=4,kl.doPayment(C[t].id);case 4:a=e.sent,n=a.data,r=n.appTable,l=n.lastPrice,delete(c=Object(s.a)({},C))[t],S(c),O(v.map(function(e){var a;return(null===(a=e.parent)||void 0===a?void 0:a.id)===t?Object(s.a)({},e,{parent:null}):e})),K(""),sn("Thanh to\xe1n ".concat(r.name," b\xe0n c\xf4ng: ").concat(Tn(l))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),un("Thanh to\xe1n th\u1ea5t b\u1ea1i: "+(null===(o=e.t0.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.message));case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"px-3 view-container"},r.a.createElement(ge.a,{className:"view-header py-2"},r.a.createElement(Ee.a,{className:"d-flex justify-content-between align-items-center"},r.a.createElement(vl.a,{to:"/app/dashboard"},"\u276e ",r.a.createElement("strong",null," Tr\u1edf v\u1ec1")),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},r.a.createElement(tt.a,{title:"L\xe0m m\u1edbi d\u1eef li\u1ec7u",color:"secondary",outline:!0,onClick:function(){F(),function(){H.apply(this,arguments)}(),L(),R()}},r.a.createElement("i",{className:"fas fa-sync-alt"})),r.a.createElement("h4",{className:"mb-0"}," M\xe0n h\xecnh thu ng\xe2n")))),r.a.createElement(ge.a,{className:"view-content"},r.a.createElement(Ee.a,{md:"7"},r.a.createElement(vt.a,{tabs:!0,className:"bg-light"},r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"1"===a}),onClick:function(){return G("1")}},"B\xe0n (",f.name,")")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"2"===a}),onClick:function(){return G("2")}},"Menu")),r.a.createElement(gt.a,null,r.a.createElement(Et.a,{className:He()({active:"3"===a}),onClick:function(){return G("3")}},"\u0110\u1eb7t b\xe0n"))),r.a.createElement(En.a,{activeTab:a},r.a.createElement(vn.a,{tabId:"1"},r.a.createElement(oc,{currentTable:f,billsByTable:C,reservingByTable:D,refreshTables:F,handleSelectTable:A,handleAddTable:Q,handleUpdateTable:function(e){Y(v.map(function(t){return t.id===e.id?e:t})),b(e)},handleDeleteTable:function(e){O(v.filter(function(t){return t.id!==e})),A(v.length?v[0]:{})},handleRestoreTable:Q,tables:v})),r.a.createElement(vn.a,{tabId:"2"},r.a.createElement(sc,{foods:k,handleSelectFood:V,handleToggleAvailable:z})),r.a.createElement(vn.a,{tabId:"3"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ac,{tables:v,refreshReservingState:R,show:"3"===a})))))),r.a.createElement(Ee.a,{md:"5"},r.a.createElement(pc,{table:f,bill:C[f.id],isGrouping:v.some(function(e){var t;return(null===(t=e.parent)||void 0===t?void 0:t.id)===f.id}),handleClickOrderAmount:V,handleTypeOrderAmount:function(e,t){var a=C[f.id],n=_l.toAmount(a,e,t);U(n)},handleDeleteOrderDetail:function(e){var t=C[f.id],a=_l.removeFood(t,e);U(a)},handleSaveBill:X,handleDeleteBill:Z,toggleTableGroupingModal:function(){return K("TABLE_GROUPING")},toggleTableChangingModal:function(){return K("TABLE_CHANGING")},togglePaymentModal:function(){return K("PAYMENT")}})))),r.a.createElement(gc,{show:"TABLE_GROUPING"===i,toggle:function(){return K("TABLE_GROUPING")},tables:v,currentTable:f,billsByTable:C,updateTablesState:W}),r.a.createElement(Ec,{show:"TABLE_CHANGING"===i,toggle:function(){return K("TABLE_CHANGING")},tables:v,currentTable:f,billsByTable:C,handleChangeTable:function(e,t,a){var n=Object(s.a)({},C,{[a]:e});delete n[t],S(n),b(v.find(function(e){return e.id===a}))}}),r.a.createElement(wc,{show:"PAYMENT"===i,toggle:function(){return K("PAYMENT")},currentTable:f,bill:C[f.id],handleChangePaymentInfo:function(e){var t=e.name,a=e.value;U(Object(s.a)({},C[f.id],{[t]:a,unsaved:!0}))},handleSavePayment:J,handleDoPayment:$}))}),Rc=a(224);a(377);function Pc(e){return e.quantity-e.doneQuantity}var Fc=function(e){var t=e.order,a=e.handleSubmit,l=Object(n.useState)(2e3),c=Object(Ra.a)(l,2),o=c[0],i=c[1];Object(n.useEffect)(function(){var e=Pc(t);i(function(t){return t<e?t:e})},[t]);var s=hr(t.lastOrderTime),u=s<15?"success":s<30?"warning":"danger",m=s<15?"fa-hourglass-start":s<30?"fa-hourglass-half":"fa-hourglass-end",d=Pc(t);return r.a.createElement(Vn.a,{body:!0,inverse:!0,color:u,className:"chef-order-display"},r.a.createElement(Zn.a,{tag:"h5",className:"chef-order-display-header"},t.food.name," x ",d),r.a.createElement(Jn.a,{className:"chef-order-display-meta"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas "+m})," ",s," ph\xfat tr\u01b0\u1edbc"),r.a.createElement("span",null,"B\xe0n ",t.table)),r.a.createElement(uc.a,{className:"chef-order-display-btn-group"},r.a.createElement(tt.a,{disabled:0===o,onClick:function(){return i(o-1)},color:"light"},"-"),r.a.createElement(tt.a,{disabled:0===o,onClick:function(){a({billId:t.billId,foodId:t.food.id,processQuantity:o})},color:"light"},"Xong ",o,"/",d),r.a.createElement(tt.a,{disabled:o>=d,onClick:function(){return i(o+1)},color:"light"},"+")))},Mc=function(e){return e.map(function(e){var t=e.id,a=e.appTable;return e.billDetails.filter(function(e){var t=e.quantity;return e.doneQuantity<t}).map(function(e){return Object(s.a)({},e,{billId:t,table:a.name})})}).flat().sort(function(e,t){return new Date(e.lastOrderTime)-new Date(t.lastOrderTime)})},Hc=function(e){var t=e.reduce(function(e,t){var a=t.foodType.name,n=e[a]?e[a]:[];return n.push({value:t.id,label:t.name}),e[a]=n,e},{});console.log(t);var a=[];for(var n in t)a.push({label:n,options:t[n]});return a},Gc={display:"flex",alignItems:"center",justifyContent:"space-between"},qc={backgroundColor:"#EBECF0",borderRadius:"2em",color:"#172B4D",display:"inline-block",fontSize:12,fontWeight:"normal",lineHeight:"1",minWidth:1,padding:"0.16666666666667em 0.5em",textAlign:"center"},Kc=(a(378),function(e){return r.a.createElement("div",{style:Gc},r.a.createElement("span",null,e.label),r.a.createElement("span",{style:qc},e.options.length))}),Wc=function(){var e=Object(n.useState)([]),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(Ra.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)([]),h=Object(Ra.a)(u,2),p=h[0],f=h[1];function b(){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update bill"),e.next=4,kl.getCurrentBills();case 4:t=e.sent,l(Mc(t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),un("T\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt d\u1eef li\u1ec7u h\xf3a \u0111\u01a1n th\u1ea5t b\u1ea1i:"+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function E(){return(E=Object(d.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sl.getAll();case 3:t=e.sent,console.log(t.data),s(Hc(t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),un("L\u1ea5y d\u1eef li\u1ec7u m\xf3n \u0103n th\u1ea5t b\u1ea1i: "+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}Object(n.useEffect)(function(){b();var e=setInterval(b,3e4);return function(){clearInterval(e)}},[]),Object(n.useEffect)(function(){!function(){E.apply(this,arguments)}()},[]);var v=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kl.processFood(t);case 3:b(),sn("X\u1eed l\xfd \u0111\u01a1n h\xe0ng th\xe0nh c\xf4ng"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),un("X\u1eed l\xfd \u0111\u01a1n h\xe0ng th\u1ea5t b\u1ea1i: "+(null===(a=e.t0.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),O=a.filter(function(e){return!p.length||p.some(function(t){return t.value===e.food.id})});return r.a.createElement("div",{className:"px-3 chef-container"},r.a.createElement(ge.a,{className:"chef-header py-2"},r.a.createElement(Ee.a,null,r.a.createElement(vl.a,{to:"/app/dashboard"},"\u276e ",r.a.createElement("strong",null," Tr\u1edf v\u1ec1")),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},r.a.createElement(tt.a,{title:"L\xe0m m\u1edbi d\u1eef li\u1ec7u",color:"secondary",onClick:b,outline:!0},r.a.createElement("i",{className:"fas fa-sync-alt"})),r.a.createElement("h4",{className:"mb-0"}," M\xe0n h\xecnh b\u1ebfp")))),r.a.createElement(ge.a,{className:"chef-content"},r.a.createElement(Ee.a,null,r.a.createElement(Rc.a,{options:i,isMulti:!0,onChange:f,formatGroupLabel:Kc,placeholder:"T\xecm theo m\xf3n..."}),r.a.createElement("div",{className:"chef-order-container"},O.map(function(e){return r.a.createElement(Fc,{key:e.id,order:e,handleSubmit:v})}))),a.length!==O.length&&r.a.createElement("div",{className:"search-result"},"T\xecm \u0111\u01b0\u1ee3c ",O.length,"/",a.length," \u0111\u01a1n h\xe0ng")))},Yc=(a(387),function(e){var t=e.show,a=e.toggle,l=e.bill,c=Object(n.useRef)();return r.a.createElement(Ze.a,{className:"modal-lg modal-dialog-scrollable",isOpen:t,toggle:a},r.a.createElement(mn,{toggle:a},"H\xf3a \u0111\u01a1n ",l.id),r.a.createElement($e.a,{className:"bg-white"},r.a.createElement(Nc,Object.assign({},l,{ref:c,rawCost:Dn(l)}))),r.a.createElement(et.a,null,r.a.createElement(tt.a,{color:"light",onClick:a},"H\u1ee7y"),r.a.createElement(Oc.a,{trigger:function(){return r.a.createElement(tt.a,{color:"warning"},r.a.createElement("i",{className:"fas fa-print mr-2"})," In h\xf3a \u0111\u01a1n")},content:function(){return c.current}})))}),Qc=function(){var e=Object(n.useState)(!1),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(new Date),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)([]),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)({}),E=Object(Ra.a)(g,2),v=E[0],O=E[1];function y(){return(y=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,kl.getBillsByDate(t);case 4:a=e.sent,b(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(e){y.apply(this,arguments)}(i)},[i]);var j=function(e){var t=e.value;return ur(t)},k=function(e){var t=e.value;return _n(t)},N=f.map(function(e){return Object(s.a)({},e,{total:e.lastPrice+e.discount-e.surcharge,billId:e.id})}),w=[{Header:"M\xe3 h\xf3a \u0111\u01a1n",accessor:"billId",Cell:function(e){var t=e.value;return r.a.createElement("span",{title:t},t)}},{Header:"Gi\u1edd v\xe0o",accessor:"startTime",Cell:j},{Header:"Gi\u1edd ra",accessor:"payTime",Cell:j},{Header:"B\xe0n",accessor:"appTable",Cell:function(e){return e.value.name}},{Header:"Thu ng\xe2n",accessor:"staff",Cell:function(e){return e.value.fullname}},{Header:"Gi\xe1 tr\u1ecb (\u20ab)",accessor:"total",Cell:k},{Header:"Gi\u1ea3m gi\xe1 (\u20ab)",accessor:"discount",Cell:k},{Header:"Ph\u1ee5 thu (\u20ab)",accessor:"surcharge",Cell:k},{Header:"T\u1ed5ng ti\u1ec1n (\u20ab)",accessor:"lastPrice",Cell:k},{Header:"",accessor:"id",Cell:function(e){var t=e.value;return r.a.createElement(tt.a,{size:"sm",color:"warning",onClick:function(){return function(e){var t=f.find(function(t){return t.id===e});O(t||{})}(t)}},r.a.createElement("i",{className:"fa fa-eye"}))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"L\u1ecbch s\u1eed h\xf3a \u0111\u01a1n"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(en,{tableClassName:"bill-table",tableData:N,tableColumns:w},r.a.createElement(Ga.a,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(Cc.a,{dateFormat:"dd/MM/yyyy",className:"custom-date-picker form-control",selected:i,onChange:u,closeOnScroll:!0,todayButton:"Today"}),a?r.a.createElement("span",{className:"text-center ml-2"},"\u0110ang t\u1ea3i..."):f.length?null:r.a.createElement("span",{className:"text-center ml-2"},"Kh\xf4ng c\xf3 h\xf3a \u0111\u01a1n n\xe0o trong ng\xe0y n\xe0y"))))),r.a.createElement(Yc,{show:Boolean(v.id),toggle:function(){return O({})},bill:v}))},Uc=(a(388),function(){var e=Object(n.useState)(!1),t=Object(Ra.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(Ra.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)([]),p=Object(Ra.a)(h,2),f=p[0],b=p[1],g=Object(n.useState)({}),E=Object(Ra.a)(g,2),v=E[0],O=E[1];function y(){return(y=Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,kl.searchById(i);case 4:t=e.sent,a=t.data.map(function(e){return Object(s.a)({},e,{total:e.lastPrice+e.discount-e.surcharge,billId:e.id})}),console.log(a),b(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),on("L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i");case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}))).apply(this,arguments)}var j=function(e){var t=e.value;return ur(t)},k=function(e){var t=e.value;return _n(t)},N=[{Header:"M\xe3 h\xf3a \u0111\u01a1n",accessor:"billId",Cell:function(e){var t=e.value;return r.a.createElement("span",{title:t},t)}},{Header:"Gi\u1edd v\xe0o",accessor:"startTime",Cell:j},{Header:"Gi\u1edd ra",accessor:"payTime",Cell:j},{Header:"B\xe0n",accessor:"appTable",Cell:function(e){var t=e.value;return null===t||void 0===t?void 0:t.name}},{Header:"Thu ng\xe2n",accessor:"staff",Cell:function(e){var t=e.value;return null===t||void 0===t?void 0:t.fullname}},{Header:"Gi\xe1 tr\u1ecb (\u20ab)",accessor:"total",Cell:k},{Header:"Gi\u1ea3m gi\xe1 (\u20ab)",accessor:"discount",Cell:k},{Header:"Ph\u1ee5 thu (\u20ab)",accessor:"surcharge",Cell:k},{Header:"T\u1ed5ng ti\u1ec1n (\u20ab)",accessor:"lastPrice",Cell:k},{Header:"",accessor:"id",Cell:function(e){var t=e.value;return r.a.createElement(tt.a,{size:"sm",color:"warning",onClick:function(){return function(e){var t=f.find(function(t){return t.id===e});O(t||{})}(t)}},r.a.createElement("i",{className:"fa fa-eye"}))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h2",null,"T\xecm h\xf3a \u0111\u01a1n"))),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ga.a,{onSubmit:function(e){e.preventDefault(),function(){y.apply(this,arguments)}()},inline:!0,className:"bill-search-form"},r.a.createElement(qa.a,{className:"bill-search-form-group"},r.a.createElement(Wa.a,{required:!0,placeholder:"Nh\u1eadp m\xe3 h\xf3a \u0111\u01a1n...",value:i,onChange:function(e){return u(e.target.value)}}),r.a.createElement(tt.a,{color:"warning",type:"submit"},"T\xecm"))),r.a.createElement(en,{tableClassName:"bill-table",tableData:f,tableColumns:N},a?r.a.createElement("span",null,"\u0110ang t\xecm ki\u1ebfm..."):r.a.createElement("span",null,f.length?"".concat(f.length," k\u1ebft qu\u1ea3"):"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 n\xe0o tr\xf9ng kh\u1edbp")))),r.a.createElement(Yc,{show:Boolean(v.id),toggle:function(){return O({})},bill:v}))}),zc=a(437),Vc=a(210),Xc=Object(o.b)(function(e){return{role:e.auth.role}})(function(e){var t=e.component,a=e.role,n=e.permittedRoles,l=Object(Be.a)(e,["component","role","permittedRoles"]);return-1===n.indexOf(a)?r.a.createElement(zc.a,{to:"/app/dashboard"}):r.a.createElement(Vc.a,Object.assign({},l,{render:function(e){return r.a.createElement(t,e)}}))}),Zc=function(e){var t=Object(pe.a)({},e);return r.a.createElement(Xc,Object.assign({permittedRoles:["ADMIN"]},t))},Jc=function(e){var t=Object(pe.a)({},e);return r.a.createElement(Xc,Object.assign({permittedRoles:["ADMIN","CASHIER"]},t))},$c=function(e){var t=Object(pe.a)({},e);return r.a.createElement(Xc,Object.assign({permittedRoles:["ADMIN","CHEF"]},t))},eo=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(J.a)(this,Object($.a)(t).call(this,e))).handleSwipe=a.handleSwipe.bind(Object(de.a)(a)),a.handleCloseSidebar=a.handleCloseSidebar.bind(Object(de.a)(a)),a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"handleResize",value:function(){window.innerWidth<=768?this.props.dispatch(P()):window.innerWidth>=768&&this.props.dispatch(F())}},{key:"handleCloseSidebar",value:function(e){null==e.target.closest("#sidebar-drawer")&&this.props.sidebarOpened&&window.innerWidth<=768&&this.props.dispatch(P())}},{key:"handleSwipe",value:function(e){if("ontouchstart"in window){if(4===e.direction)return void this.props.dispatch(F());if(2===e.direction&&this.props.sidebarOpened)return void this.props.dispatch(M())}}},{key:"render",value:function(){var e=this,t=this.props.location.pathname;return"/app/cashier-view"===t?r.a.createElement(Jc,{path:"/app/cashier-view",component:Bc}):"/app/chef-view"===t?r.a.createElement($c,{path:"/app/chef-view",component:Wc}):r.a.createElement("div",{className:[xa.a.root,this.props.sidebarOpened?"":xa.a.sidebarClose,"flatlogic-one","dashboard-light"].join(" "),onClick:function(t){return e.handleCloseSidebar(t)}},r.a.createElement(Na,null),r.a.createElement("div",{className:xa.a.wrap},r.a.createElement(qt,null),r.a.createElement(be.a,{onSwipe:this.handleSwipe},r.a.createElement("main",{className:xa.a.content},r.a.createElement(te.a,null,r.a.createElement(ae.a,{path:"/app/dashboard",component:ft}),r.a.createElement(ae.a,{path:"/app/schedule",component:Tr}),r.a.createElement(ae.a,{path:"/app/salaries",component:zr}),r.a.createElement(Zc,{path:"/app/hr/staffs",component:An}),r.a.createElement(Zc,{path:"/app/hr/roles",component:Wn}),r.a.createElement(Zc,{path:"/app/hr/violations",component:Mr}),r.a.createElement(Zc,{path:"/app/menu/food-types",component:cl}),r.a.createElement(Zc,{path:"/app/menu/foods",component:El}),r.a.createElement(Jc,{path:"/app/bills/history",component:Qc}),r.a.createElement(Jc,{path:"/app/bills/search",component:Uc}),r.a.createElement(ae.a,{path:"/app/ui/charts",component:Ba}))))))}}]),t}(r.a.Component);Object(he.a)(eo,"defaultProps",{sidebarStatic:!0,sidebarOpened:!0});var to=Object(fe.a)(Object(o.b)(function(e){return{sidebarOpened:e.navigation.sidebarOpened,sidebarStatic:e.navigation.sidebarStatic}})(eo)),ao=a(439),no=a(118),ro=a.n(no),lo={isFetching:!1,username:"",password:"",errorMessage:""},co=function(e){function t(e){var a;return Object(X.a)(this,t),a=Object(J.a)(this,Object($.a)(t).call(this,e)),Object(he.a)(Object(de.a)(a),"doLogin",function(){var e=Object(d.a)(m.a.mark(function e(t){var n,r,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isFetching:!0}),e.prev=2,n=a.state,n.isFetching,n.errorMessage,r=Object(Be.a)(n,["isFetching","errorMessage"]),e.next=6,g(r);case 6:l=e.sent,a.props.loginSuccess(l.data.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({errorMessage:"T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c",isFetching:!1});case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()),Object(he.a)(Object(de.a)(a),"handleChange",function(e){var t=e.target;a.setState({[t.name]:t.value})}),a.state=lo,a}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(zc.a,{to:"/app"}):r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:ro.a.bgLogo},r.a.createElement("img",{src:ja.a,alt:"signin",className:"login-logo"})),r.a.createElement(lt,{className:"widget-auth my-auto ".concat(ro.a.authForm),title:r.a.createElement("h3",{className:"mt-0 mb-2",style:{fontSize:40}},"\u0110\u0103ng nh\u1eadp")},r.a.createElement("p",{className:"widget-auth-info"},"Nh\u1eadp t\xe0i kho\u1ea3n v\xe0 m\u1eadt kh\u1ea9u \u0111\u1ec3 \u0111\u0103ng nh\u1eadp v\xe0o h\u1ec7 th\u1ed1ng"),r.a.createElement("form",{className:"mt",onSubmit:this.doLogin},this.state.errorMessage&&r.a.createElement(ao.a,{className:"alert-sm",color:"danger"},this.state.errorMessage),r.a.createElement(qa.a,null,r.a.createElement(Ka.a,{for:"search-input1"},"T\xe0i kho\u1ea3n"),r.a.createElement(Wa.a,{value:this.state.username,onChange:this.handleChange,required:!0,name:"username",placeholder:"Nh\u1eadp t\xe0i kho\u1ea3n"})),r.a.createElement(qa.a,{className:"mb-2"},r.a.createElement(Ka.a,{for:"search-input1"},"M\u1eadt kh\u1ea9u"),r.a.createElement(Wa.a,{value:this.state.password,onChange:this.handleChange,type:"password",required:!0,name:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u"})),r.a.createElement(tt.a,{type:"submit",color:"warning",className:"auth-btn my-3",size:"sm"},this.props.isFetching?"\u0110ang t\u1ea3i...":"\u0110ang nh\u1eadp"),r.a.createElement("footer",{className:ro.a.footer},(new Date).getFullYear()," \xa9 One React - React Admin Dashboard Template Made by \xa0",r.a.createElement("a",{href:"https://flatlogic.com",rel:"noopener noreferrer",target:"_blank"},"Flatlogic LLC")))))}}]),t}(r.a.Component);var oo=Object(Kt.a)(Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{loginSuccess:function(e){return function(t){t({type:v,payload:e})}}})(co)),io=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{logoutRequest:function(){return function(e){e(N())}}})(function(e){var t=e.isAuthenticated,a=e.logoutRequest,n=(e.dispatch,e.component),l=Object(Be.a)(e,["isAuthenticated","logoutRequest","dispatch","component"]);return t?r.a.createElement(ae.a,Object.assign({},l,{render:function(e){return r.a.createElement(n,e)}})):(a(),r.a.createElement(ne.a,{to:"/sign-in"}))}),so=(a(389),function(e){var t=e.message,a=e.children;return r.a.createElement("div",{className:"error-fallback"},r.a.createElement("h4",null,"Nh\xe0 h\xe0ng Super Pig"),r.a.createElement("p",{className:"main-message"},t),a)}),uo=(a(390),a(391),function(e){var t=e.closeToast;return r.a.createElement("i",{onClick:t,className:"la la-close notifications-close"})}),mo=function(e){function t(){return Object(X.a)(this,t),Object(J.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.initApp,a=e.shouldRetry;return t?r.a.createElement(so,{message:"\u0110ang t\u1ea3i..."}):a?r.a.createElement(so,{message:"S\u1ef1 c\u1ed1 k\u1ebft n\u1ed1i v\u1edbi m\xe1y ch\u1ee7..."},r.a.createElement("span",null,"H\u1ec7 th\u1ed1ng s\u1ebd th\u1eed k\u1ebft n\u1ed1i l\u1ea1i sau 30s ho\u1eb7c vui l\xf2ng b\u1ea5m F5 \u0111\u1ec3 t\u1ea3i l\u1ea1i trang")):r.a.createElement("div",null,r.a.createElement(le.a,{autoClose:5e3,hideProgressBar:!0,closeButton:r.a.createElement(uo,null)}),r.a.createElement(re.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,{path:"/",exact:!0,render:function(){return r.a.createElement(ne.a,{to:"/app/dashboard"})}}),r.a.createElement(ae.a,{path:"/app",exact:!0,render:function(){return r.a.createElement(ne.a,{to:"/app/dashboard"})}}),r.a.createElement(io,{path:"/app",component:to}),r.a.createElement(ae.a,{path:"/sign-in",exact:!0,component:oo}),r.a.createElement(ae.a,{path:"/error",exact:!0,component:me}),r.a.createElement(ae.a,{component:me}))))}}]),t}(r.a.PureComponent),ho=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,initApp:e.auth.initApp,shouldRetry:e.auth.shouldRetry}})(mo);c.a.render(r.a.createElement(o.a,{store:V},r.a.createElement(ho,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,a){e.exports={modalTable:"SalaryDetailModal_modalTable__PMpDh",tableRow:"SalaryDetailModal_tableRow__3fO4U",tableRowRight:"SalaryDetailModal_tableRowRight__8T-8Y",modalInfo:"SalaryDetailModal_modalInfo__3e-ob"}},53:function(e,t,a){e.exports={roleName:"RoleManager_roleName__3115S",roleCode:"RoleManager_roleCode__1LCVM"}},57:function(e,t,a){e.exports=a.p+"tables/media/stocks.bd347da1.svg"},76:function(e,t,a){e.exports={errorPage:"ErrorPage_errorPage__13LPT",errorContainer:"ErrorPage_errorContainer__2f-MP",errorBtn:"ErrorPage_errorBtn__3JIw5",errorCode:"ErrorPage_errorCode__1yeFP",errorInfo:"ErrorPage_errorInfo__3IUPW",errorHelp:"ErrorPage_errorHelp__2_VWY",pageFooter:"ErrorPage_pageFooter__3vfcO"}},77:function(e,t,a){e.exports={listGroup:"ListGroup_listGroup__2pk43",listGroupAccount:"ListGroup_listGroupAccount__2x49y",listGroupItem:"ListGroup_listGroupItem__2jUQ0",listGroupTime:"ListGroup_listGroupTime__NMJOS",listGroupTitle:"ListGroup_listGroupTitle__z4Td8",listGroupTitleAccount:"ListGroup_listGroupTitleAccount__mir7q",listGroupSubtitle:"ListGroup_listGroupSubtitle__wuBNj",listGroupSubtitleAccount:"ListGroup_listGroupSubtitleAccount__1QFoe",messagesBadge:"ListGroup_messagesBadge__2pPup",seeMore:"ListGroup_seeMore__32TXj",seeMoreBlock:"ListGroup_seeMoreBlock__6tlNz",listGroupItemAccount:"ListGroup_listGroupItemAccount__2BJO-",notificationIcon:"ListGroup_notificationIcon__139-V"}},78:function(e,t,a){e.exports={restoreTable:"RestoreStaffModal_restoreTable__1k464",tableRow:"RestoreStaffModal_tableRow__2LD6p"}},79:function(e,t,a){e.exports={detailsContainer:"EditScheduleModal_detailsContainer__k-T4O",detailsForm:"EditScheduleModal_detailsForm__3bkZd",show:"EditScheduleModal_show__3Olw7",closeBtn:"EditScheduleModal_closeBtn__3qzhi",scheduleTable:"EditScheduleModal_scheduleTable__2Ya_s"}},80:function(e,t,a){e.exports={restoreTable:"RestoreFoodModal_restoreTable__2RZgj",tableRow:"RestoreFoodModal_tableRow__2DDvq"}},87:function(e,t,a){e.exports={root:"Layout_root__3g2O7",wrap:"Layout_wrap__3ZG1l",sidebarClose:"Layout_sidebarClose__U_FEj",sidebarStatic:"Layout_sidebarStatic__3rN5E",content:"Layout_content__2n7Rt",contentFooter:"Layout_contentFooter__bGJul"}},96:function(e,t,a){e.exports=a.p+"tables/media/logout.575f587e.svg"},97:function(e,t,a){e.exports=a.p+"tables/media/account.83542cf8.svg"}},[[228,1,2]]]);